(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function Cl(e,t){const n=new Set(e.split(","));return t?r=>n.has(r.toLowerCase()):r=>n.has(r)}const wt={},vr=[],Ae=()=>{},Cg=()=>!1,lo=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),Sl=e=>e.startsWith("onUpdate:"),kt=Object.assign,Pl=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},Sg=Object.prototype.hasOwnProperty,it=(e,t)=>Sg.call(e,t),H=Array.isArray,Er=e=>Ws(e)==="[object Map]",jr=e=>Ws(e)==="[object Set]",lu=e=>Ws(e)==="[object Date]",Z=e=>typeof e=="function",Ot=e=>typeof e=="string",Pn=e=>typeof e=="symbol",Et=e=>e!==null&&typeof e=="object",If=e=>(Et(e)||Z(e))&&Z(e.then)&&Z(e.catch),Af=Object.prototype.toString,Ws=e=>Af.call(e),Pg=e=>Ws(e).slice(8,-1),Rf=e=>Ws(e)==="[object Object]",bl=e=>Ot(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Pi=Cl(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),co=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},bg=/-(\w)/g,Ge=co(e=>e.replace(bg,(t,n)=>n?n.toUpperCase():"")),Vg=/\B([A-Z])/g,er=co(e=>e.replace(Vg,"-$1").toLowerCase()),uo=co(e=>e.charAt(0).toUpperCase()+e.slice(1)),ra=co(e=>e?`on${uo(e)}`:""),bn=(e,t)=>!Object.is(e,t),bi=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},Li=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},Fi=e=>{const t=parseFloat(e);return isNaN(t)?e:t},Dg=e=>{const t=Ot(e)?Number(e):NaN;return isNaN(t)?e:t};let cu;const Cf=()=>cu||(cu=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function me(e){if(H(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],s=Ot(r)?Og(r):me(r);if(s)for(const i in s)t[i]=s[i]}return t}else if(Ot(e)||Et(e))return e}const xg=/;(?![^(]*\))/g,Ng=/:([^]+)/,kg=/\/\*[^]*?\*\//g;function Og(e){const t={};return e.replace(kg,"").split(xg).forEach(n=>{if(n){const r=n.split(Ng);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}function Qs(e){let t="";if(Ot(e))t=e;else if(H(e))for(let n=0;n<e.length;n++){const r=Qs(e[n]);r&&(t+=r+" ")}else if(Et(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const Mg="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Lg=Cl(Mg);function Sf(e){return!!e||e===""}function Fg(e,t){if(e.length!==t.length)return!1;let n=!0;for(let r=0;n&&r<e.length;r++)n=Ys(e[r],t[r]);return n}function Ys(e,t){if(e===t)return!0;let n=lu(e),r=lu(t);if(n||r)return n&&r?e.getTime()===t.getTime():!1;if(n=Pn(e),r=Pn(t),n||r)return e===t;if(n=H(e),r=H(t),n||r)return n&&r?Fg(e,t):!1;if(n=Et(e),r=Et(t),n||r){if(!n||!r)return!1;const s=Object.keys(e).length,i=Object.keys(t).length;if(s!==i)return!1;for(const o in e){const a=e.hasOwnProperty(o),l=t.hasOwnProperty(o);if(a&&!l||!a&&l||!Ys(e[o],t[o]))return!1}}return String(e)===String(t)}function Vl(e,t){return e.findIndex(n=>Ys(n,t))}const Vi=e=>Ot(e)?e:e==null?"":H(e)||Et(e)&&(e.toString===Af||!Z(e.toString))?JSON.stringify(e,Pf,2):String(e),Pf=(e,t)=>t&&t.__v_isRef?Pf(e,t.value):Er(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[r,s],i)=>(n[sa(r,i)+" =>"]=s,n),{})}:jr(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>sa(n))}:Pn(t)?sa(t):Et(t)&&!H(t)&&!Rf(t)?String(t):t,sa=(e,t="")=>{var n;return Pn(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};let ye;class Bg{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=ye,!t&&ye&&(this.index=(ye.scopes||(ye.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const n=ye;try{return ye=this,t()}finally{ye=n}}}on(){ye=this}off(){ye=this.parent}stop(t){if(this._active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!t){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0,this._active=!1}}}function Ug(e,t=ye){t&&t.active&&t.effects.push(e)}function bf(){return ye}function $g(e){ye&&ye.cleanups.push(e)}let Kn;class Dl{constructor(t,n,r,s){this.fn=t,this.trigger=n,this.scheduler=r,this.active=!0,this.deps=[],this._dirtyLevel=3,this._trackId=0,this._runnings=0,this._queryings=0,this._depsLength=0,Ug(this,s)}get dirty(){if(this._dirtyLevel===1){this._dirtyLevel=0,this._queryings++,nr();for(const t of this.deps)if(t.computed&&(jg(t.computed),this._dirtyLevel>=2))break;rr(),this._queryings--}return this._dirtyLevel>=2}set dirty(t){this._dirtyLevel=t?3:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let t=wn,n=Kn;try{return wn=!0,Kn=this,this._runnings++,uu(this),this.fn()}finally{hu(this),this._runnings--,Kn=n,wn=t}}stop(){var t;this.active&&(uu(this),hu(this),(t=this.onStop)==null||t.call(this),this.active=!1)}}function jg(e){return e.value}function uu(e){e._trackId++,e._depsLength=0}function hu(e){if(e.deps&&e.deps.length>e._depsLength){for(let t=e._depsLength;t<e.deps.length;t++)Vf(e.deps[t],e);e.deps.length=e._depsLength}}function Vf(e,t){const n=e.get(t);n!==void 0&&t._trackId!==n&&(e.delete(t),e.size===0&&e.cleanup())}let wn=!0,xa=0;const Df=[];function nr(){Df.push(wn),wn=!1}function rr(){const e=Df.pop();wn=e===void 0?!0:e}function xl(){xa++}function Nl(){for(xa--;!xa&&Na.length;)Na.shift()()}function xf(e,t,n){if(t.get(e)!==e._trackId){t.set(e,e._trackId);const r=e.deps[e._depsLength];r!==t?(r&&Vf(r,e),e.deps[e._depsLength++]=t):e._depsLength++}}const Na=[];function Nf(e,t,n){xl();for(const r of e.keys())if(!(!r.allowRecurse&&r._runnings)&&r._dirtyLevel<t&&(!r._runnings||t!==2)){const s=r._dirtyLevel;r._dirtyLevel=t,s===0&&(!r._queryings||t!==2)&&(r.trigger(),r.scheduler&&Na.push(r.scheduler))}Nl()}const kf=(e,t)=>{const n=new Map;return n.cleanup=e,n.computed=t,n},ka=new WeakMap,zn=Symbol(""),Oa=Symbol("");function ge(e,t,n){if(wn&&Kn){let r=ka.get(e);r||ka.set(e,r=new Map);let s=r.get(n);s||r.set(n,s=kf(()=>r.delete(n))),xf(Kn,s)}}function nn(e,t,n,r,s,i){const o=ka.get(e);if(!o)return;let a=[];if(t==="clear")a=[...o.values()];else if(n==="length"&&H(e)){const l=Number(r);o.forEach((c,u)=>{(u==="length"||!Pn(u)&&u>=l)&&a.push(c)})}else switch(n!==void 0&&a.push(o.get(n)),t){case"add":H(e)?bl(n)&&a.push(o.get("length")):(a.push(o.get(zn)),Er(e)&&a.push(o.get(Oa)));break;case"delete":H(e)||(a.push(o.get(zn)),Er(e)&&a.push(o.get(Oa)));break;case"set":Er(e)&&a.push(o.get(zn));break}xl();for(const l of a)l&&Nf(l,3);Nl()}const qg=Cl("__proto__,__v_isRef,__isVue"),Of=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Pn)),fu=Hg();function Hg(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...n){const r=at(this);for(let i=0,o=this.length;i<o;i++)ge(r,"get",i+"");const s=r[t](...n);return s===-1||s===!1?r[t](...n.map(at)):s}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...n){nr(),xl();const r=at(this)[t].apply(this,n);return Nl(),rr(),r}}),e}function Kg(e){const t=at(this);return ge(t,"has",e),t.hasOwnProperty(e)}class Mf{constructor(t=!1,n=!1){this._isReadonly=t,this._shallow=n}get(t,n,r){const s=this._isReadonly,i=this._shallow;if(n==="__v_isReactive")return!s;if(n==="__v_isReadonly")return s;if(n==="__v_isShallow")return i;if(n==="__v_raw")return r===(s?i?s_:Uf:i?Bf:Ff).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(r)?t:void 0;const o=H(t);if(!s){if(o&&it(fu,n))return Reflect.get(fu,n,r);if(n==="hasOwnProperty")return Kg}const a=Reflect.get(t,n,r);return(Pn(n)?Of.has(n):qg(n))||(s||ge(t,"get",n),i)?a:oe(a)?o&&bl(n)?a:a.value:Et(a)?s?Ml(a):fo(a):a}}class Lf extends Mf{constructor(t=!1){super(!1,t)}set(t,n,r,s){let i=t[n];if(!this._shallow){const l=Pr(i);if(!_r(r)&&!Pr(r)&&(i=at(i),r=at(r)),!H(t)&&oe(i)&&!oe(r))return l?!1:(i.value=r,!0)}const o=H(t)&&bl(n)?Number(n)<t.length:it(t,n),a=Reflect.set(t,n,r,s);return t===at(s)&&(o?bn(r,i)&&nn(t,"set",n,r):nn(t,"add",n,r)),a}deleteProperty(t,n){const r=it(t,n);t[n];const s=Reflect.deleteProperty(t,n);return s&&r&&nn(t,"delete",n,void 0),s}has(t,n){const r=Reflect.has(t,n);return(!Pn(n)||!Of.has(n))&&ge(t,"has",n),r}ownKeys(t){return ge(t,"iterate",H(t)?"length":zn),Reflect.ownKeys(t)}}class zg extends Mf{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const Gg=new Lf,Wg=new zg,Qg=new Lf(!0),kl=e=>e,ho=e=>Reflect.getPrototypeOf(e);function fi(e,t,n=!1,r=!1){e=e.__v_raw;const s=at(e),i=at(t);n||(bn(t,i)&&ge(s,"get",t),ge(s,"get",i));const{has:o}=ho(s),a=r?kl:n?Fl:Is;if(o.call(s,t))return a(e.get(t));if(o.call(s,i))return a(e.get(i));e!==s&&e.get(t)}function di(e,t=!1){const n=this.__v_raw,r=at(n),s=at(e);return t||(bn(e,s)&&ge(r,"has",e),ge(r,"has",s)),e===s?n.has(e):n.has(e)||n.has(s)}function pi(e,t=!1){return e=e.__v_raw,!t&&ge(at(e),"iterate",zn),Reflect.get(e,"size",e)}function du(e){e=at(e);const t=at(this);return ho(t).has.call(t,e)||(t.add(e),nn(t,"add",e,e)),this}function pu(e,t){t=at(t);const n=at(this),{has:r,get:s}=ho(n);let i=r.call(n,e);i||(e=at(e),i=r.call(n,e));const o=s.call(n,e);return n.set(e,t),i?bn(t,o)&&nn(n,"set",e,t):nn(n,"add",e,t),this}function mu(e){const t=at(this),{has:n,get:r}=ho(t);let s=n.call(t,e);s||(e=at(e),s=n.call(t,e)),r&&r.call(t,e);const i=t.delete(e);return s&&nn(t,"delete",e,void 0),i}function gu(){const e=at(this),t=e.size!==0,n=e.clear();return t&&nn(e,"clear",void 0,void 0),n}function mi(e,t){return function(r,s){const i=this,o=i.__v_raw,a=at(o),l=t?kl:e?Fl:Is;return!e&&ge(a,"iterate",zn),o.forEach((c,u)=>r.call(s,l(c),l(u),i))}}function gi(e,t,n){return function(...r){const s=this.__v_raw,i=at(s),o=Er(i),a=e==="entries"||e===Symbol.iterator&&o,l=e==="keys"&&o,c=s[e](...r),u=n?kl:t?Fl:Is;return!t&&ge(i,"iterate",l?Oa:zn),{next(){const{value:h,done:f}=c.next();return f?{value:h,done:f}:{value:a?[u(h[0]),u(h[1])]:u(h),done:f}},[Symbol.iterator](){return this}}}}function hn(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function Yg(){const e={get(i){return fi(this,i)},get size(){return pi(this)},has:di,add:du,set:pu,delete:mu,clear:gu,forEach:mi(!1,!1)},t={get(i){return fi(this,i,!1,!0)},get size(){return pi(this)},has:di,add:du,set:pu,delete:mu,clear:gu,forEach:mi(!1,!0)},n={get(i){return fi(this,i,!0)},get size(){return pi(this,!0)},has(i){return di.call(this,i,!0)},add:hn("add"),set:hn("set"),delete:hn("delete"),clear:hn("clear"),forEach:mi(!0,!1)},r={get(i){return fi(this,i,!0,!0)},get size(){return pi(this,!0)},has(i){return di.call(this,i,!0)},add:hn("add"),set:hn("set"),delete:hn("delete"),clear:hn("clear"),forEach:mi(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(i=>{e[i]=gi(i,!1,!1),n[i]=gi(i,!0,!1),t[i]=gi(i,!1,!0),r[i]=gi(i,!0,!0)}),[e,n,t,r]}const[Xg,Jg,Zg,t_]=Yg();function Ol(e,t){const n=t?e?t_:Zg:e?Jg:Xg;return(r,s,i)=>s==="__v_isReactive"?!e:s==="__v_isReadonly"?e:s==="__v_raw"?r:Reflect.get(it(n,s)&&s in r?n:r,s,i)}const e_={get:Ol(!1,!1)},n_={get:Ol(!1,!0)},r_={get:Ol(!0,!1)},Ff=new WeakMap,Bf=new WeakMap,Uf=new WeakMap,s_=new WeakMap;function i_(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function o_(e){return e.__v_skip||!Object.isExtensible(e)?0:i_(Pg(e))}function fo(e){return Pr(e)?e:Ll(e,!1,Gg,e_,Ff)}function $f(e){return Ll(e,!1,Qg,n_,Bf)}function Ml(e){return Ll(e,!0,Wg,r_,Uf)}function Ll(e,t,n,r,s){if(!Et(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const i=s.get(e);if(i)return i;const o=o_(e);if(o===0)return e;const a=new Proxy(e,o===2?r:n);return s.set(e,a),a}function Tr(e){return Pr(e)?Tr(e.__v_raw):!!(e&&e.__v_isReactive)}function Pr(e){return!!(e&&e.__v_isReadonly)}function _r(e){return!!(e&&e.__v_isShallow)}function jf(e){return Tr(e)||Pr(e)}function at(e){const t=e&&e.__v_raw;return t?at(t):e}function qf(e){return Li(e,"__v_skip",!0),e}const Is=e=>Et(e)?fo(e):e,Fl=e=>Et(e)?Ml(e):e;class Hf{constructor(t,n,r,s){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new Dl(()=>t(this._value),()=>Ma(this,1)),this.effect.computed=this,this.effect.active=this._cacheable=!s,this.__v_isReadonly=r}get value(){const t=at(this);return Kf(t),(!t._cacheable||t.effect.dirty)&&bn(t._value,t._value=t.effect.run())&&Ma(t,2),t._value}set value(t){this._setter(t)}get _dirty(){return this.effect.dirty}set _dirty(t){this.effect.dirty=t}}function a_(e,t,n=!1){let r,s;const i=Z(e);return i?(r=e,s=Ae):(r=e.get,s=e.set),new Hf(r,s,i||!s,n)}function Kf(e){wn&&Kn&&(e=at(e),xf(Kn,e.dep||(e.dep=kf(()=>e.dep=void 0,e instanceof Hf?e:void 0))))}function Ma(e,t=3,n){e=at(e);const r=e.dep;r&&Nf(r,t)}function oe(e){return!!(e&&e.__v_isRef===!0)}function sr(e){return zf(e,!1)}function l_(e){return zf(e,!0)}function zf(e,t){return oe(e)?e:new c_(e,t)}class c_{constructor(t,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?t:at(t),this._value=n?t:Is(t)}get value(){return Kf(this),this._value}set value(t){const n=this.__v_isShallow||_r(t)||Pr(t);t=n?t:at(t),bn(t,this._rawValue)&&(this._rawValue=t,this._value=n?t:Is(t),Ma(this,3))}}function jt(e){return oe(e)?e.value:e}const u_={get:(e,t,n)=>jt(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const s=e[t];return oe(s)&&!oe(n)?(s.value=n,!0):Reflect.set(e,t,n,r)}};function Gf(e){return Tr(e)?e:new Proxy(e,u_)}function In(e,t,n,r){let s;try{s=r?e(...r):e()}catch(i){po(i,t,n)}return s}function Re(e,t,n,r){if(Z(e)){const i=In(e,t,n,r);return i&&If(i)&&i.catch(o=>{po(o,t,n)}),i}const s=[];for(let i=0;i<e.length;i++)s.push(Re(e[i],t,n,r));return s}function po(e,t,n,r=!0){const s=t?t.vnode:null;if(t){let i=t.parent;const o=t.proxy,a=`https://vuejs.org/errors/#runtime-${n}`;for(;i;){const c=i.ec;if(c){for(let u=0;u<c.length;u++)if(c[u](e,o,a)===!1)return}i=i.parent}const l=t.appContext.config.errorHandler;if(l){In(l,null,10,[e,o,a]);return}}h_(e,n,s,r)}function h_(e,t,n,r=!0){console.error(e)}let As=!1,La=!1;const re=[];let Ue=0;const wr=[];let Ze=null,Un=0;const Wf=Promise.resolve();let Bl=null;function Qf(e){const t=Bl||Wf;return e?t.then(this?e.bind(this):e):t}function f_(e){let t=Ue+1,n=re.length;for(;t<n;){const r=t+n>>>1,s=re[r],i=Rs(s);i<e||i===e&&s.pre?t=r+1:n=r}return t}function Ul(e){(!re.length||!re.includes(e,As&&e.allowRecurse?Ue+1:Ue))&&(e.id==null?re.push(e):re.splice(f_(e.id),0,e),Yf())}function Yf(){!As&&!La&&(La=!0,Bl=Wf.then(Jf))}function d_(e){const t=re.indexOf(e);t>Ue&&re.splice(t,1)}function p_(e){H(e)?wr.push(...e):(!Ze||!Ze.includes(e,e.allowRecurse?Un+1:Un))&&wr.push(e),Yf()}function _u(e,t,n=As?Ue+1:0){for(;n<re.length;n++){const r=re[n];if(r&&r.pre){if(e&&r.id!==e.uid)continue;re.splice(n,1),n--,r()}}}function Xf(e){if(wr.length){const t=[...new Set(wr)];if(wr.length=0,Ze){Ze.push(...t);return}for(Ze=t,Ze.sort((n,r)=>Rs(n)-Rs(r)),Un=0;Un<Ze.length;Un++)Ze[Un]();Ze=null,Un=0}}const Rs=e=>e.id==null?1/0:e.id,m_=(e,t)=>{const n=Rs(e)-Rs(t);if(n===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return n};function Jf(e){La=!1,As=!0,re.sort(m_);try{for(Ue=0;Ue<re.length;Ue++){const t=re[Ue];t&&t.active!==!1&&In(t,null,14)}}finally{Ue=0,re.length=0,Xf(),As=!1,Bl=null,(re.length||wr.length)&&Jf()}}function g_(e,t,...n){if(e.isUnmounted)return;const r=e.vnode.props||wt;let s=n;const i=t.startsWith("update:"),o=i&&t.slice(7);if(o&&o in r){const u=`${o==="modelValue"?"model":o}Modifiers`,{number:h,trim:f}=r[u]||wt;f&&(s=n.map(m=>Ot(m)?m.trim():m)),h&&(s=n.map(Fi))}let a,l=r[a=ra(t)]||r[a=ra(Ge(t))];!l&&i&&(l=r[a=ra(er(t))]),l&&Re(l,e,6,s);const c=r[a+"Once"];if(c){if(!e.emitted)e.emitted={};else if(e.emitted[a])return;e.emitted[a]=!0,Re(c,e,6,s)}}function Zf(e,t,n=!1){const r=t.emitsCache,s=r.get(e);if(s!==void 0)return s;const i=e.emits;let o={},a=!1;if(!Z(e)){const l=c=>{const u=Zf(c,t,!0);u&&(a=!0,kt(o,u))};!n&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!i&&!a?(Et(e)&&r.set(e,null),null):(H(i)?i.forEach(l=>o[l]=null):kt(o,i),Et(e)&&r.set(e,o),o)}function mo(e,t){return!e||!lo(t)?!1:(t=t.slice(2).replace(/Once$/,""),it(e,t[0].toLowerCase()+t.slice(1))||it(e,er(t))||it(e,t))}let Qt=null,go=null;function Bi(e){const t=Qt;return Qt=e,go=e&&e.type.__scopeId||null,t}function $l(e){go=e}function jl(){go=null}function ve(e,t=Qt,n){if(!t||e._n)return e;const r=(...s)=>{r._d&&bu(-1);const i=Bi(t);let o;try{o=e(...s)}finally{Bi(i),r._d&&bu(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function ia(e){const{type:t,vnode:n,proxy:r,withProxy:s,props:i,propsOptions:[o],slots:a,attrs:l,emit:c,render:u,renderCache:h,data:f,setupState:m,ctx:v,inheritAttrs:w}=e;let I,S;const N=Bi(e);try{if(n.shapeFlag&4){const G=s||r,U=G;I=Be(u.call(U,G,h,i,m,f,v)),S=l}else{const G=t;I=Be(G.length>1?G(i,{attrs:l,slots:a,emit:c}):G(i,null)),S=t.props?l:__(l)}}catch(G){ms.length=0,po(G,e,1),I=et(Ce)}let L=I;if(S&&w!==!1){const G=Object.keys(S),{shapeFlag:U}=L;G.length&&U&7&&(o&&G.some(Sl)&&(S=y_(S,o)),L=Vn(L,S))}return n.dirs&&(L=Vn(L),L.dirs=L.dirs?L.dirs.concat(n.dirs):n.dirs),n.transition&&(L.transition=n.transition),I=L,Bi(N),I}const __=e=>{let t;for(const n in e)(n==="class"||n==="style"||lo(n))&&((t||(t={}))[n]=e[n]);return t},y_=(e,t)=>{const n={};for(const r in e)(!Sl(r)||!(r.slice(9)in t))&&(n[r]=e[r]);return n};function v_(e,t,n){const{props:r,children:s,component:i}=e,{props:o,children:a,patchFlag:l}=t,c=i.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return r?yu(r,o,c):!!o;if(l&8){const u=t.dynamicProps;for(let h=0;h<u.length;h++){const f=u[h];if(o[f]!==r[f]&&!mo(c,f))return!0}}}else return(s||a)&&(!a||!a.$stable)?!0:r===o?!1:r?o?yu(r,o,c):!0:!!o;return!1}function yu(e,t,n){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let s=0;s<r.length;s++){const i=r[s];if(t[i]!==e[i]&&!mo(n,i))return!0}return!1}function E_({vnode:e,parent:t},n){if(n)for(;t;){const r=t.subTree;if(r.suspense&&r.suspense.activeBranch===e&&(r.el=e.el),r===e)(e=t.vnode).el=n,t=t.parent;else break}}const td="components";function ql(e,t){return w_(td,e,!0,t)||e}const T_=Symbol.for("v-ndc");function w_(e,t,n=!0,r=!1){const s=Qt||$t;if(s){const i=s.type;if(e===td){const a=gy(i,!1);if(a&&(a===t||a===Ge(t)||a===uo(Ge(t))))return i}const o=vu(s[e]||i[e],t)||vu(s.appContext[e],t);return!o&&r?i:o}}function vu(e,t){return e&&(e[t]||e[Ge(t)]||e[uo(Ge(t))])}const I_=e=>e.__isSuspense;function A_(e,t){t&&t.pendingBranch?H(e)?t.effects.push(...e):t.effects.push(e):p_(e)}const R_=Symbol.for("v-scx"),C_=()=>Ve(R_),_i={};function Ir(e,t,n){return ed(e,t,n)}function ed(e,t,{immediate:n,deep:r,flush:s,once:i,onTrack:o,onTrigger:a}=wt){var l;if(t&&i){const U=t;t=(...ut)=>{U(...ut),G()}}const c=bf()===((l=$t)==null?void 0:l.scope)?$t:null;let u,h=!1,f=!1;if(oe(e)?(u=()=>e.value,h=_r(e)):Tr(e)?(u=_r(e)||r===!1?()=>tn(e,1):()=>tn(e),h=!0):H(e)?(f=!0,h=e.some(U=>Tr(U)||_r(U)),u=()=>e.map(U=>{if(oe(U))return U.value;if(Tr(U))return tn(U,_r(U)||r===!1?1:void 0);if(Z(U))return In(U,c,2)})):Z(e)?t?u=()=>In(e,c,2):u=()=>{if(!(c&&c.isUnmounted))return m&&m(),Re(e,c,3,[v])}:u=Ae,t&&r){const U=u;u=()=>tn(U())}let m,v=U=>{m=L.onStop=()=>{In(U,c,4),m=L.onStop=void 0}},w;if(To)if(v=Ae,t?n&&Re(t,c,3,[u(),f?[]:void 0,v]):u(),s==="sync"){const U=C_();w=U.__watcherHandles||(U.__watcherHandles=[])}else return Ae;let I=f?new Array(e.length).fill(_i):_i;const S=()=>{if(!(!L.active||!L.dirty))if(t){const U=L.run();(r||h||(f?U.some((ut,Rt)=>bn(ut,I[Rt])):bn(U,I)))&&(m&&m(),Re(t,c,3,[U,I===_i?void 0:f&&I[0]===_i?[]:I,v]),I=U)}else L.run()};S.allowRecurse=!!t;let N;s==="sync"?N=S:s==="post"?N=()=>fe(S,c&&c.suspense):(S.pre=!0,c&&(S.id=c.uid),N=()=>Ul(S));const L=new Dl(u,Ae,N),G=()=>{L.stop(),c&&c.scope&&Pl(c.scope.effects,L)};return t?n?S():I=L.run():s==="post"?fe(L.run.bind(L),c&&c.suspense):L.run(),w&&w.push(G),G}function S_(e,t,n){const r=this.proxy,s=Ot(e)?e.includes(".")?nd(r,e):()=>r[e]:e.bind(r,r);let i;Z(t)?i=t:(i=t.handler,n=t);const o=$t;br(this);const a=ed(s,i.bind(r),n);return o?br(o):Gn(),a}function nd(e,t){const n=t.split(".");return()=>{let r=e;for(let s=0;s<n.length&&r;s++)r=r[n[s]];return r}}function tn(e,t,n=0,r){if(!Et(e)||e.__v_skip)return e;if(t&&t>0){if(n>=t)return e;n++}if(r=r||new Set,r.has(e))return e;if(r.add(e),oe(e))tn(e.value,t,n,r);else if(H(e))for(let s=0;s<e.length;s++)tn(e[s],t,n,r);else if(jr(e)||Er(e))e.forEach(s=>{tn(s,t,n,r)});else if(Rf(e))for(const s in e)tn(e[s],t,n,r);return e}function P_(e,t){const n=Qt;if(n===null)return e;const r=wo(n)||n.proxy,s=e.dirs||(e.dirs=[]);for(let i=0;i<t.length;i++){let[o,a,l,c=wt]=t[i];o&&(Z(o)&&(o={mounted:o,updated:o}),o.deep&&tn(a),s.push({dir:o,instance:r,value:a,oldValue:void 0,arg:l,modifiers:c}))}return e}function Mn(e,t,n,r){const s=e.dirs,i=t&&t.dirs;for(let o=0;o<s.length;o++){const a=s[o];i&&(a.oldValue=i[o].value);let l=a.dir[r];l&&(nr(),Re(l,n,8,[e.el,a,e,t]),rr())}}const mn=Symbol("_leaveCb"),yi=Symbol("_enterCb");function rd(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Kl(()=>{e.isMounted=!0}),ld(()=>{e.isUnmounting=!0}),e}const Te=[Function,Array],sd={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Te,onEnter:Te,onAfterEnter:Te,onEnterCancelled:Te,onBeforeLeave:Te,onLeave:Te,onAfterLeave:Te,onLeaveCancelled:Te,onBeforeAppear:Te,onAppear:Te,onAfterAppear:Te,onAppearCancelled:Te},b_={name:"BaseTransition",props:sd,setup(e,{slots:t}){const n=Id(),r=rd();let s;return()=>{const i=t.default&&Hl(t.default(),!0);if(!i||!i.length)return;let o=i[0];if(i.length>1){for(const w of i)if(w.type!==Ce){o=w;break}}const a=at(e),{mode:l}=a;if(r.isLeaving)return oa(o);const c=Eu(o);if(!c)return oa(o);const u=Cs(c,a,r,n);Ss(c,u);const h=n.subTree,f=h&&Eu(h);let m=!1;const{getTransitionKey:v}=c.type;if(v){const w=v();s===void 0?s=w:w!==s&&(s=w,m=!0)}if(f&&f.type!==Ce&&(!$n(c,f)||m)){const w=Cs(f,a,r,n);if(Ss(f,w),l==="out-in")return r.isLeaving=!0,w.afterLeave=()=>{r.isLeaving=!1,n.update.active!==!1&&(n.effect.dirty=!0,n.update())},oa(o);l==="in-out"&&c.type!==Ce&&(w.delayLeave=(I,S,N)=>{const L=id(r,f);L[String(f.key)]=f,I[mn]=()=>{S(),I[mn]=void 0,delete u.delayedLeave},u.delayedLeave=N})}return o}}},V_=b_;function id(e,t){const{leavingVNodes:n}=e;let r=n.get(t.type);return r||(r=Object.create(null),n.set(t.type,r)),r}function Cs(e,t,n,r){const{appear:s,mode:i,persisted:o=!1,onBeforeEnter:a,onEnter:l,onAfterEnter:c,onEnterCancelled:u,onBeforeLeave:h,onLeave:f,onAfterLeave:m,onLeaveCancelled:v,onBeforeAppear:w,onAppear:I,onAfterAppear:S,onAppearCancelled:N}=t,L=String(e.key),G=id(n,e),U=(J,vt)=>{J&&Re(J,r,9,vt)},ut=(J,vt)=>{const lt=vt[1];U(J,vt),H(J)?J.every(Mt=>Mt.length<=1)&&lt():J.length<=1&&lt()},Rt={mode:i,persisted:o,beforeEnter(J){let vt=a;if(!n.isMounted)if(s)vt=w||a;else return;J[mn]&&J[mn](!0);const lt=G[L];lt&&$n(e,lt)&&lt.el[mn]&&lt.el[mn](),U(vt,[J])},enter(J){let vt=l,lt=c,Mt=u;if(!n.isMounted)if(s)vt=I||l,lt=S||c,Mt=N||u;else return;let B=!1;const dt=J[yi]=le=>{B||(B=!0,le?U(Mt,[J]):U(lt,[J]),Rt.delayedLeave&&Rt.delayedLeave(),J[yi]=void 0)};vt?ut(vt,[J,dt]):dt()},leave(J,vt){const lt=String(e.key);if(J[yi]&&J[yi](!0),n.isUnmounting)return vt();U(h,[J]);let Mt=!1;const B=J[mn]=dt=>{Mt||(Mt=!0,vt(),dt?U(v,[J]):U(m,[J]),J[mn]=void 0,G[lt]===e&&delete G[lt])};G[lt]=e,f?ut(f,[J,B]):B()},clone(J){return Cs(J,t,n,r)}};return Rt}function oa(e){if(_o(e))return e=Vn(e),e.children=null,e}function Eu(e){return _o(e)?e.children?e.children[0]:void 0:e}function Ss(e,t){e.shapeFlag&6&&e.component?Ss(e.component.subTree,t):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function Hl(e,t=!1,n){let r=[],s=0;for(let i=0;i<e.length;i++){let o=e[i];const a=n==null?o.key:String(n)+String(o.key!=null?o.key:i);o.type===ee?(o.patchFlag&128&&s++,r=r.concat(Hl(o.children,t,a))):(t||o.type!==Ce)&&r.push(a!=null?Vn(o,{key:a}):o)}if(s>1)for(let i=0;i<r.length;i++)r[i].patchFlag=-2;return r}/*! #__NO_SIDE_EFFECTS__ */function Ft(e,t){return Z(e)?kt({name:e.name},t,{setup:e}):e}const ds=e=>!!e.type.__asyncLoader,_o=e=>e.type.__isKeepAlive;function D_(e,t){od(e,"a",t)}function x_(e,t){od(e,"da",t)}function od(e,t,n=$t){const r=e.__wdc||(e.__wdc=()=>{let s=n;for(;s;){if(s.isDeactivated)return;s=s.parent}return e()});if(yo(t,r,n),n){let s=n.parent;for(;s&&s.parent;)_o(s.parent.vnode)&&N_(r,t,n,s),s=s.parent}}function N_(e,t,n,r){const s=yo(t,e,r,!0);cd(()=>{Pl(r[t],s)},n)}function yo(e,t,n=$t,r=!1){if(n){const s=n[e]||(n[e]=[]),i=t.__weh||(t.__weh=(...o)=>{if(n.isUnmounted)return;nr(),br(n);const a=Re(t,n,e,o);return Gn(),rr(),a});return r?s.unshift(i):s.push(i),i}}const ln=e=>(t,n=$t)=>(!To||e==="sp")&&yo(e,(...r)=>t(...r),n),k_=ln("bm"),Kl=ln("m"),O_=ln("bu"),ad=ln("u"),ld=ln("bum"),cd=ln("um"),M_=ln("sp"),L_=ln("rtg"),F_=ln("rtc");function B_(e,t=$t){yo("ec",e,t)}function ud(e,t,n,r){let s;const i=n&&n[r];if(H(e)||Ot(e)){s=new Array(e.length);for(let o=0,a=e.length;o<a;o++)s[o]=t(e[o],o,void 0,i&&i[o])}else if(typeof e=="number"){s=new Array(e);for(let o=0;o<e;o++)s[o]=t(o+1,o,void 0,i&&i[o])}else if(Et(e))if(e[Symbol.iterator])s=Array.from(e,(o,a)=>t(o,a,void 0,i&&i[a]));else{const o=Object.keys(e);s=new Array(o.length);for(let a=0,l=o.length;a<l;a++){const c=o[a];s[a]=t(e[c],c,a,i&&i[a])}}else s=[];return n&&(n[r]=s),s}function mR(e,t,n={},r,s){if(Qt.isCE||Qt.parent&&ds(Qt.parent)&&Qt.parent.isCE)return t!=="default"&&(n.name=t),et("slot",n,r&&r());let i=e[t];i&&i._c&&(i._d=!1),yt();const o=i&&hd(i(n)),a=En(ee,{key:n.key||o&&o.key||`_${t}`},o||(r?r():[]),o&&e._===1?64:-2);return!s&&a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),i&&i._c&&(i._d=!0),a}function hd(e){return e.some(t=>ji(t)?!(t.type===Ce||t.type===ee&&!hd(t.children)):!0)?e:null}const Fa=e=>e?Ad(e)?wo(e)||e.proxy:Fa(e.parent):null,ps=kt(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Fa(e.parent),$root:e=>Fa(e.root),$emit:e=>e.emit,$options:e=>zl(e),$forceUpdate:e=>e.f||(e.f=()=>{e.effect.dirty=!0,Ul(e.update)}),$nextTick:e=>e.n||(e.n=Qf.bind(e.proxy)),$watch:e=>S_.bind(e)}),aa=(e,t)=>e!==wt&&!e.__isScriptSetup&&it(e,t),U_={get({_:e},t){const{ctx:n,setupState:r,data:s,props:i,accessCache:o,type:a,appContext:l}=e;let c;if(t[0]!=="$"){const m=o[t];if(m!==void 0)switch(m){case 1:return r[t];case 2:return s[t];case 4:return n[t];case 3:return i[t]}else{if(aa(r,t))return o[t]=1,r[t];if(s!==wt&&it(s,t))return o[t]=2,s[t];if((c=e.propsOptions[0])&&it(c,t))return o[t]=3,i[t];if(n!==wt&&it(n,t))return o[t]=4,n[t];Ba&&(o[t]=0)}}const u=ps[t];let h,f;if(u)return t==="$attrs"&&ge(e,"get",t),u(e);if((h=a.__cssModules)&&(h=h[t]))return h;if(n!==wt&&it(n,t))return o[t]=4,n[t];if(f=l.config.globalProperties,it(f,t))return f[t]},set({_:e},t,n){const{data:r,setupState:s,ctx:i}=e;return aa(s,t)?(s[t]=n,!0):r!==wt&&it(r,t)?(r[t]=n,!0):it(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(i[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:r,appContext:s,propsOptions:i}},o){let a;return!!n[o]||e!==wt&&it(e,o)||aa(t,o)||(a=i[0])&&it(a,o)||it(r,o)||it(ps,o)||it(s.config.globalProperties,o)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:it(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function Tu(e){return H(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let Ba=!0;function $_(e){const t=zl(e),n=e.proxy,r=e.ctx;Ba=!1,t.beforeCreate&&wu(t.beforeCreate,e,"bc");const{data:s,computed:i,methods:o,watch:a,provide:l,inject:c,created:u,beforeMount:h,mounted:f,beforeUpdate:m,updated:v,activated:w,deactivated:I,beforeDestroy:S,beforeUnmount:N,destroyed:L,unmounted:G,render:U,renderTracked:ut,renderTriggered:Rt,errorCaptured:J,serverPrefetch:vt,expose:lt,inheritAttrs:Mt,components:B,directives:dt,filters:le}=t;if(c&&j_(c,r,null),o)for(const gt in o){const ht=o[gt];Z(ht)&&(r[gt]=ht.bind(n))}if(s){const gt=s.call(n,n);Et(gt)&&(e.data=fo(gt))}if(Ba=!0,i)for(const gt in i){const ht=i[gt],Ye=Z(ht)?ht.bind(n,n):Z(ht.get)?ht.get.bind(n,n):Ae,un=!Z(ht)&&Z(ht.set)?ht.set.bind(n):Ae,Oe=de({get:Ye,set:un});Object.defineProperty(r,gt,{enumerable:!0,configurable:!0,get:()=>Oe.value,set:he=>Oe.value=he})}if(a)for(const gt in a)fd(a[gt],r,n,gt);if(l){const gt=Z(l)?l.call(n):l;Reflect.ownKeys(gt).forEach(ht=>{Di(ht,gt[ht])})}u&&wu(u,e,"c");function bt(gt,ht){H(ht)?ht.forEach(Ye=>gt(Ye.bind(n))):ht&&gt(ht.bind(n))}if(bt(k_,h),bt(Kl,f),bt(O_,m),bt(ad,v),bt(D_,w),bt(x_,I),bt(B_,J),bt(F_,ut),bt(L_,Rt),bt(ld,N),bt(cd,G),bt(M_,vt),H(lt))if(lt.length){const gt=e.exposed||(e.exposed={});lt.forEach(ht=>{Object.defineProperty(gt,ht,{get:()=>n[ht],set:Ye=>n[ht]=Ye})})}else e.exposed||(e.exposed={});U&&e.render===Ae&&(e.render=U),Mt!=null&&(e.inheritAttrs=Mt),B&&(e.components=B),dt&&(e.directives=dt)}function j_(e,t,n=Ae){H(e)&&(e=Ua(e));for(const r in e){const s=e[r];let i;Et(s)?"default"in s?i=Ve(s.from||r,s.default,!0):i=Ve(s.from||r):i=Ve(s),oe(i)?Object.defineProperty(t,r,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):t[r]=i}}function wu(e,t,n){Re(H(e)?e.map(r=>r.bind(t.proxy)):e.bind(t.proxy),t,n)}function fd(e,t,n,r){const s=r.includes(".")?nd(n,r):()=>n[r];if(Ot(e)){const i=t[e];Z(i)&&Ir(s,i)}else if(Z(e))Ir(s,e.bind(n));else if(Et(e))if(H(e))e.forEach(i=>fd(i,t,n,r));else{const i=Z(e.handler)?e.handler.bind(n):t[e.handler];Z(i)&&Ir(s,i,e)}}function zl(e){const t=e.type,{mixins:n,extends:r}=t,{mixins:s,optionsCache:i,config:{optionMergeStrategies:o}}=e.appContext,a=i.get(t);let l;return a?l=a:!s.length&&!n&&!r?l=t:(l={},s.length&&s.forEach(c=>Ui(l,c,o,!0)),Ui(l,t,o)),Et(t)&&i.set(t,l),l}function Ui(e,t,n,r=!1){const{mixins:s,extends:i}=t;i&&Ui(e,i,n,!0),s&&s.forEach(o=>Ui(e,o,n,!0));for(const o in t)if(!(r&&o==="expose")){const a=q_[o]||n&&n[o];e[o]=a?a(e[o],t[o]):t[o]}return e}const q_={data:Iu,props:Au,emits:Au,methods:os,computed:os,beforeCreate:ce,created:ce,beforeMount:ce,mounted:ce,beforeUpdate:ce,updated:ce,beforeDestroy:ce,beforeUnmount:ce,destroyed:ce,unmounted:ce,activated:ce,deactivated:ce,errorCaptured:ce,serverPrefetch:ce,components:os,directives:os,watch:K_,provide:Iu,inject:H_};function Iu(e,t){return t?e?function(){return kt(Z(e)?e.call(this,this):e,Z(t)?t.call(this,this):t)}:t:e}function H_(e,t){return os(Ua(e),Ua(t))}function Ua(e){if(H(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function ce(e,t){return e?[...new Set([].concat(e,t))]:t}function os(e,t){return e?kt(Object.create(null),e,t):t}function Au(e,t){return e?H(e)&&H(t)?[...new Set([...e,...t])]:kt(Object.create(null),Tu(e),Tu(t??{})):t}function K_(e,t){if(!e)return t;if(!t)return e;const n=kt(Object.create(null),e);for(const r in t)n[r]=ce(e[r],t[r]);return n}function dd(){return{app:null,config:{isNativeTag:Cg,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let z_=0;function G_(e,t){return function(r,s=null){Z(r)||(r=kt({},r)),s!=null&&!Et(s)&&(s=null);const i=dd(),o=new WeakSet;let a=!1;const l=i.app={_uid:z_++,_component:r,_props:s,_container:null,_context:i,_instance:null,version:yy,get config(){return i.config},set config(c){},use(c,...u){return o.has(c)||(c&&Z(c.install)?(o.add(c),c.install(l,...u)):Z(c)&&(o.add(c),c(l,...u))),l},mixin(c){return i.mixins.includes(c)||i.mixins.push(c),l},component(c,u){return u?(i.components[c]=u,l):i.components[c]},directive(c,u){return u?(i.directives[c]=u,l):i.directives[c]},mount(c,u,h){if(!a){const f=et(r,s);return f.appContext=i,h===!0?h="svg":h===!1&&(h=void 0),u&&t?t(f,c):e(f,c,h),a=!0,l._container=c,c.__vue_app__=l,wo(f.component)||f.component.proxy}},unmount(){a&&(e(null,l._container),delete l._container.__vue_app__)},provide(c,u){return i.provides[c]=u,l},runWithContext(c){$i=l;try{return c()}finally{$i=null}}};return l}}let $i=null;function Di(e,t){if($t){let n=$t.provides;const r=$t.parent&&$t.parent.provides;r===n&&(n=$t.provides=Object.create(r)),n[e]=t}}function Ve(e,t,n=!1){const r=$t||Qt;if(r||$i){const s=r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:$i._context.provides;if(s&&e in s)return s[e];if(arguments.length>1)return n&&Z(t)?t.call(r&&r.proxy):t}}function W_(e,t,n,r=!1){const s={},i={};Li(i,Eo,1),e.propsDefaults=Object.create(null),pd(e,t,s,i);for(const o in e.propsOptions[0])o in s||(s[o]=void 0);n?e.props=r?s:$f(s):e.type.props?e.props=s:e.props=i,e.attrs=i}function Q_(e,t,n,r){const{props:s,attrs:i,vnode:{patchFlag:o}}=e,a=at(s),[l]=e.propsOptions;let c=!1;if((r||o>0)&&!(o&16)){if(o&8){const u=e.vnode.dynamicProps;for(let h=0;h<u.length;h++){let f=u[h];if(mo(e.emitsOptions,f))continue;const m=t[f];if(l)if(it(i,f))m!==i[f]&&(i[f]=m,c=!0);else{const v=Ge(f);s[v]=$a(l,a,v,m,e,!1)}else m!==i[f]&&(i[f]=m,c=!0)}}}else{pd(e,t,s,i)&&(c=!0);let u;for(const h in a)(!t||!it(t,h)&&((u=er(h))===h||!it(t,u)))&&(l?n&&(n[h]!==void 0||n[u]!==void 0)&&(s[h]=$a(l,a,h,void 0,e,!0)):delete s[h]);if(i!==a)for(const h in i)(!t||!it(t,h))&&(delete i[h],c=!0)}c&&nn(e,"set","$attrs")}function pd(e,t,n,r){const[s,i]=e.propsOptions;let o=!1,a;if(t)for(let l in t){if(Pi(l))continue;const c=t[l];let u;s&&it(s,u=Ge(l))?!i||!i.includes(u)?n[u]=c:(a||(a={}))[u]=c:mo(e.emitsOptions,l)||(!(l in r)||c!==r[l])&&(r[l]=c,o=!0)}if(i){const l=at(n),c=a||wt;for(let u=0;u<i.length;u++){const h=i[u];n[h]=$a(s,l,h,c[h],e,!it(c,h))}}return o}function $a(e,t,n,r,s,i){const o=e[n];if(o!=null){const a=it(o,"default");if(a&&r===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&Z(l)){const{propsDefaults:c}=s;n in c?r=c[n]:(br(s),r=c[n]=l.call(null,t),Gn())}else r=l}o[0]&&(i&&!a?r=!1:o[1]&&(r===""||r===er(n))&&(r=!0))}return r}function md(e,t,n=!1){const r=t.propsCache,s=r.get(e);if(s)return s;const i=e.props,o={},a=[];let l=!1;if(!Z(e)){const u=h=>{l=!0;const[f,m]=md(h,t,!0);kt(o,f),m&&a.push(...m)};!n&&t.mixins.length&&t.mixins.forEach(u),e.extends&&u(e.extends),e.mixins&&e.mixins.forEach(u)}if(!i&&!l)return Et(e)&&r.set(e,vr),vr;if(H(i))for(let u=0;u<i.length;u++){const h=Ge(i[u]);Ru(h)&&(o[h]=wt)}else if(i)for(const u in i){const h=Ge(u);if(Ru(h)){const f=i[u],m=o[h]=H(f)||Z(f)?{type:f}:kt({},f);if(m){const v=Pu(Boolean,m.type),w=Pu(String,m.type);m[0]=v>-1,m[1]=w<0||v<w,(v>-1||it(m,"default"))&&a.push(h)}}}const c=[o,a];return Et(e)&&r.set(e,c),c}function Ru(e){return e[0]!=="$"}function Cu(e){const t=e&&e.toString().match(/^\s*(function|class) (\w+)/);return t?t[2]:e===null?"null":""}function Su(e,t){return Cu(e)===Cu(t)}function Pu(e,t){return H(t)?t.findIndex(n=>Su(n,e)):Z(t)&&Su(t,e)?0:-1}const gd=e=>e[0]==="_"||e==="$stable",Gl=e=>H(e)?e.map(Be):[Be(e)],Y_=(e,t,n)=>{if(t._n)return t;const r=ve((...s)=>Gl(t(...s)),n);return r._c=!1,r},_d=(e,t,n)=>{const r=e._ctx;for(const s in e){if(gd(s))continue;const i=e[s];if(Z(i))t[s]=Y_(s,i,r);else if(i!=null){const o=Gl(i);t[s]=()=>o}}},yd=(e,t)=>{const n=Gl(t);e.slots.default=()=>n},X_=(e,t)=>{if(e.vnode.shapeFlag&32){const n=t._;n?(e.slots=at(t),Li(t,"_",n)):_d(t,e.slots={})}else e.slots={},t&&yd(e,t);Li(e.slots,Eo,1)},J_=(e,t,n)=>{const{vnode:r,slots:s}=e;let i=!0,o=wt;if(r.shapeFlag&32){const a=t._;a?n&&a===1?i=!1:(kt(s,t),!n&&a===1&&delete s._):(i=!t.$stable,_d(t,s)),o=t}else t&&(yd(e,t),o={default:1});if(i)for(const a in s)!gd(a)&&o[a]==null&&delete s[a]};function ja(e,t,n,r,s=!1){if(H(e)){e.forEach((f,m)=>ja(f,t&&(H(t)?t[m]:t),n,r,s));return}if(ds(r)&&!s)return;const i=r.shapeFlag&4?wo(r.component)||r.component.proxy:r.el,o=s?null:i,{i:a,r:l}=e,c=t&&t.r,u=a.refs===wt?a.refs={}:a.refs,h=a.setupState;if(c!=null&&c!==l&&(Ot(c)?(u[c]=null,it(h,c)&&(h[c]=null)):oe(c)&&(c.value=null)),Z(l))In(l,a,12,[o,u]);else{const f=Ot(l),m=oe(l);if(f||m){const v=()=>{if(e.f){const w=f?it(h,l)?h[l]:u[l]:l.value;s?H(w)&&Pl(w,i):H(w)?w.includes(i)||w.push(i):f?(u[l]=[i],it(h,l)&&(h[l]=u[l])):(l.value=[i],e.k&&(u[e.k]=l.value))}else f?(u[l]=o,it(h,l)&&(h[l]=o)):m&&(l.value=o,e.k&&(u[e.k]=o))};o?(v.id=-1,fe(v,n)):v()}}}const fe=A_;function Z_(e){return ty(e)}function ty(e,t){const n=Cf();n.__VUE__=!0;const{insert:r,remove:s,patchProp:i,createElement:o,createText:a,createComment:l,setText:c,setElementText:u,parentNode:h,nextSibling:f,setScopeId:m=Ae,insertStaticContent:v}=e,w=(d,p,g,_=null,T=null,A=null,x=void 0,P=null,b=!!p.dynamicChildren)=>{if(d===p)return;d&&!$n(d,p)&&(_=y(d),he(d,T,A,!0),d=null),p.patchFlag===-2&&(b=!1,p.dynamicChildren=null);const{type:C,ref:k,shapeFlag:z}=p;switch(C){case vo:I(d,p,g,_);break;case Ce:S(d,p,g,_);break;case ca:d==null&&N(p,g,_,x);break;case ee:B(d,p,g,_,T,A,x,P,b);break;default:z&1?U(d,p,g,_,T,A,x,P,b):z&6?dt(d,p,g,_,T,A,x,P,b):(z&64||z&128)&&C.process(d,p,g,_,T,A,x,P,b,V)}k!=null&&T&&ja(k,d&&d.ref,A,p||d,!p)},I=(d,p,g,_)=>{if(d==null)r(p.el=a(p.children),g,_);else{const T=p.el=d.el;p.children!==d.children&&c(T,p.children)}},S=(d,p,g,_)=>{d==null?r(p.el=l(p.children||""),g,_):p.el=d.el},N=(d,p,g,_)=>{[d.el,d.anchor]=v(d.children,p,g,_,d.el,d.anchor)},L=({el:d,anchor:p},g,_)=>{let T;for(;d&&d!==p;)T=f(d),r(d,g,_),d=T;r(p,g,_)},G=({el:d,anchor:p})=>{let g;for(;d&&d!==p;)g=f(d),s(d),d=g;s(p)},U=(d,p,g,_,T,A,x,P,b)=>{p.type==="svg"?x="svg":p.type==="math"&&(x="mathml"),d==null?ut(p,g,_,T,A,x,P,b):vt(d,p,T,A,x,P,b)},ut=(d,p,g,_,T,A,x,P)=>{let b,C;const{props:k,shapeFlag:z,transition:j,dirs:Y}=d;if(b=d.el=o(d.type,A,k&&k.is,k),z&8?u(b,d.children):z&16&&J(d.children,b,null,_,T,la(d,A),x,P),Y&&Mn(d,null,_,"created"),Rt(b,d,d.scopeId,x,_),k){for(const _t in k)_t!=="value"&&!Pi(_t)&&i(b,_t,null,k[_t],A,d.children,_,T,Jt);"value"in k&&i(b,"value",null,k.value,A),(C=k.onVnodeBeforeMount)&&Le(C,_,d)}Y&&Mn(d,null,_,"beforeMount");const nt=ey(T,j);nt&&j.beforeEnter(b),r(b,p,g),((C=k&&k.onVnodeMounted)||nt||Y)&&fe(()=>{C&&Le(C,_,d),nt&&j.enter(b),Y&&Mn(d,null,_,"mounted")},T)},Rt=(d,p,g,_,T)=>{if(g&&m(d,g),_)for(let A=0;A<_.length;A++)m(d,_[A]);if(T){let A=T.subTree;if(p===A){const x=T.vnode;Rt(d,x,x.scopeId,x.slotScopeIds,T.parent)}}},J=(d,p,g,_,T,A,x,P,b=0)=>{for(let C=b;C<d.length;C++){const k=d[C]=P?gn(d[C]):Be(d[C]);w(null,k,p,g,_,T,A,x,P)}},vt=(d,p,g,_,T,A,x)=>{const P=p.el=d.el;let{patchFlag:b,dynamicChildren:C,dirs:k}=p;b|=d.patchFlag&16;const z=d.props||wt,j=p.props||wt;let Y;if(g&&Ln(g,!1),(Y=j.onVnodeBeforeUpdate)&&Le(Y,g,p,d),k&&Mn(p,d,g,"beforeUpdate"),g&&Ln(g,!0),C?lt(d.dynamicChildren,C,P,g,_,la(p,T),A):x||ht(d,p,P,null,g,_,la(p,T),A,!1),b>0){if(b&16)Mt(P,p,z,j,g,_,T);else if(b&2&&z.class!==j.class&&i(P,"class",null,j.class,T),b&4&&i(P,"style",z.style,j.style,T),b&8){const nt=p.dynamicProps;for(let _t=0;_t<nt.length;_t++){const Ct=nt[_t],Bt=z[Ct],Se=j[Ct];(Se!==Bt||Ct==="value")&&i(P,Ct,Bt,Se,T,d.children,g,_,Jt)}}b&1&&d.children!==p.children&&u(P,p.children)}else!x&&C==null&&Mt(P,p,z,j,g,_,T);((Y=j.onVnodeUpdated)||k)&&fe(()=>{Y&&Le(Y,g,p,d),k&&Mn(p,d,g,"updated")},_)},lt=(d,p,g,_,T,A,x)=>{for(let P=0;P<p.length;P++){const b=d[P],C=p[P],k=b.el&&(b.type===ee||!$n(b,C)||b.shapeFlag&70)?h(b.el):g;w(b,C,k,null,_,T,A,x,!0)}},Mt=(d,p,g,_,T,A,x)=>{if(g!==_){if(g!==wt)for(const P in g)!Pi(P)&&!(P in _)&&i(d,P,g[P],null,x,p.children,T,A,Jt);for(const P in _){if(Pi(P))continue;const b=_[P],C=g[P];b!==C&&P!=="value"&&i(d,P,C,b,x,p.children,T,A,Jt)}"value"in _&&i(d,"value",g.value,_.value,x)}},B=(d,p,g,_,T,A,x,P,b)=>{const C=p.el=d?d.el:a(""),k=p.anchor=d?d.anchor:a("");let{patchFlag:z,dynamicChildren:j,slotScopeIds:Y}=p;Y&&(P=P?P.concat(Y):Y),d==null?(r(C,g,_),r(k,g,_),J(p.children,g,k,T,A,x,P,b)):z>0&&z&64&&j&&d.dynamicChildren?(lt(d.dynamicChildren,j,g,T,A,x,P),(p.key!=null||T&&p===T.subTree)&&vd(d,p,!0)):ht(d,p,g,k,T,A,x,P,b)},dt=(d,p,g,_,T,A,x,P,b)=>{p.slotScopeIds=P,d==null?p.shapeFlag&512?T.ctx.activate(p,g,_,x,b):le(p,g,_,T,A,x,b):Qe(d,p,b)},le=(d,p,g,_,T,A,x)=>{const P=d.component=hy(d,_,T);if(_o(d)&&(P.ctx.renderer=V),fy(P),P.asyncDep){if(T&&T.registerDep(P,bt),!d.el){const b=P.subTree=et(Ce);S(null,b,p,g)}}else bt(P,d,p,g,T,A,x)},Qe=(d,p,g)=>{const _=p.component=d.component;if(v_(d,p,g))if(_.asyncDep&&!_.asyncResolved){gt(_,p,g);return}else _.next=p,d_(_.update),_.effect.dirty=!0,_.update();else p.el=d.el,_.vnode=p},bt=(d,p,g,_,T,A,x)=>{const P=()=>{if(d.isMounted){let{next:k,bu:z,u:j,parent:Y,vnode:nt}=d;{const ur=Ed(d);if(ur){k&&(k.el=nt.el,gt(d,k,x)),ur.asyncDep.then(()=>{d.isUnmounted||P()});return}}let _t=k,Ct;Ln(d,!1),k?(k.el=nt.el,gt(d,k,x)):k=nt,z&&bi(z),(Ct=k.props&&k.props.onVnodeBeforeUpdate)&&Le(Ct,Y,k,nt),Ln(d,!0);const Bt=ia(d),Se=d.subTree;d.subTree=Bt,w(Se,Bt,h(Se.el),y(Se),d,T,A),k.el=Bt.el,_t===null&&E_(d,Bt.el),j&&fe(j,T),(Ct=k.props&&k.props.onVnodeUpdated)&&fe(()=>Le(Ct,Y,k,nt),T)}else{let k;const{el:z,props:j}=p,{bm:Y,m:nt,parent:_t}=d,Ct=ds(p);if(Ln(d,!1),Y&&bi(Y),!Ct&&(k=j&&j.onVnodeBeforeMount)&&Le(k,_t,p),Ln(d,!0),z&&ft){const Bt=()=>{d.subTree=ia(d),ft(z,d.subTree,d,T,null)};Ct?p.type.__asyncLoader().then(()=>!d.isUnmounted&&Bt()):Bt()}else{const Bt=d.subTree=ia(d);w(null,Bt,g,_,d,T,A),p.el=Bt.el}if(nt&&fe(nt,T),!Ct&&(k=j&&j.onVnodeMounted)){const Bt=p;fe(()=>Le(k,_t,Bt),T)}(p.shapeFlag&256||_t&&ds(_t.vnode)&&_t.vnode.shapeFlag&256)&&d.a&&fe(d.a,T),d.isMounted=!0,p=g=_=null}},b=d.effect=new Dl(P,Ae,()=>Ul(C),d.scope),C=d.update=()=>{b.dirty&&b.run()};C.id=d.uid,Ln(d,!0),C()},gt=(d,p,g)=>{p.component=d;const _=d.vnode.props;d.vnode=p,d.next=null,Q_(d,p.props,_,g),J_(d,p.children,g),nr(),_u(d),rr()},ht=(d,p,g,_,T,A,x,P,b=!1)=>{const C=d&&d.children,k=d?d.shapeFlag:0,z=p.children,{patchFlag:j,shapeFlag:Y}=p;if(j>0){if(j&128){un(C,z,g,_,T,A,x,P,b);return}else if(j&256){Ye(C,z,g,_,T,A,x,P,b);return}}Y&8?(k&16&&Jt(C,T,A),z!==C&&u(g,z)):k&16?Y&16?un(C,z,g,_,T,A,x,P,b):Jt(C,T,A,!0):(k&8&&u(g,""),Y&16&&J(z,g,_,T,A,x,P,b))},Ye=(d,p,g,_,T,A,x,P,b)=>{d=d||vr,p=p||vr;const C=d.length,k=p.length,z=Math.min(C,k);let j;for(j=0;j<z;j++){const Y=p[j]=b?gn(p[j]):Be(p[j]);w(d[j],Y,g,null,T,A,x,P,b)}C>k?Jt(d,T,A,!0,!1,z):J(p,g,_,T,A,x,P,b,z)},un=(d,p,g,_,T,A,x,P,b)=>{let C=0;const k=p.length;let z=d.length-1,j=k-1;for(;C<=z&&C<=j;){const Y=d[C],nt=p[C]=b?gn(p[C]):Be(p[C]);if($n(Y,nt))w(Y,nt,g,null,T,A,x,P,b);else break;C++}for(;C<=z&&C<=j;){const Y=d[z],nt=p[j]=b?gn(p[j]):Be(p[j]);if($n(Y,nt))w(Y,nt,g,null,T,A,x,P,b);else break;z--,j--}if(C>z){if(C<=j){const Y=j+1,nt=Y<k?p[Y].el:_;for(;C<=j;)w(null,p[C]=b?gn(p[C]):Be(p[C]),g,nt,T,A,x,P,b),C++}}else if(C>j)for(;C<=z;)he(d[C],T,A,!0),C++;else{const Y=C,nt=C,_t=new Map;for(C=nt;C<=j;C++){const _e=p[C]=b?gn(p[C]):Be(p[C]);_e.key!=null&&_t.set(_e.key,C)}let Ct,Bt=0;const Se=j-nt+1;let ur=!1,iu=0;const Jr=new Array(Se);for(C=0;C<Se;C++)Jr[C]=0;for(C=Y;C<=z;C++){const _e=d[C];if(Bt>=Se){he(_e,T,A,!0);continue}let Me;if(_e.key!=null)Me=_t.get(_e.key);else for(Ct=nt;Ct<=j;Ct++)if(Jr[Ct-nt]===0&&$n(_e,p[Ct])){Me=Ct;break}Me===void 0?he(_e,T,A,!0):(Jr[Me-nt]=C+1,Me>=iu?iu=Me:ur=!0,w(_e,p[Me],g,null,T,A,x,P,b),Bt++)}const ou=ur?ny(Jr):vr;for(Ct=ou.length-1,C=Se-1;C>=0;C--){const _e=nt+C,Me=p[_e],au=_e+1<k?p[_e+1].el:_;Jr[C]===0?w(null,Me,g,au,T,A,x,P,b):ur&&(Ct<0||C!==ou[Ct]?Oe(Me,g,au,2):Ct--)}}},Oe=(d,p,g,_,T=null)=>{const{el:A,type:x,transition:P,children:b,shapeFlag:C}=d;if(C&6){Oe(d.component.subTree,p,g,_);return}if(C&128){d.suspense.move(p,g,_);return}if(C&64){x.move(d,p,g,V);return}if(x===ee){r(A,p,g);for(let z=0;z<b.length;z++)Oe(b[z],p,g,_);r(d.anchor,p,g);return}if(x===ca){L(d,p,g);return}if(_!==2&&C&1&&P)if(_===0)P.beforeEnter(A),r(A,p,g),fe(()=>P.enter(A),T);else{const{leave:z,delayLeave:j,afterLeave:Y}=P,nt=()=>r(A,p,g),_t=()=>{z(A,()=>{nt(),Y&&Y()})};j?j(A,nt,_t):_t()}else r(A,p,g)},he=(d,p,g,_=!1,T=!1)=>{const{type:A,props:x,ref:P,children:b,dynamicChildren:C,shapeFlag:k,patchFlag:z,dirs:j}=d;if(P!=null&&ja(P,null,g,d,!0),k&256){p.ctx.deactivate(d);return}const Y=k&1&&j,nt=!ds(d);let _t;if(nt&&(_t=x&&x.onVnodeBeforeUnmount)&&Le(_t,p,d),k&6)hi(d.component,g,_);else{if(k&128){d.suspense.unmount(g,_);return}Y&&Mn(d,null,p,"beforeUnmount"),k&64?d.type.remove(d,p,g,T,V,_):C&&(A!==ee||z>0&&z&64)?Jt(C,p,g,!1,!0):(A===ee&&z&384||!T&&k&16)&&Jt(b,p,g),_&&lr(d)}(nt&&(_t=x&&x.onVnodeUnmounted)||Y)&&fe(()=>{_t&&Le(_t,p,d),Y&&Mn(d,null,p,"unmounted")},g)},lr=d=>{const{type:p,el:g,anchor:_,transition:T}=d;if(p===ee){cr(g,_);return}if(p===ca){G(d);return}const A=()=>{s(g),T&&!T.persisted&&T.afterLeave&&T.afterLeave()};if(d.shapeFlag&1&&T&&!T.persisted){const{leave:x,delayLeave:P}=T,b=()=>x(g,A);P?P(d.el,A,b):b()}else A()},cr=(d,p)=>{let g;for(;d!==p;)g=f(d),s(d),d=g;s(p)},hi=(d,p,g)=>{const{bum:_,scope:T,update:A,subTree:x,um:P}=d;_&&bi(_),T.stop(),A&&(A.active=!1,he(x,d,p,g)),P&&fe(P,p),fe(()=>{d.isUnmounted=!0},p),p&&p.pendingBranch&&!p.isUnmounted&&d.asyncDep&&!d.asyncResolved&&d.suspenseId===p.pendingId&&(p.deps--,p.deps===0&&p.resolve())},Jt=(d,p,g,_=!1,T=!1,A=0)=>{for(let x=A;x<d.length;x++)he(d[x],p,g,_,T)},y=d=>d.shapeFlag&6?y(d.component.subTree):d.shapeFlag&128?d.suspense.next():f(d.anchor||d.el),O=(d,p,g)=>{d==null?p._vnode&&he(p._vnode,null,null,!0):w(p._vnode||null,d,p,null,null,null,g),_u(),Xf(),p._vnode=d},V={p:w,um:he,m:Oe,r:lr,mt:le,mc:J,pc:ht,pbc:lt,n:y,o:e};let $,ft;return t&&([$,ft]=t(V)),{render:O,hydrate:$,createApp:G_(O,$)}}function la({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function Ln({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function ey(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function vd(e,t,n=!1){const r=e.children,s=t.children;if(H(r)&&H(s))for(let i=0;i<r.length;i++){const o=r[i];let a=s[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=s[i]=gn(s[i]),a.el=o.el),n||vd(o,a)),a.type===vo&&(a.el=o.el)}}function ny(e){const t=e.slice(),n=[0];let r,s,i,o,a;const l=e.length;for(r=0;r<l;r++){const c=e[r];if(c!==0){if(s=n[n.length-1],e[s]<c){t[r]=s,n.push(r);continue}for(i=0,o=n.length-1;i<o;)a=i+o>>1,e[n[a]]<c?i=a+1:o=a;c<e[n[i]]&&(i>0&&(t[r]=n[i-1]),n[i]=r)}}for(i=n.length,o=n[i-1];i-- >0;)n[i]=o,o=t[o];return n}function Ed(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:Ed(t)}const ry=e=>e.__isTeleport,ee=Symbol.for("v-fgt"),vo=Symbol.for("v-txt"),Ce=Symbol.for("v-cmt"),ca=Symbol.for("v-stc"),ms=[];let Pe=null;function yt(e=!1){ms.push(Pe=e?null:[])}function sy(){ms.pop(),Pe=ms[ms.length-1]||null}let Ps=1;function bu(e){Ps+=e}function Td(e){return e.dynamicChildren=Ps>0?Pe||vr:null,sy(),Ps>0&&Pe&&Pe.push(e),e}function Nt(e,t,n,r,s,i){return Td(q(e,t,n,r,s,i,!0))}function En(e,t,n,r,s){return Td(et(e,t,n,r,s,!0))}function ji(e){return e?e.__v_isVNode===!0:!1}function $n(e,t){return e.type===t.type&&e.key===t.key}const Eo="__vInternal",wd=({key:e})=>e??null,xi=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?Ot(e)||oe(e)||Z(e)?{i:Qt,r:e,k:t,f:!!n}:e:null);function q(e,t=null,n=null,r=0,s=null,i=e===ee?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&wd(t),ref:t&&xi(t),scopeId:go,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:r,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:Qt};return a?(Wl(l,n),i&128&&e.normalize(l)):n&&(l.shapeFlag|=Ot(n)?8:16),Ps>0&&!o&&Pe&&(l.patchFlag>0||i&6)&&l.patchFlag!==32&&Pe.push(l),l}const et=iy;function iy(e,t=null,n=null,r=0,s=null,i=!1){if((!e||e===T_)&&(e=Ce),ji(e)){const a=Vn(e,t,!0);return n&&Wl(a,n),Ps>0&&!i&&Pe&&(a.shapeFlag&6?Pe[Pe.indexOf(e)]=a:Pe.push(a)),a.patchFlag|=-2,a}if(_y(e)&&(e=e.__vccOpts),t){t=oy(t);let{class:a,style:l}=t;a&&!Ot(a)&&(t.class=Qs(a)),Et(l)&&(jf(l)&&!H(l)&&(l=kt({},l)),t.style=me(l))}const o=Ot(e)?1:I_(e)?128:ry(e)?64:Et(e)?4:Z(e)?2:0;return q(e,t,n,r,s,o,i,!0)}function oy(e){return e?jf(e)||Eo in e?kt({},e):e:null}function Vn(e,t,n=!1){const{props:r,ref:s,patchFlag:i,children:o}=e,a=t?ly(r||{},t):r;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:a,key:a&&wd(a),ref:t&&t.ref?n&&s?H(s)?s.concat(xi(t)):[s,xi(t)]:xi(t):s,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:o,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==ee?i===-1?16:i|16:i,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Vn(e.ssContent),ssFallback:e.ssFallback&&Vn(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce}}function Fe(e=" ",t=0){return et(vo,null,e,t)}function ay(e="",t=!1){return t?(yt(),En(Ce,null,e)):et(Ce,null,e)}function Be(e){return e==null||typeof e=="boolean"?et(Ce):H(e)?et(ee,null,e.slice()):typeof e=="object"?gn(e):et(vo,null,String(e))}function gn(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Vn(e)}function Wl(e,t){let n=0;const{shapeFlag:r}=e;if(t==null)t=null;else if(H(t))n=16;else if(typeof t=="object")if(r&65){const s=t.default;s&&(s._c&&(s._d=!1),Wl(e,s()),s._c&&(s._d=!0));return}else{n=32;const s=t._;!s&&!(Eo in t)?t._ctx=Qt:s===3&&Qt&&(Qt.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else Z(t)?(t={default:t,_ctx:Qt},n=32):(t=String(t),r&64?(n=16,t=[Fe(t)]):n=8);e.children=t,e.shapeFlag|=n}function ly(...e){const t={};for(let n=0;n<e.length;n++){const r=e[n];for(const s in r)if(s==="class")t.class!==r.class&&(t.class=Qs([t.class,r.class]));else if(s==="style")t.style=me([t.style,r.style]);else if(lo(s)){const i=t[s],o=r[s];o&&i!==o&&!(H(i)&&i.includes(o))&&(t[s]=i?[].concat(i,o):o)}else s!==""&&(t[s]=r[s])}return t}function Le(e,t,n,r=null){Re(e,t,7,[n,r])}const cy=dd();let uy=0;function hy(e,t,n){const r=e.type,s=(t?t.appContext:e.appContext)||cy,i={uid:uy++,vnode:e,type:r,parent:t,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,scope:new Bg(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(s.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:md(r,s),emitsOptions:Zf(r,s),emit:null,emitted:null,propsDefaults:wt,inheritAttrs:r.inheritAttrs,ctx:wt,data:wt,props:wt,attrs:wt,slots:wt,refs:wt,setupState:wt,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=t?t.root:i,i.emit=g_.bind(null,i),e.ce&&e.ce(i),i}let $t=null;const Id=()=>$t||Qt;let Ql,qa;{const e=Cf(),t=(n,r)=>{let s;return(s=e[n])||(s=e[n]=[]),s.push(r),i=>{s.length>1?s.forEach(o=>o(i)):s[0](i)}};Ql=t("__VUE_INSTANCE_SETTERS__",n=>$t=n),qa=t("__VUE_SSR_SETTERS__",n=>To=n)}const br=e=>{Ql(e),e.scope.on()},Gn=()=>{$t&&$t.scope.off(),Ql(null)};function Ad(e){return e.vnode.shapeFlag&4}let To=!1;function fy(e,t=!1){t&&qa(t);const{props:n,children:r}=e.vnode,s=Ad(e);W_(e,n,s,t),X_(e,r);const i=s?dy(e,t):void 0;return t&&qa(!1),i}function dy(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=qf(new Proxy(e.ctx,U_));const{setup:r}=n;if(r){const s=e.setupContext=r.length>1?my(e):null;br(e),nr();const i=In(r,e,0,[e.props,s]);if(rr(),Gn(),If(i)){if(i.then(Gn,Gn),t)return i.then(o=>{Vu(e,o,t)}).catch(o=>{po(o,e,0)});e.asyncDep=i}else Vu(e,i,t)}else Rd(e,t)}function Vu(e,t,n){Z(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Et(t)&&(e.setupState=Gf(t)),Rd(e,n)}let Du;function Rd(e,t,n){const r=e.type;if(!e.render){if(!t&&Du&&!r.render){const s=r.template||zl(e).template;if(s){const{isCustomElement:i,compilerOptions:o}=e.appContext.config,{delimiters:a,compilerOptions:l}=r,c=kt(kt({isCustomElement:i,delimiters:a},o),l);r.render=Du(s,c)}}e.render=r.render||Ae}{br(e),nr();try{$_(e)}finally{rr(),Gn()}}}function py(e){return e.attrsProxy||(e.attrsProxy=new Proxy(e.attrs,{get(t,n){return ge(e,"get","$attrs"),t[n]}}))}function my(e){const t=n=>{e.exposed=n||{}};return{get attrs(){return py(e)},slots:e.slots,emit:e.emit,expose:t}}function wo(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(Gf(qf(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in ps)return ps[n](e)},has(t,n){return n in t||n in ps}}))}function gy(e,t=!0){return Z(e)?e.displayName||e.name:e.name||t&&e.__name}function _y(e){return Z(e)&&"__vccOpts"in e}const de=(e,t)=>a_(e,t,To);function Yl(e,t,n){const r=arguments.length;return r===2?Et(t)&&!H(t)?ji(t)?et(e,null,[t]):et(e,t):et(e,null,t):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&ji(n)&&(n=[n]),et(e,t,n))}const yy="3.4.3",vy="http://www.w3.org/2000/svg",Ey="http://www.w3.org/1998/Math/MathML",_n=typeof document<"u"?document:null,xu=_n&&_n.createElement("template"),Ty={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{const s=t==="svg"?_n.createElementNS(vy,e):t==="mathml"?_n.createElementNS(Ey,e):_n.createElement(e,n?{is:n}:void 0);return e==="select"&&r&&r.multiple!=null&&s.setAttribute("multiple",r.multiple),s},createText:e=>_n.createTextNode(e),createComment:e=>_n.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>_n.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,r,s,i){const o=n?n.previousSibling:t.lastChild;if(s&&(s===i||s.nextSibling))for(;t.insertBefore(s.cloneNode(!0),n),!(s===i||!(s=s.nextSibling)););else{xu.innerHTML=r==="svg"?`<svg>${e}</svg>`:r==="mathml"?`<math>${e}</math>`:e;const a=xu.content;if(r==="svg"||r==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}t.insertBefore(a,n)}return[o?o.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},fn="transition",Zr="animation",Vr=Symbol("_vtc"),Io=(e,{slots:t})=>Yl(V_,Sd(e),t);Io.displayName="Transition";const Cd={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},wy=Io.props=kt({},sd,Cd),Fn=(e,t=[])=>{H(e)?e.forEach(n=>n(...t)):e&&e(...t)},Nu=e=>e?H(e)?e.some(t=>t.length>1):e.length>1:!1;function Sd(e){const t={};for(const B in e)B in Cd||(t[B]=e[B]);if(e.css===!1)return t;const{name:n="v",type:r,duration:s,enterFromClass:i=`${n}-enter-from`,enterActiveClass:o=`${n}-enter-active`,enterToClass:a=`${n}-enter-to`,appearFromClass:l=i,appearActiveClass:c=o,appearToClass:u=a,leaveFromClass:h=`${n}-leave-from`,leaveActiveClass:f=`${n}-leave-active`,leaveToClass:m=`${n}-leave-to`}=e,v=Iy(s),w=v&&v[0],I=v&&v[1],{onBeforeEnter:S,onEnter:N,onEnterCancelled:L,onLeave:G,onLeaveCancelled:U,onBeforeAppear:ut=S,onAppear:Rt=N,onAppearCancelled:J=L}=t,vt=(B,dt,le)=>{pn(B,dt?u:a),pn(B,dt?c:o),le&&le()},lt=(B,dt)=>{B._isLeaving=!1,pn(B,h),pn(B,m),pn(B,f),dt&&dt()},Mt=B=>(dt,le)=>{const Qe=B?Rt:N,bt=()=>vt(dt,B,le);Fn(Qe,[dt,bt]),ku(()=>{pn(dt,B?l:i),Je(dt,B?u:a),Nu(Qe)||Ou(dt,r,w,bt)})};return kt(t,{onBeforeEnter(B){Fn(S,[B]),Je(B,i),Je(B,o)},onBeforeAppear(B){Fn(ut,[B]),Je(B,l),Je(B,c)},onEnter:Mt(!1),onAppear:Mt(!0),onLeave(B,dt){B._isLeaving=!0;const le=()=>lt(B,dt);Je(B,h),bd(),Je(B,f),ku(()=>{B._isLeaving&&(pn(B,h),Je(B,m),Nu(G)||Ou(B,r,I,le))}),Fn(G,[B,le])},onEnterCancelled(B){vt(B,!1),Fn(L,[B])},onAppearCancelled(B){vt(B,!0),Fn(J,[B])},onLeaveCancelled(B){lt(B),Fn(U,[B])}})}function Iy(e){if(e==null)return null;if(Et(e))return[ua(e.enter),ua(e.leave)];{const t=ua(e);return[t,t]}}function ua(e){return Dg(e)}function Je(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.add(n)),(e[Vr]||(e[Vr]=new Set)).add(t)}function pn(e,t){t.split(/\s+/).forEach(r=>r&&e.classList.remove(r));const n=e[Vr];n&&(n.delete(t),n.size||(e[Vr]=void 0))}function ku(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let Ay=0;function Ou(e,t,n,r){const s=e._endId=++Ay,i=()=>{s===e._endId&&r()};if(n)return setTimeout(i,n);const{type:o,timeout:a,propCount:l}=Pd(e,t);if(!o)return r();const c=o+"end";let u=0;const h=()=>{e.removeEventListener(c,f),i()},f=m=>{m.target===e&&++u>=l&&h()};setTimeout(()=>{u<l&&h()},a+1),e.addEventListener(c,f)}function Pd(e,t){const n=window.getComputedStyle(e),r=v=>(n[v]||"").split(", "),s=r(`${fn}Delay`),i=r(`${fn}Duration`),o=Mu(s,i),a=r(`${Zr}Delay`),l=r(`${Zr}Duration`),c=Mu(a,l);let u=null,h=0,f=0;t===fn?o>0&&(u=fn,h=o,f=i.length):t===Zr?c>0&&(u=Zr,h=c,f=l.length):(h=Math.max(o,c),u=h>0?o>c?fn:Zr:null,f=u?u===fn?i.length:l.length:0);const m=u===fn&&/\b(transform|all)(,|$)/.test(r(`${fn}Property`).toString());return{type:u,timeout:h,propCount:f,hasTransform:m}}function Mu(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((n,r)=>Lu(n)+Lu(e[r])))}function Lu(e){return e==="auto"?0:Number(e.slice(0,-1).replace(",","."))*1e3}function bd(){return document.body.offsetHeight}function Ry(e,t,n){const r=e[Vr];r&&(t=(t?[t,...r]:[...r]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const Xl=Symbol("_vod"),Cy={beforeMount(e,{value:t},{transition:n}){e[Xl]=e.style.display==="none"?"":e.style.display,n&&t?n.beforeEnter(e):ts(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:r}){!t!=!n&&(r?t?(r.beforeEnter(e),ts(e,!0),r.enter(e)):r.leave(e,()=>{ts(e,!1)}):ts(e,t))},beforeUnmount(e,{value:t}){ts(e,t)}};function ts(e,t){e.style.display=t?e[Xl]:"none"}const Sy=Symbol("");function Py(e,t,n){const r=e.style,s=Ot(n);if(n&&!s){if(t&&!Ot(t))for(const i in t)n[i]==null&&Ha(r,i,"");for(const i in n)Ha(r,i,n[i])}else{const i=r.display;if(s){if(t!==n){const o=r[Sy];o&&(n+=";"+o),r.cssText=n}}else t&&e.removeAttribute("style");Xl in e&&(r.display=i)}}const Fu=/\s*!important$/;function Ha(e,t,n){if(H(n))n.forEach(r=>Ha(e,t,r));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const r=by(e,t);Fu.test(n)?e.setProperty(er(r),n.replace(Fu,""),"important"):e[r]=n}}const Bu=["Webkit","Moz","ms"],ha={};function by(e,t){const n=ha[t];if(n)return n;let r=Ge(t);if(r!=="filter"&&r in e)return ha[t]=r;r=uo(r);for(let s=0;s<Bu.length;s++){const i=Bu[s]+r;if(i in e)return ha[t]=i}return t}const Uu="http://www.w3.org/1999/xlink";function Vy(e,t,n,r,s){if(r&&t.startsWith("xlink:"))n==null?e.removeAttributeNS(Uu,t.slice(6,t.length)):e.setAttributeNS(Uu,t,n);else{const i=Lg(t);n==null||i&&!Sf(n)?e.removeAttribute(t):e.setAttribute(t,i?"":n)}}function Dy(e,t,n,r,s,i,o){if(t==="innerHTML"||t==="textContent"){r&&o(r,s,i),e[t]=n??"";return}const a=e.tagName;if(t==="value"&&a!=="PROGRESS"&&!a.includes("-")){e._value=n;const c=a==="OPTION"?e.getAttribute("value"):e.value,u=n??"";c!==u&&(e.value=u),n==null&&e.removeAttribute(t);return}let l=!1;if(n===""||n==null){const c=typeof e[t];c==="boolean"?n=Sf(n):n==null&&c==="string"?(n="",l=!0):c==="number"&&(n=0,l=!0)}try{e[t]=n}catch{}l&&e.removeAttribute(t)}function vn(e,t,n,r){e.addEventListener(t,n,r)}function xy(e,t,n,r){e.removeEventListener(t,n,r)}const $u=Symbol("_vei");function Ny(e,t,n,r,s=null){const i=e[$u]||(e[$u]={}),o=i[t];if(r&&o)o.value=r;else{const[a,l]=ky(t);if(r){const c=i[t]=Ly(r,s);vn(e,a,c,l)}else o&&(xy(e,a,o,l),i[t]=void 0)}}const ju=/(?:Once|Passive|Capture)$/;function ky(e){let t;if(ju.test(e)){t={};let r;for(;r=e.match(ju);)e=e.slice(0,e.length-r[0].length),t[r[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):er(e.slice(2)),t]}let fa=0;const Oy=Promise.resolve(),My=()=>fa||(Oy.then(()=>fa=0),fa=Date.now());function Ly(e,t){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;Re(Fy(r,n.value),t,5,[r])};return n.value=e,n.attached=My(),n}function Fy(e,t){if(H(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(r=>s=>!s._stopped&&r&&r(s))}else return t}const qu=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,By=(e,t,n,r,s,i,o,a,l)=>{const c=s==="svg";t==="class"?Ry(e,r,c):t==="style"?Py(e,n,r):lo(t)?Sl(t)||Ny(e,t,n,r,o):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):Uy(e,t,r,c))?Dy(e,t,r,i,o,a,l):(t==="true-value"?e._trueValue=r:t==="false-value"&&(e._falseValue=r),Vy(e,t,r,c))};function Uy(e,t,n,r){if(r)return!!(t==="innerHTML"||t==="textContent"||t in e&&qu(t)&&Z(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const s=e.tagName;if(s==="IMG"||s==="VIDEO"||s==="CANVAS"||s==="SOURCE")return!1}return qu(t)&&Ot(n)?!1:t in e}const Vd=new WeakMap,Dd=new WeakMap,qi=Symbol("_moveCb"),Hu=Symbol("_enterCb"),xd={name:"TransitionGroup",props:kt({},wy,{tag:String,moveClass:String}),setup(e,{slots:t}){const n=Id(),r=rd();let s,i;return ad(()=>{if(!s.length)return;const o=e.moveClass||`${e.name||"v"}-move`;if(!zy(s[0].el,n.vnode.el,o))return;s.forEach(qy),s.forEach(Hy);const a=s.filter(Ky);bd(),a.forEach(l=>{const c=l.el,u=c.style;Je(c,o),u.transform=u.webkitTransform=u.transitionDuration="";const h=c[qi]=f=>{f&&f.target!==c||(!f||/transform$/.test(f.propertyName))&&(c.removeEventListener("transitionend",h),c[qi]=null,pn(c,o))};c.addEventListener("transitionend",h)})}),()=>{const o=at(e),a=Sd(o);let l=o.tag||ee;s=i,i=t.default?Hl(t.default()):[];for(let c=0;c<i.length;c++){const u=i[c];u.key!=null&&Ss(u,Cs(u,a,r,n))}if(s)for(let c=0;c<s.length;c++){const u=s[c];Ss(u,Cs(u,a,r,n)),Vd.set(u,u.el.getBoundingClientRect())}return et(l,null,i)}}},$y=e=>delete e.mode;xd.props;const jy=xd;function qy(e){const t=e.el;t[qi]&&t[qi](),t[Hu]&&t[Hu]()}function Hy(e){Dd.set(e,e.el.getBoundingClientRect())}function Ky(e){const t=Vd.get(e),n=Dd.get(e),r=t.left-n.left,s=t.top-n.top;if(r||s){const i=e.el.style;return i.transform=i.webkitTransform=`translate(${r}px,${s}px)`,i.transitionDuration="0s",e}}function zy(e,t,n){const r=e.cloneNode(),s=e[Vr];s&&s.forEach(a=>{a.split(/\s+/).forEach(l=>l&&r.classList.remove(l))}),n.split(/\s+/).forEach(a=>a&&r.classList.add(a)),r.style.display="none";const i=t.nodeType===1?t:t.parentNode;i.appendChild(r);const{hasTransform:o}=Pd(r);return i.removeChild(r),o}const Dr=e=>{const t=e.props["onUpdate:modelValue"]||!1;return H(t)?n=>bi(t,n):t};function Gy(e){e.target.composing=!0}function Ku(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const rn=Symbol("_assign"),gR={created(e,{modifiers:{lazy:t,trim:n,number:r}},s){e[rn]=Dr(s);const i=r||s.props&&s.props.type==="number";vn(e,t?"change":"input",o=>{if(o.target.composing)return;let a=e.value;n&&(a=a.trim()),i&&(a=Fi(a)),e[rn](a)}),n&&vn(e,"change",()=>{e.value=e.value.trim()}),t||(vn(e,"compositionstart",Gy),vn(e,"compositionend",Ku),vn(e,"change",Ku))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,modifiers:{lazy:n,trim:r,number:s}},i){if(e[rn]=Dr(i),e.composing)return;const o=s||e.type==="number"?Fi(e.value):e.value,a=t??"";o!==a&&(document.activeElement===e&&e.type!=="range"&&(n||r&&e.value.trim()===a)||(e.value=a))}},_R={deep:!0,created(e,t,n){e[rn]=Dr(n),vn(e,"change",()=>{const r=e._modelValue,s=bs(e),i=e.checked,o=e[rn];if(H(r)){const a=Vl(r,s),l=a!==-1;if(i&&!l)o(r.concat(s));else if(!i&&l){const c=[...r];c.splice(a,1),o(c)}}else if(jr(r)){const a=new Set(r);i?a.add(s):a.delete(s),o(a)}else o(Nd(e,i))})},mounted:zu,beforeUpdate(e,t,n){e[rn]=Dr(n),zu(e,t,n)}};function zu(e,{value:t,oldValue:n},r){e._modelValue=t,H(t)?e.checked=Vl(t,r.props.value)>-1:jr(t)?e.checked=t.has(r.props.value):t!==n&&(e.checked=Ys(t,Nd(e,!0)))}const yR={deep:!0,created(e,{value:t,modifiers:{number:n}},r){const s=jr(t);vn(e,"change",()=>{const i=Array.prototype.filter.call(e.options,o=>o.selected).map(o=>n?Fi(bs(o)):bs(o));e[rn](e.multiple?s?new Set(i):i:i[0])}),e[rn]=Dr(r)},mounted(e,{value:t}){Gu(e,t)},beforeUpdate(e,t,n){e[rn]=Dr(n)},updated(e,{value:t}){Gu(e,t)}};function Gu(e,t){const n=e.multiple;if(!(n&&!H(t)&&!jr(t))){for(let r=0,s=e.options.length;r<s;r++){const i=e.options[r],o=bs(i);if(n)H(t)?i.selected=Vl(t,o)>-1:i.selected=t.has(o);else if(Ys(bs(i),t)){e.selectedIndex!==r&&(e.selectedIndex=r);return}}!n&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function bs(e){return"_value"in e?e._value:e.value}function Nd(e,t){const n=t?"_trueValue":"_falseValue";return n in e?e[n]:t}const Wy=["ctrl","shift","alt","meta"],Qy={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>Wy.some(n=>e[`${n}Key`]&&!t.includes(n))},vR=(e,t)=>{const n=e._withMods||(e._withMods={}),r=t.join(".");return n[r]||(n[r]=(s,...i)=>{for(let o=0;o<t.length;o++){const a=Qy[t[o]];if(a&&a(s,t))return}return e(s,...i)})},Yy={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},ER=(e,t)=>{const n=e._withKeys||(e._withKeys={}),r=t.join(".");return n[r]||(n[r]=s=>{if(!("key"in s))return;const i=er(s.key);if(t.some(o=>o===i||Yy[o]===i))return e(s)})},Xy=kt({patchProp:By},Ty);let Wu;function Jy(){return Wu||(Wu=Z_(Xy))}const Zy=(...e)=>{const t=Jy().createApp(...e),{mount:n}=t;return t.mount=r=>{const s=ev(r);if(!s)return;const i=t._component;!Z(i)&&!i.render&&!i.template&&(i.template=s.innerHTML),s.innerHTML="";const o=n(s,!1,tv(s));return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),o},t};function tv(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function ev(e){return Ot(e)?document.querySelector(e):e}/*!
  * vue-router v4.2.5
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */const dr=typeof window<"u";function nv(e){return e.__esModule||e[Symbol.toStringTag]==="Module"}const pt=Object.assign;function da(e,t){const n={};for(const r in t){const s=t[r];n[r]=xe(s)?s.map(e):e(s)}return n}const gs=()=>{},xe=Array.isArray,rv=/\/$/,sv=e=>e.replace(rv,"");function pa(e,t,n="/"){let r,s={},i="",o="";const a=t.indexOf("#");let l=t.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(r=t.slice(0,l),i=t.slice(l+1,a>-1?a:t.length),s=e(i)),a>-1&&(r=r||t.slice(0,a),o=t.slice(a,t.length)),r=lv(r??t,n),{fullPath:r+(i&&"?")+i+o,path:r,query:s,hash:o}}function iv(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function Qu(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function ov(e,t,n){const r=t.matched.length-1,s=n.matched.length-1;return r>-1&&r===s&&xr(t.matched[r],n.matched[s])&&kd(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function xr(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function kd(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!av(e[n],t[n]))return!1;return!0}function av(e,t){return xe(e)?Yu(e,t):xe(t)?Yu(t,e):e===t}function Yu(e,t){return xe(t)?e.length===t.length&&e.every((n,r)=>n===t[r]):e.length===1&&e[0]===t}function lv(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),r=e.split("/"),s=r[r.length-1];(s===".."||s===".")&&r.push("");let i=n.length-1,o,a;for(o=0;o<r.length;o++)if(a=r[o],a!==".")if(a==="..")i>1&&i--;else break;return n.slice(0,i).join("/")+"/"+r.slice(o-(o===r.length?1:0)).join("/")}var Vs;(function(e){e.pop="pop",e.push="push"})(Vs||(Vs={}));var _s;(function(e){e.back="back",e.forward="forward",e.unknown=""})(_s||(_s={}));function cv(e){if(!e)if(dr){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),sv(e)}const uv=/^[^#]+#/;function hv(e,t){return e.replace(uv,"#")+t}function fv(e,t){const n=document.documentElement.getBoundingClientRect(),r=e.getBoundingClientRect();return{behavior:t.behavior,left:r.left-n.left-(t.left||0),top:r.top-n.top-(t.top||0)}}const Ao=()=>({left:window.pageXOffset,top:window.pageYOffset});function dv(e){let t;if("el"in e){const n=e.el,r=typeof n=="string"&&n.startsWith("#"),s=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!s)return;t=fv(s,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.pageXOffset,t.top!=null?t.top:window.pageYOffset)}function Xu(e,t){return(history.state?history.state.position-t:-1)+e}const Ka=new Map;function pv(e,t){Ka.set(e,t)}function mv(e){const t=Ka.get(e);return Ka.delete(e),t}let gv=()=>location.protocol+"//"+location.host;function Od(e,t){const{pathname:n,search:r,hash:s}=t,i=e.indexOf("#");if(i>-1){let a=s.includes(e.slice(i))?e.slice(i).length:1,l=s.slice(a);return l[0]!=="/"&&(l="/"+l),Qu(l,"")}return Qu(n,e)+r+s}function _v(e,t,n,r){let s=[],i=[],o=null;const a=({state:f})=>{const m=Od(e,location),v=n.value,w=t.value;let I=0;if(f){if(n.value=m,t.value=f,o&&o===v){o=null;return}I=w?f.position-w.position:0}else r(m);s.forEach(S=>{S(n.value,v,{delta:I,type:Vs.pop,direction:I?I>0?_s.forward:_s.back:_s.unknown})})};function l(){o=n.value}function c(f){s.push(f);const m=()=>{const v=s.indexOf(f);v>-1&&s.splice(v,1)};return i.push(m),m}function u(){const{history:f}=window;f.state&&f.replaceState(pt({},f.state,{scroll:Ao()}),"")}function h(){for(const f of i)f();i=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",u,{passive:!0}),{pauseListeners:l,listen:c,destroy:h}}function Ju(e,t,n,r=!1,s=!1){return{back:e,current:t,forward:n,replaced:r,position:window.history.length,scroll:s?Ao():null}}function yv(e){const{history:t,location:n}=window,r={value:Od(e,n)},s={value:t.state};s.value||i(r.value,{back:null,current:r.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function i(l,c,u){const h=e.indexOf("#"),f=h>-1?(n.host&&document.querySelector("base")?e:e.slice(h))+l:gv()+e+l;try{t[u?"replaceState":"pushState"](c,"",f),s.value=c}catch(m){console.error(m),n[u?"replace":"assign"](f)}}function o(l,c){const u=pt({},t.state,Ju(s.value.back,l,s.value.forward,!0),c,{position:s.value.position});i(l,u,!0),r.value=l}function a(l,c){const u=pt({},s.value,t.state,{forward:l,scroll:Ao()});i(u.current,u,!0);const h=pt({},Ju(r.value,l,null),{position:u.position+1},c);i(l,h,!1),r.value=l}return{location:r,state:s,push:a,replace:o}}function vv(e){e=cv(e);const t=yv(e),n=_v(e,t.state,t.location,t.replace);function r(i,o=!0){o||n.pauseListeners(),history.go(i)}const s=pt({location:"",base:e,go:r,createHref:hv.bind(null,e)},t,n);return Object.defineProperty(s,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(s,"state",{enumerable:!0,get:()=>t.state.value}),s}function Ev(e){return typeof e=="string"||e&&typeof e=="object"}function Md(e){return typeof e=="string"||typeof e=="symbol"}const dn={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},Ld=Symbol("");var Zu;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(Zu||(Zu={}));function Nr(e,t){return pt(new Error,{type:e,[Ld]:!0},t)}function Xe(e,t){return e instanceof Error&&Ld in e&&(t==null||!!(e.type&t))}const th="[^/]+?",Tv={sensitive:!1,strict:!1,start:!0,end:!0},wv=/[.+*?^${}()[\]/\\]/g;function Iv(e,t){const n=pt({},Tv,t),r=[];let s=n.start?"^":"";const i=[];for(const c of e){const u=c.length?[]:[90];n.strict&&!c.length&&(s+="/");for(let h=0;h<c.length;h++){const f=c[h];let m=40+(n.sensitive?.25:0);if(f.type===0)h||(s+="/"),s+=f.value.replace(wv,"\\$&"),m+=40;else if(f.type===1){const{value:v,repeatable:w,optional:I,regexp:S}=f;i.push({name:v,repeatable:w,optional:I});const N=S||th;if(N!==th){m+=10;try{new RegExp(`(${N})`)}catch(G){throw new Error(`Invalid custom RegExp for param "${v}" (${N}): `+G.message)}}let L=w?`((?:${N})(?:/(?:${N}))*)`:`(${N})`;h||(L=I&&c.length<2?`(?:/${L})`:"/"+L),I&&(L+="?"),s+=L,m+=20,I&&(m+=-8),w&&(m+=-20),N===".*"&&(m+=-50)}u.push(m)}r.push(u)}if(n.strict&&n.end){const c=r.length-1;r[c][r[c].length-1]+=.7000000000000001}n.strict||(s+="/?"),n.end?s+="$":n.strict&&(s+="(?:/|$)");const o=new RegExp(s,n.sensitive?"":"i");function a(c){const u=c.match(o),h={};if(!u)return null;for(let f=1;f<u.length;f++){const m=u[f]||"",v=i[f-1];h[v.name]=m&&v.repeatable?m.split("/"):m}return h}function l(c){let u="",h=!1;for(const f of e){(!h||!u.endsWith("/"))&&(u+="/"),h=!1;for(const m of f)if(m.type===0)u+=m.value;else if(m.type===1){const{value:v,repeatable:w,optional:I}=m,S=v in c?c[v]:"";if(xe(S)&&!w)throw new Error(`Provided param "${v}" is an array but it is not repeatable (* or + modifiers)`);const N=xe(S)?S.join("/"):S;if(!N)if(I)f.length<2&&(u.endsWith("/")?u=u.slice(0,-1):h=!0);else throw new Error(`Missing required param "${v}"`);u+=N}}return u||"/"}return{re:o,score:r,keys:i,parse:a,stringify:l}}function Av(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=t[n]-e[n];if(r)return r;n++}return e.length<t.length?e.length===1&&e[0]===80?-1:1:e.length>t.length?t.length===1&&t[0]===80?1:-1:0}function Rv(e,t){let n=0;const r=e.score,s=t.score;for(;n<r.length&&n<s.length;){const i=Av(r[n],s[n]);if(i)return i;n++}if(Math.abs(s.length-r.length)===1){if(eh(r))return 1;if(eh(s))return-1}return s.length-r.length}function eh(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const Cv={type:0,value:""},Sv=/[a-zA-Z0-9_]/;function Pv(e){if(!e)return[[]];if(e==="/")return[[Cv]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(m){throw new Error(`ERR (${n})/"${c}": ${m}`)}let n=0,r=n;const s=[];let i;function o(){i&&s.push(i),i=[]}let a=0,l,c="",u="";function h(){c&&(n===0?i.push({type:0,value:c}):n===1||n===2||n===3?(i.length>1&&(l==="*"||l==="+")&&t(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:c,regexp:u,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):t("Invalid state to consume buffer"),c="")}function f(){c+=l}for(;a<e.length;){if(l=e[a++],l==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:l==="/"?(c&&h(),o()):l===":"?(h(),n=1):f();break;case 4:f(),n=r;break;case 1:l==="("?n=2:Sv.test(l)?f():(h(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+l:n=3:u+=l;break;case 3:h(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,u="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${c}"`),h(),o(),s}function bv(e,t,n){const r=Iv(Pv(e.path),n),s=pt(r,{record:e,parent:t,children:[],alias:[]});return t&&!s.record.aliasOf==!t.record.aliasOf&&t.children.push(s),s}function Vv(e,t){const n=[],r=new Map;t=sh({strict:!1,end:!0,sensitive:!1},t);function s(u){return r.get(u)}function i(u,h,f){const m=!f,v=Dv(u);v.aliasOf=f&&f.record;const w=sh(t,u),I=[v];if("alias"in u){const L=typeof u.alias=="string"?[u.alias]:u.alias;for(const G of L)I.push(pt({},v,{components:f?f.record.components:v.components,path:G,aliasOf:f?f.record:v}))}let S,N;for(const L of I){const{path:G}=L;if(h&&G[0]!=="/"){const U=h.record.path,ut=U[U.length-1]==="/"?"":"/";L.path=h.record.path+(G&&ut+G)}if(S=bv(L,h,w),f?f.alias.push(S):(N=N||S,N!==S&&N.alias.push(S),m&&u.name&&!rh(S)&&o(u.name)),v.children){const U=v.children;for(let ut=0;ut<U.length;ut++)i(U[ut],S,f&&f.children[ut])}f=f||S,(S.record.components&&Object.keys(S.record.components).length||S.record.name||S.record.redirect)&&l(S)}return N?()=>{o(N)}:gs}function o(u){if(Md(u)){const h=r.get(u);h&&(r.delete(u),n.splice(n.indexOf(h),1),h.children.forEach(o),h.alias.forEach(o))}else{const h=n.indexOf(u);h>-1&&(n.splice(h,1),u.record.name&&r.delete(u.record.name),u.children.forEach(o),u.alias.forEach(o))}}function a(){return n}function l(u){let h=0;for(;h<n.length&&Rv(u,n[h])>=0&&(u.record.path!==n[h].record.path||!Fd(u,n[h]));)h++;n.splice(h,0,u),u.record.name&&!rh(u)&&r.set(u.record.name,u)}function c(u,h){let f,m={},v,w;if("name"in u&&u.name){if(f=r.get(u.name),!f)throw Nr(1,{location:u});w=f.record.name,m=pt(nh(h.params,f.keys.filter(N=>!N.optional).map(N=>N.name)),u.params&&nh(u.params,f.keys.map(N=>N.name))),v=f.stringify(m)}else if("path"in u)v=u.path,f=n.find(N=>N.re.test(v)),f&&(m=f.parse(v),w=f.record.name);else{if(f=h.name?r.get(h.name):n.find(N=>N.re.test(h.path)),!f)throw Nr(1,{location:u,currentLocation:h});w=f.record.name,m=pt({},h.params,u.params),v=f.stringify(m)}const I=[];let S=f;for(;S;)I.unshift(S.record),S=S.parent;return{name:w,path:v,params:m,matched:I,meta:Nv(I)}}return e.forEach(u=>i(u)),{addRoute:i,resolve:c,removeRoute:o,getRoutes:a,getRecordMatcher:s}}function nh(e,t){const n={};for(const r of t)r in e&&(n[r]=e[r]);return n}function Dv(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:xv(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}}}function xv(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const r in e.components)t[r]=typeof n=="object"?n[r]:n;return t}function rh(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function Nv(e){return e.reduce((t,n)=>pt(t,n.meta),{})}function sh(e,t){const n={};for(const r in e)n[r]=r in t?t[r]:e[r];return n}function Fd(e,t){return t.children.some(n=>n===e||Fd(e,n))}const Bd=/#/g,kv=/&/g,Ov=/\//g,Mv=/=/g,Lv=/\?/g,Ud=/\+/g,Fv=/%5B/g,Bv=/%5D/g,$d=/%5E/g,Uv=/%60/g,jd=/%7B/g,$v=/%7C/g,qd=/%7D/g,jv=/%20/g;function Jl(e){return encodeURI(""+e).replace($v,"|").replace(Fv,"[").replace(Bv,"]")}function qv(e){return Jl(e).replace(jd,"{").replace(qd,"}").replace($d,"^")}function za(e){return Jl(e).replace(Ud,"%2B").replace(jv,"+").replace(Bd,"%23").replace(kv,"%26").replace(Uv,"`").replace(jd,"{").replace(qd,"}").replace($d,"^")}function Hv(e){return za(e).replace(Mv,"%3D")}function Kv(e){return Jl(e).replace(Bd,"%23").replace(Lv,"%3F")}function zv(e){return e==null?"":Kv(e).replace(Ov,"%2F")}function Hi(e){try{return decodeURIComponent(""+e)}catch{}return""+e}function Gv(e){const t={};if(e===""||e==="?")return t;const r=(e[0]==="?"?e.slice(1):e).split("&");for(let s=0;s<r.length;++s){const i=r[s].replace(Ud," "),o=i.indexOf("="),a=Hi(o<0?i:i.slice(0,o)),l=o<0?null:Hi(i.slice(o+1));if(a in t){let c=t[a];xe(c)||(c=t[a]=[c]),c.push(l)}else t[a]=l}return t}function ih(e){let t="";for(let n in e){const r=e[n];if(n=Hv(n),r==null){r!==void 0&&(t+=(t.length?"&":"")+n);continue}(xe(r)?r.map(i=>i&&za(i)):[r&&za(r)]).forEach(i=>{i!==void 0&&(t+=(t.length?"&":"")+n,i!=null&&(t+="="+i))})}return t}function Wv(e){const t={};for(const n in e){const r=e[n];r!==void 0&&(t[n]=xe(r)?r.map(s=>s==null?null:""+s):r==null?r:""+r)}return t}const Qv=Symbol(""),oh=Symbol(""),Ro=Symbol(""),Zl=Symbol(""),Ga=Symbol("");function es(){let e=[];function t(r){return e.push(r),()=>{const s=e.indexOf(r);s>-1&&e.splice(s,1)}}function n(){e=[]}return{add:t,list:()=>e.slice(),reset:n}}function yn(e,t,n,r,s){const i=r&&(r.enterCallbacks[s]=r.enterCallbacks[s]||[]);return()=>new Promise((o,a)=>{const l=h=>{h===!1?a(Nr(4,{from:n,to:t})):h instanceof Error?a(h):Ev(h)?a(Nr(2,{from:t,to:h})):(i&&r.enterCallbacks[s]===i&&typeof h=="function"&&i.push(h),o())},c=e.call(r&&r.instances[s],t,n,l);let u=Promise.resolve(c);e.length<3&&(u=u.then(l)),u.catch(h=>a(h))})}function ma(e,t,n,r){const s=[];for(const i of e)for(const o in i.components){let a=i.components[o];if(!(t!=="beforeRouteEnter"&&!i.instances[o]))if(Yv(a)){const c=(a.__vccOpts||a)[t];c&&s.push(yn(c,n,r,i,o))}else{let l=a();s.push(()=>l.then(c=>{if(!c)return Promise.reject(new Error(`Couldn't resolve component "${o}" at "${i.path}"`));const u=nv(c)?c.default:c;i.components[o]=u;const f=(u.__vccOpts||u)[t];return f&&yn(f,n,r,i,o)()}))}}return s}function Yv(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function ah(e){const t=Ve(Ro),n=Ve(Zl),r=de(()=>t.resolve(jt(e.to))),s=de(()=>{const{matched:l}=r.value,{length:c}=l,u=l[c-1],h=n.matched;if(!u||!h.length)return-1;const f=h.findIndex(xr.bind(null,u));if(f>-1)return f;const m=lh(l[c-2]);return c>1&&lh(u)===m&&h[h.length-1].path!==m?h.findIndex(xr.bind(null,l[c-2])):f}),i=de(()=>s.value>-1&&tE(n.params,r.value.params)),o=de(()=>s.value>-1&&s.value===n.matched.length-1&&kd(n.params,r.value.params));function a(l={}){return Zv(l)?t[jt(e.replace)?"replace":"push"](jt(e.to)).catch(gs):Promise.resolve()}return{route:r,href:de(()=>r.value.href),isActive:i,isExactActive:o,navigate:a}}const Xv=Ft({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:ah,setup(e,{slots:t}){const n=fo(ah(e)),{options:r}=Ve(Ro),s=de(()=>({[ch(e.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[ch(e.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const i=t.default&&t.default(n);return e.custom?i:Yl("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:s.value},i)}}}),Jv=Xv;function Zv(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function tE(e,t){for(const n in t){const r=t[n],s=e[n];if(typeof r=="string"){if(r!==s)return!1}else if(!xe(s)||s.length!==r.length||r.some((i,o)=>i!==s[o]))return!1}return!0}function lh(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const ch=(e,t,n)=>e??t??n,eE=Ft({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const r=Ve(Ga),s=de(()=>e.route||r.value),i=Ve(oh,0),o=de(()=>{let c=jt(i);const{matched:u}=s.value;let h;for(;(h=u[c])&&!h.components;)c++;return c}),a=de(()=>s.value.matched[o.value]);Di(oh,de(()=>o.value+1)),Di(Qv,a),Di(Ga,s);const l=sr();return Ir(()=>[l.value,a.value,e.name],([c,u,h],[f,m,v])=>{u&&(u.instances[h]=c,m&&m!==u&&c&&c===f&&(u.leaveGuards.size||(u.leaveGuards=m.leaveGuards),u.updateGuards.size||(u.updateGuards=m.updateGuards))),c&&u&&(!m||!xr(u,m)||!f)&&(u.enterCallbacks[h]||[]).forEach(w=>w(c))},{flush:"post"}),()=>{const c=s.value,u=e.name,h=a.value,f=h&&h.components[u];if(!f)return uh(n.default,{Component:f,route:c});const m=h.props[u],v=m?m===!0?c.params:typeof m=="function"?m(c):m:null,I=Yl(f,pt({},v,t,{onVnodeUnmounted:S=>{S.component.isUnmounted&&(h.instances[u]=null)},ref:l}));return uh(n.default,{Component:I,route:c})||I}}});function uh(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const Hd=eE;function nE(e){const t=Vv(e.routes,e),n=e.parseQuery||Gv,r=e.stringifyQuery||ih,s=e.history,i=es(),o=es(),a=es(),l=l_(dn);let c=dn;dr&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=da.bind(null,y=>""+y),h=da.bind(null,zv),f=da.bind(null,Hi);function m(y,O){let V,$;return Md(y)?(V=t.getRecordMatcher(y),$=O):$=y,t.addRoute($,V)}function v(y){const O=t.getRecordMatcher(y);O&&t.removeRoute(O)}function w(){return t.getRoutes().map(y=>y.record)}function I(y){return!!t.getRecordMatcher(y)}function S(y,O){if(O=pt({},O||l.value),typeof y=="string"){const g=pa(n,y,O.path),_=t.resolve({path:g.path},O),T=s.createHref(g.fullPath);return pt(g,_,{params:f(_.params),hash:Hi(g.hash),redirectedFrom:void 0,href:T})}let V;if("path"in y)V=pt({},y,{path:pa(n,y.path,O.path).path});else{const g=pt({},y.params);for(const _ in g)g[_]==null&&delete g[_];V=pt({},y,{params:h(g)}),O.params=h(O.params)}const $=t.resolve(V,O),ft=y.hash||"";$.params=u(f($.params));const d=iv(r,pt({},y,{hash:qv(ft),path:$.path})),p=s.createHref(d);return pt({fullPath:d,hash:ft,query:r===ih?Wv(y.query):y.query||{}},$,{redirectedFrom:void 0,href:p})}function N(y){return typeof y=="string"?pa(n,y,l.value.path):pt({},y)}function L(y,O){if(c!==y)return Nr(8,{from:O,to:y})}function G(y){return Rt(y)}function U(y){return G(pt(N(y),{replace:!0}))}function ut(y){const O=y.matched[y.matched.length-1];if(O&&O.redirect){const{redirect:V}=O;let $=typeof V=="function"?V(y):V;return typeof $=="string"&&($=$.includes("?")||$.includes("#")?$=N($):{path:$},$.params={}),pt({query:y.query,hash:y.hash,params:"path"in $?{}:y.params},$)}}function Rt(y,O){const V=c=S(y),$=l.value,ft=y.state,d=y.force,p=y.replace===!0,g=ut(V);if(g)return Rt(pt(N(g),{state:typeof g=="object"?pt({},ft,g.state):ft,force:d,replace:p}),O||V);const _=V;_.redirectedFrom=O;let T;return!d&&ov(r,$,V)&&(T=Nr(16,{to:_,from:$}),Oe($,$,!0,!1)),(T?Promise.resolve(T):lt(_,$)).catch(A=>Xe(A)?Xe(A,2)?A:un(A):ht(A,_,$)).then(A=>{if(A){if(Xe(A,2))return Rt(pt({replace:p},N(A.to),{state:typeof A.to=="object"?pt({},ft,A.to.state):ft,force:d}),O||_)}else A=B(_,$,!0,p,ft);return Mt(_,$,A),A})}function J(y,O){const V=L(y,O);return V?Promise.reject(V):Promise.resolve()}function vt(y){const O=cr.values().next().value;return O&&typeof O.runWithContext=="function"?O.runWithContext(y):y()}function lt(y,O){let V;const[$,ft,d]=rE(y,O);V=ma($.reverse(),"beforeRouteLeave",y,O);for(const g of $)g.leaveGuards.forEach(_=>{V.push(yn(_,y,O))});const p=J.bind(null,y,O);return V.push(p),Jt(V).then(()=>{V=[];for(const g of i.list())V.push(yn(g,y,O));return V.push(p),Jt(V)}).then(()=>{V=ma(ft,"beforeRouteUpdate",y,O);for(const g of ft)g.updateGuards.forEach(_=>{V.push(yn(_,y,O))});return V.push(p),Jt(V)}).then(()=>{V=[];for(const g of d)if(g.beforeEnter)if(xe(g.beforeEnter))for(const _ of g.beforeEnter)V.push(yn(_,y,O));else V.push(yn(g.beforeEnter,y,O));return V.push(p),Jt(V)}).then(()=>(y.matched.forEach(g=>g.enterCallbacks={}),V=ma(d,"beforeRouteEnter",y,O),V.push(p),Jt(V))).then(()=>{V=[];for(const g of o.list())V.push(yn(g,y,O));return V.push(p),Jt(V)}).catch(g=>Xe(g,8)?g:Promise.reject(g))}function Mt(y,O,V){a.list().forEach($=>vt(()=>$(y,O,V)))}function B(y,O,V,$,ft){const d=L(y,O);if(d)return d;const p=O===dn,g=dr?history.state:{};V&&($||p?s.replace(y.fullPath,pt({scroll:p&&g&&g.scroll},ft)):s.push(y.fullPath,ft)),l.value=y,Oe(y,O,V,p),un()}let dt;function le(){dt||(dt=s.listen((y,O,V)=>{if(!hi.listening)return;const $=S(y),ft=ut($);if(ft){Rt(pt(ft,{replace:!0}),$).catch(gs);return}c=$;const d=l.value;dr&&pv(Xu(d.fullPath,V.delta),Ao()),lt($,d).catch(p=>Xe(p,12)?p:Xe(p,2)?(Rt(p.to,$).then(g=>{Xe(g,20)&&!V.delta&&V.type===Vs.pop&&s.go(-1,!1)}).catch(gs),Promise.reject()):(V.delta&&s.go(-V.delta,!1),ht(p,$,d))).then(p=>{p=p||B($,d,!1),p&&(V.delta&&!Xe(p,8)?s.go(-V.delta,!1):V.type===Vs.pop&&Xe(p,20)&&s.go(-1,!1)),Mt($,d,p)}).catch(gs)}))}let Qe=es(),bt=es(),gt;function ht(y,O,V){un(y);const $=bt.list();return $.length?$.forEach(ft=>ft(y,O,V)):console.error(y),Promise.reject(y)}function Ye(){return gt&&l.value!==dn?Promise.resolve():new Promise((y,O)=>{Qe.add([y,O])})}function un(y){return gt||(gt=!y,le(),Qe.list().forEach(([O,V])=>y?V(y):O()),Qe.reset()),y}function Oe(y,O,V,$){const{scrollBehavior:ft}=e;if(!dr||!ft)return Promise.resolve();const d=!V&&mv(Xu(y.fullPath,0))||($||!V)&&history.state&&history.state.scroll||null;return Qf().then(()=>ft(y,O,d)).then(p=>p&&dv(p)).catch(p=>ht(p,y,O))}const he=y=>s.go(y);let lr;const cr=new Set,hi={currentRoute:l,listening:!0,addRoute:m,removeRoute:v,hasRoute:I,getRoutes:w,resolve:S,options:e,push:G,replace:U,go:he,back:()=>he(-1),forward:()=>he(1),beforeEach:i.add,beforeResolve:o.add,afterEach:a.add,onError:bt.add,isReady:Ye,install(y){const O=this;y.component("RouterLink",Jv),y.component("RouterView",Hd),y.config.globalProperties.$router=O,Object.defineProperty(y.config.globalProperties,"$route",{enumerable:!0,get:()=>jt(l)}),dr&&!lr&&l.value===dn&&(lr=!0,G(s.location).catch(ft=>{}));const V={};for(const ft in dn)Object.defineProperty(V,ft,{get:()=>l.value[ft],enumerable:!0});y.provide(Ro,O),y.provide(Zl,$f(V)),y.provide(Ga,l);const $=y.unmount;cr.add(y),y.unmount=function(){cr.delete(y),cr.size<1&&(c=dn,dt&&dt(),dt=null,l.value=dn,lr=!1,gt=!1),$()}}};function Jt(y){return y.reduce((O,V)=>O.then(()=>vt(V)),Promise.resolve())}return hi}function rE(e,t){const n=[],r=[],s=[],i=Math.max(t.matched.length,e.matched.length);for(let o=0;o<i;o++){const a=t.matched[o];a&&(e.matched.find(c=>xr(c,a))?r.push(a):n.push(a));const l=e.matched[o];l&&(t.matched.find(c=>xr(c,l))||s.push(l))}return[n,r,s]}function sE(){return Ve(Ro)}function TR(){return Ve(Zl)}const iE=q("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M48.854 0C21.839 0 0 22 0 49.217c0 21.756 13.993 40.172 33.405 46.69 2.427.49 3.316-1.059 3.316-2.362 0-1.141-.08-5.052-.08-9.127-13.59 2.934-16.42-5.867-16.42-5.867-2.184-5.704-5.42-7.17-5.42-7.17-4.448-3.015.324-3.015.324-3.015 4.934.326 7.523 5.052 7.523 5.052 4.367 7.496 11.404 5.378 14.235 4.074.404-3.178 1.699-5.378 3.074-6.6-10.839-1.141-22.243-5.378-22.243-24.283 0-5.378 1.94-9.778 5.014-13.2-.485-1.222-2.184-6.275.486-13.038 0 0 4.125-1.304 13.426 5.052a46.97 46.97 0 0 1 12.214-1.63c4.125 0 8.33.571 12.213 1.63 9.302-6.356 13.427-5.052 13.427-5.052 2.67 6.763.97 11.816.485 13.038 3.155 3.422 5.015 7.822 5.015 13.2 0 18.905-11.404 23.06-22.324 24.283 1.78 1.548 3.316 4.481 3.316 9.126 0 6.6-.08 11.897-.08 13.526 0 1.304.89 2.853 3.316 2.364 19.412-6.52 33.405-24.935 33.405-46.691C97.707 22 75.788 0 48.854 0z"},null,-1),oE=[iE],Kd=Ft({__name:"IconGithub",props:{color:{}},setup(e){return(t,n)=>(yt(),Nt("svg",{style:me({fill:t.color??"#fff"}),viewBox:"0 0 98 96",xmlns:"http://www.w3.org/2000/svg"},oE,4))}}),aE=Ft({__name:"IconHome",props:{color:{}},setup(e){return(t,n)=>(yt(),Nt("svg",{style:me({fill:t.color??"#fff"}),viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},[q("path",{style:me({fill:t.color??"#fff"}),d:"M512 128 128 447.936V896h255.936V640H640v256h255.936V447.936z"},null,4)],4))}}),lE={viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},cE=Ft({__name:"IconMenu",props:{color:{}},setup(e){return(t,n)=>(yt(),Nt("svg",lE,[q("path",{style:me({stroke:t.color??"#fff"}),id:"Vector",d:"M11 17H19M5 12H19M11 7H19","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},null,4)]))}}),tc=e=>($l("data-v-4df9d91e"),e=e(),jl(),e),uE={class:"bar"},hE=tc(()=>q("span",{id:"bingo"},"BINGO",-1)),fE={class:"mobile-menu-container"},dE={class:"menu-container"},pE={target:"_blank",rel:"noopener noreferrer",href:"https://github.com/BelgianNoise",class:"github"},mE={class:"mobile-menu-slide-in"},gE=tc(()=>q("hr",null,null,-1)),_E=tc(()=>q("hr",null,null,-1)),yE=Ft({__name:"HeaderComponent",setup(e){sE().afterEach((r,s)=>{r.fullPath!==s.fullPath&&(n.value=!1)});let n=sr(!1);return(r,s)=>{const i=ql("RouterLink");return yt(),Nt("header",{class:Qs({mobileSlideOutVisible:jt(n)})},[q("div",uE,[hE,q("div",fE,[et(i,{to:"/"},{default:ve(()=>[et(aE,{color:"var(--color-foreground)",class:"icon"})]),_:1}),q("button",{onClick:s[0]||(s[0]=o=>oe(n)?n.value=!jt(n):n=!jt(n))},[et(cE,{color:"var(--color-foreground)",class:"icon"})])]),q("div",dE,[et(i,{to:"/"},{default:ve(()=>[Fe(" Home ")]),_:1}),et(i,{to:"/pricing"},{default:ve(()=>[Fe(" Pricing ")]),_:1}),et(i,{to:"/create"},{default:ve(()=>[Fe(" Create New ")]),_:1}),q("a",pE,[et(Kd,{class:"icon",color:"var(--color-foreground)"})])])]),et(Io,{name:"slide"},{default:ve(()=>[P_(q("div",mE,[et(i,{to:"/"},{default:ve(()=>[Fe(" Home ")]),_:1}),gE,et(i,{to:"/pricing"},{default:ve(()=>[Fe(" Pricing ")]),_:1}),_E,et(i,{to:"/create"},{default:ve(()=>[Fe(" Create New ")]),_:1})],512),[[Cy,jt(n)]])]),_:1})],2)}}}),qr=(e,t)=>{const n=e.__vccOpts||e;for(const[r,s]of t)n[r]=s;return n},vE=qr(yE,[["__scopeId","data-v-4df9d91e"]]),EE="/linkedin.png",TE={viewBox:"0 -28.5 256 256",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",preserveAspectRatio:"xMidYMid",fill:"transparent"},wE=Ft({__name:"IconDiscord",props:{color:{}},setup(e){return(t,n)=>(yt(),Nt("svg",TE,[q("g",null,[q("path",{style:me({fill:t.color??"#5865F2"}),d:"M216.856339,16.5966031 C200.285002,8.84328665 182.566144,3.2084988 164.041564,0 C161.766523,4.11318106 159.108624,9.64549908 157.276099,14.0464379 C137.583995,11.0849896 118.072967,11.0849896 98.7430163,14.0464379 C96.9108417,9.64549908 94.1925838,4.11318106 91.8971895,0 C73.3526068,3.2084988 55.6133949,8.86399117 39.0420583,16.6376612 C5.61752293,67.146514 -3.4433191,116.400813 1.08711069,164.955721 C23.2560196,181.510915 44.7403634,191.567697 65.8621325,198.148576 C71.0772151,190.971126 75.7283628,183.341335 79.7352139,175.300261 C72.104019,172.400575 64.7949724,168.822202 57.8887866,164.667963 C59.7209612,163.310589 61.5131304,161.891452 63.2445898,160.431257 C105.36741,180.133187 151.134928,180.133187 192.754523,160.431257 C194.506336,161.891452 196.298154,163.310589 198.110326,164.667963 C191.183787,168.842556 183.854737,172.420929 176.223542,175.320965 C180.230393,183.341335 184.861538,190.991831 190.096624,198.16893 C211.238746,191.588051 232.743023,181.531619 254.911949,164.955721 C260.227747,108.668201 245.831087,59.8662432 216.856339,16.5966031 Z M85.4738752,135.09489 C72.8290281,135.09489 62.4592217,123.290155 62.4592217,108.914901 C62.4592217,94.5396472 72.607595,82.7145587 85.4738752,82.7145587 C98.3405064,82.7145587 108.709962,94.5189427 108.488529,108.914901 C108.508531,123.290155 98.3405064,135.09489 85.4738752,135.09489 Z M170.525237,135.09489 C157.88039,135.09489 147.510584,123.290155 147.510584,108.914901 C147.510584,94.5396472 157.658606,82.7145587 170.525237,82.7145587 C183.391518,82.7145587 193.761324,94.5189427 193.539891,108.914901 C193.539891,123.290155 183.391518,135.09489 170.525237,135.09489 Z","fill-rule":"nonzero"},null,4)])]))}}),Co=e=>($l("data-v-4de5ad3e"),e=e(),jl(),e),IE=Co(()=>q("hr",null,null,-1)),AE=Co(()=>q("p",{class:"disclaimer"}," Since you do not require an account to use this app, all data is public in some way or another. Please do not keep any sensitive data in your games, and do not try to circumvent the makeshift security and ruin the fun for others. ",-1)),RE=Co(()=>q("p",null,[Fe(" made by "),q("span",{class:"name"},"Arthur Joppart"),Fe(" using "),q("a",{class:"vue-green",href:"https://vuejs.org/",target:"_blank",rel:"noreferrer"},"Vue.js")],-1)),CE={class:"socials"},SE={href:"https://github.com/BelgianNoise",target:"_blank",rel:"noreferrer"},PE=Co(()=>q("a",{href:"https://www.linkedin.com/in/arthur-joppart-728a7817a/",target:"_blank",rel:"noreferrer"},[q("img",{src:EE,alt:"linkedin"})],-1)),bE={href:"https://discordapp.com/users/125339040613531648",target:"_blank",rel:"noreferrer"},VE=Ft({__name:"FooterComponent",setup(e){return(t,n)=>(yt(),Nt("footer",null,[IE,AE,RE,q("div",CE,[q("a",SE,[et(Kd)]),PE,q("a",bE,[et(wE,{color:"var(--color-foreground-light)"})])])]))}}),DE=qr(VE,[["__scopeId","data-v-4de5ad3e"]]),ns=sr([]);function xE(){function e(r){ns.value.push(r)}function t(){ns.value=[]}function n(r){ns.value=ns.value.filter(s=>!r.includes(s))}return{emit:e,bus:ns,clear:t,removeHandledNotifications:n}}let vi;const NE=new Uint8Array(16);function kE(){if(!vi&&(vi=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!vi))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return vi(NE)}const Kt=[];for(let e=0;e<256;++e)Kt.push((e+256).toString(16).slice(1));function OE(e,t=0){return Kt[e[t+0]]+Kt[e[t+1]]+Kt[e[t+2]]+Kt[e[t+3]]+"-"+Kt[e[t+4]]+Kt[e[t+5]]+"-"+Kt[e[t+6]]+Kt[e[t+7]]+"-"+Kt[e[t+8]]+Kt[e[t+9]]+"-"+Kt[e[t+10]]+Kt[e[t+11]]+Kt[e[t+12]]+Kt[e[t+13]]+Kt[e[t+14]]+Kt[e[t+15]]}const ME=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),hh={randomUUID:ME};function LE(e,t,n){if(hh.randomUUID&&!t&&!e)return hh.randomUUID();e=e||{};const r=e.random||(e.rng||kE)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,t){n=n||0;for(let s=0;s<16;++s)t[n+s]=r[s];return t}return OE(r)}var as=(e=>(e.SUCCESS="SUCCESS",e.INFO="INFO",e.WARNING="WARNING",e.ERROR="ERROR",e))(as||{});function wR(e,t,n=3e3){return{id:LE(),level:e,message:t,timeout:n}}const FE={viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},zd=Ft({__name:"IconPlus",props:{color:{}},setup(e){return(t,n)=>(yt(),Nt("svg",FE,[q("path",{style:me({stroke:t.color??"#fff"}),d:"M4 12H20M12 4V20",stroke:"#000000","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},null,4)]))}}),BE=q("rect",{id:"Icons",x:"-640",y:"-64",width:"1280",height:"800",style:{fill:"none"}},null,-1),UE=q("path",{d:"M32.427,7.987c2.183,0.124 4,1.165 5.096,3.281l17.936,36.208c1.739,3.66 -0.954,8.585 -5.373,8.656l-36.119,0c-4.022,-0.064 -7.322,-4.631 -5.352,-8.696l18.271,-36.207c0.342,-0.65 0.498,-0.838 0.793,-1.179c1.186,-1.375 2.483,-2.111 4.748,-2.063Zm-0.295,3.997c-0.687,0.034 -1.316,0.419 -1.659,1.017c-6.312,11.979 -12.397,24.081 -18.301,36.267c-0.546,1.225 0.391,2.797 1.762,2.863c12.06,0.195 24.125,0.195 36.185,0c1.325,-0.064 2.321,-1.584 1.769,-2.85c-5.793,-12.184 -11.765,-24.286 -17.966,-36.267c-0.366,-0.651 -0.903,-1.042 -1.79,-1.03Z",style:{"fill-rule":"nonzero"}},null,-1),$E=q("path",{d:"M33.631,40.581l-3.348,0l-0.368,-16.449l4.1,0l-0.384,16.449Zm-3.828,5.03c0,-0.609 0.197,-1.113 0.592,-1.514c0.396,-0.4 0.935,-0.601 1.618,-0.601c0.684,0 1.223,0.201 1.618,0.601c0.395,0.401 0.593,0.905 0.593,1.514c0,0.587 -0.193,1.078 -0.577,1.473c-0.385,0.395 -0.929,0.593 -1.634,0.593c-0.705,0 -1.249,-0.198 -1.634,-0.593c-0.384,-0.395 -0.576,-0.886 -0.576,-1.473Z",style:{"fill-rule":"nonzero"}},null,-1),jE=[BE,UE,$E],qE=Ft({__name:"IconWarning",props:{color:{type:String,default:"#fff"}},setup(e){return(t,n)=>(yt(),Nt("svg",{style:me([{fill:e.color},{"fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2"}]),viewBox:"0 0 64 64",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink","xml:space":"preserve","xmlns:serif":"http://www.serif.com/"},jE,4))}}),HE=q("circle",{cx:"12",cy:"12",r:"10","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},null,-1),KE=q("path",{d:"M5 19L19 5","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},null,-1),zE=[HE,KE],GE=Ft({__name:"IconError",props:{color:{type:String,default:"#fff"}},setup(e){return(t,n)=>(yt(),Nt("svg",{style:me({stroke:e.color}),viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},zE,4))}}),WE=q("path",{d:"M12 17.75C12.4142 17.75 12.75 17.4142 12.75 17V11C12.75 10.5858 12.4142 10.25 12 10.25C11.5858 10.25 11.25 10.5858 11.25 11V17C11.25 17.4142 11.5858 17.75 12 17.75Z"},null,-1),QE=q("path",{d:"M12 7C12.5523 7 13 7.44772 13 8C13 8.55228 12.5523 9 12 9C11.4477 9 11 8.55228 11 8C11 7.44772 11.4477 7 12 7Z"},null,-1),YE=q("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M1.25 12C1.25 6.06294 6.06294 1.25 12 1.25C17.9371 1.25 22.75 6.06294 22.75 12C22.75 17.9371 17.9371 22.75 12 22.75C6.06294 22.75 1.25 17.9371 1.25 12ZM12 2.75C6.89137 2.75 2.75 6.89137 2.75 12C2.75 17.1086 6.89137 21.25 12 21.25C17.1086 21.25 21.25 17.1086 21.25 12C21.25 6.89137 17.1086 2.75 12 2.75Z"},null,-1),XE=[WE,QE,YE],JE=Ft({__name:"IconInfo",props:{color:{type:String,default:"#fff"}},setup(e){return(t,n)=>(yt(),Nt("svg",{style:me({fill:e.color}),viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},XE,4))}}),ZE=q("circle",{fill:"none","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"20px",cx:"256",cy:"256",r:"246"},null,-1),t0=q("polyline",{fill:"none","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"20px",points:"115.54 268.77 200.67 353.9 396.46 158.1"},null,-1),e0=[ZE,t0],n0=Ft({__name:"IconSuccess",props:{color:{type:String,default:"#fff"}},setup(e){return(t,n)=>(yt(),Nt("svg",{style:me({stroke:e.color}),viewBox:"0 0 512 512",xmlns:"http://www.w3.org/2000/svg"},e0,4))}}),r0={class:"notification-container"},s0=Ft({__name:"NotificationPane",setup(e){const t=xE(),n=sr([]);Kl(()=>{Ir(t.bus,s=>{for(const i of s)n.value.indexOf(i)===-1&&(n.value.push(i),setTimeout(()=>{r(i.id)},i.timeout));s.length>0&&t.removeHandledNotifications(s)},{deep:!0})});const r=s=>{const i=n.value.findIndex(o=>o.id===s);i!=-1&&n.value.splice(i,1)};return(s,i)=>(yt(),Nt("div",r0,[et(jy,{name:"notif"},{default:ve(()=>[(yt(!0),Nt(ee,null,ud(n.value,o=>(yt(),Nt("div",{key:o.id,class:Qs(["notification",o.level])},[et(zd,{class:"cross",color:"#fff",onClick:a=>r(o.id)},null,8,["onClick"]),o.level===jt(as).ERROR?(yt(),En(GE,{key:0,class:"notification-icon",color:"var(--color-error-red-dark)"})):o.level===jt(as).WARNING?(yt(),En(qE,{key:1,class:"notification-icon",color:"var(--color-warning-orange-dark)"})):o.level===jt(as).SUCCESS?(yt(),En(n0,{key:2,class:"notification-icon",color:"var(--color-success-green-dark)"})):o.level===jt(as).INFO?(yt(),En(JE,{key:3,class:"notification-icon",color:"var(--color-info-blue-dark)"})):ay("",!0),q("p",null,Vi(o.message),1)],2))),128))]),_:1})]))}}),i0=qr(s0,[["__scopeId","data-v-644156a3"]]),o0=Ft({__name:"App",setup(e){return(t,n)=>(yt(),Nt(ee,null,[et(i0),et(vE),q("main",null,[et(Io,{name:"fade",duration:{enter:100,leave:100}},{default:ve(()=>[et(jt(Hd))]),_:1})]),et(DE)],64))}}),a0=qr(o0,[["__scopeId","data-v-1cb35989"]]),l0="modulepreload",c0=function(e){return"/"+e},fh={},hr=function(t,n,r){let s=Promise.resolve();if(n&&n.length>0){const i=document.getElementsByTagName("link");s=Promise.all(n.map(o=>{if(o=c0(o),o in fh)return;fh[o]=!0;const a=o.endsWith(".css"),l=a?'[rel="stylesheet"]':"";if(!!r)for(let h=i.length-1;h>=0;h--){const f=i[h];if(f.href===o&&(!a||f.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${o}"]${l}`))return;const u=document.createElement("link");if(u.rel=a?"stylesheet":l0,a||(u.as="script",u.crossOrigin=""),u.href=o,document.head.appendChild(u),a)return new Promise((h,f)=>{u.addEventListener("load",h),u.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${o}`)))})}))}return s.then(()=>t()).catch(i=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=i,window.dispatchEvent(o),!o.defaultPrevented)throw i})};var dh={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gd=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let s=e.charCodeAt(r);s<128?t[n++]=s:s<2048?(t[n++]=s>>6|192,t[n++]=s&63|128):(s&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=s>>18|240,t[n++]=s>>12&63|128,t[n++]=s>>6&63|128,t[n++]=s&63|128):(t[n++]=s>>12|224,t[n++]=s>>6&63|128,t[n++]=s&63|128)}return t},u0=function(e){const t=[];let n=0,r=0;for(;n<e.length;){const s=e[n++];if(s<128)t[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=e[n++];t[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=e[n++],o=e[n++],a=e[n++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;t[r++]=String.fromCharCode(55296+(l>>10)),t[r++]=String.fromCharCode(56320+(l&1023))}else{const i=e[n++],o=e[n++];t[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return t.join("")},Wd={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<e.length;s+=3){const i=e[s],o=s+1<e.length,a=o?e[s+1]:0,l=s+2<e.length,c=l?e[s+2]:0,u=i>>2,h=(i&3)<<4|a>>4;let f=(a&15)<<2|c>>6,m=c&63;l||(m=64,o||(f=64)),r.push(n[u],n[h],n[f],n[m])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Gd(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):u0(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<e.length;){const i=n[e.charAt(s++)],a=s<e.length?n[e.charAt(s)]:0;++s;const c=s<e.length?n[e.charAt(s)]:64;++s;const h=s<e.length?n[e.charAt(s)]:64;if(++s,i==null||a==null||c==null||h==null)throw new h0;const f=i<<2|a>>4;if(r.push(f),c!==64){const m=a<<4&240|c>>2;if(r.push(m),h!==64){const v=c<<6&192|h;r.push(v)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class h0 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const f0=function(e){const t=Gd(e);return Wd.encodeByteArray(t,!0)},Ki=function(e){return f0(e).replace(/\./g,"")},d0=function(e){try{return Wd.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p0(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m0=()=>p0().__FIREBASE_DEFAULTS__,g0=()=>{if(typeof process>"u"||typeof dh>"u")return;const e=dh.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},_0=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&d0(e[1]);return t&&JSON.parse(t)},Qd=()=>{try{return m0()||g0()||_0()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},y0=e=>{var t,n;return(n=(t=Qd())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},v0=e=>{const t=y0(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},Yd=()=>{var e;return(e=Qd())===null||e===void 0?void 0:e.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E0{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T0(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",s=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Ki(JSON.stringify(n)),Ki(JSON.stringify(o)),""].join(".")}function w0(){try{return typeof indexedDB=="object"}catch{return!1}}function I0(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;t(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A0="FirebaseError";class Hr extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=A0,Object.setPrototypeOf(this,Hr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Xd.prototype.create)}}class Xd{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},s=`${this.service}/${t}`,i=this.errors[t],o=i?R0(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new Hr(s,a,r)}}function R0(e,t){return e.replace(C0,(n,r)=>{const s=t[r];return s!=null?String(s):`<${r}?>`})}const C0=/\{\$([^}]+)}/g;function Wa(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const s of n){if(!r.includes(s))return!1;const i=e[s],o=t[s];if(ph(i)&&ph(o)){if(!Wa(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function ph(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qn(e){return e&&e._delegate?e._delegate:e}class Ds{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bn="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S0{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new E0;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),s=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(b0(t))try{this.getOrInitializeService({instanceIdentifier:Bn})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(t=Bn){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Bn){return this.instances.has(t)}getOptions(t=Bn){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(t,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(t),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&t(o,s),()=>{i.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:P0(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Bn){return this.component?this.component.multipleInstances?t:Bn:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function P0(e){return e===Bn?void 0:e}function b0(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V0{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new S0(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ot;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(ot||(ot={}));const D0={debug:ot.DEBUG,verbose:ot.VERBOSE,info:ot.INFO,warn:ot.WARN,error:ot.ERROR,silent:ot.SILENT},x0=ot.INFO,N0={[ot.DEBUG]:"log",[ot.VERBOSE]:"log",[ot.INFO]:"info",[ot.WARN]:"warn",[ot.ERROR]:"error"},k0=(e,t,...n)=>{if(t<e.logLevel)return;const r=new Date().toISOString(),s=N0[t];if(s)console[s](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Jd{constructor(t){this.name=t,this._logLevel=x0,this._logHandler=k0,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in ot))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?D0[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,ot.DEBUG,...t),this._logHandler(this,ot.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,ot.VERBOSE,...t),this._logHandler(this,ot.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,ot.INFO,...t),this._logHandler(this,ot.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,ot.WARN,...t),this._logHandler(this,ot.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,ot.ERROR,...t),this._logHandler(this,ot.ERROR,...t)}}const O0=(e,t)=>t.some(n=>e instanceof n);let mh,gh;function M0(){return mh||(mh=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function L0(){return gh||(gh=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Zd=new WeakMap,Qa=new WeakMap,tp=new WeakMap,ga=new WeakMap,ec=new WeakMap;function F0(e){const t=new Promise((n,r)=>{const s=()=>{e.removeEventListener("success",i),e.removeEventListener("error",o)},i=()=>{n(An(e.result)),s()},o=()=>{r(e.error),s()};e.addEventListener("success",i),e.addEventListener("error",o)});return t.then(n=>{n instanceof IDBCursor&&Zd.set(n,e)}).catch(()=>{}),ec.set(t,e),t}function B0(e){if(Qa.has(e))return;const t=new Promise((n,r)=>{const s=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",o),e.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(e.error||new DOMException("AbortError","AbortError")),s()};e.addEventListener("complete",i),e.addEventListener("error",o),e.addEventListener("abort",o)});Qa.set(e,t)}let Ya={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return Qa.get(e);if(t==="objectStoreNames")return e.objectStoreNames||tp.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return An(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function U0(e){Ya=e(Ya)}function $0(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call(_a(this),t,...n);return tp.set(r,t.sort?t.sort():[t]),An(r)}:L0().includes(e)?function(...t){return e.apply(_a(this),t),An(Zd.get(this))}:function(...t){return An(e.apply(_a(this),t))}}function j0(e){return typeof e=="function"?$0(e):(e instanceof IDBTransaction&&B0(e),O0(e,M0())?new Proxy(e,Ya):e)}function An(e){if(e instanceof IDBRequest)return F0(e);if(ga.has(e))return ga.get(e);const t=j0(e);return t!==e&&(ga.set(e,t),ec.set(t,e)),t}const _a=e=>ec.get(e);function q0(e,t,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(e,t),a=An(o);return r&&o.addEventListener("upgradeneeded",l=>{r(An(o.result),l.oldVersion,l.newVersion,An(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const H0=["get","getKey","getAll","getAllKeys","count"],K0=["put","add","delete","clear"],ya=new Map;function _h(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(ya.get(t))return ya.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,s=K0.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||H0.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),s&&l.done]))[0]};return ya.set(t,i),i}U0(e=>({...e,get:(t,n,r)=>_h(t,n)||e.get(t,n,r),has:(t,n)=>!!_h(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z0{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(G0(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function G0(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Xa="@firebase/app",yh="0.9.25";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yn=new Jd("@firebase/app"),W0="@firebase/app-compat",Q0="@firebase/analytics-compat",Y0="@firebase/analytics",X0="@firebase/app-check-compat",J0="@firebase/app-check",Z0="@firebase/auth",tT="@firebase/auth-compat",eT="@firebase/database",nT="@firebase/database-compat",rT="@firebase/functions",sT="@firebase/functions-compat",iT="@firebase/installations",oT="@firebase/installations-compat",aT="@firebase/messaging",lT="@firebase/messaging-compat",cT="@firebase/performance",uT="@firebase/performance-compat",hT="@firebase/remote-config",fT="@firebase/remote-config-compat",dT="@firebase/storage",pT="@firebase/storage-compat",mT="@firebase/firestore",gT="@firebase/firestore-compat",_T="firebase",yT="10.7.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ja="[DEFAULT]",vT={[Xa]:"fire-core",[W0]:"fire-core-compat",[Y0]:"fire-analytics",[Q0]:"fire-analytics-compat",[J0]:"fire-app-check",[X0]:"fire-app-check-compat",[Z0]:"fire-auth",[tT]:"fire-auth-compat",[eT]:"fire-rtdb",[nT]:"fire-rtdb-compat",[rT]:"fire-fn",[sT]:"fire-fn-compat",[iT]:"fire-iid",[oT]:"fire-iid-compat",[aT]:"fire-fcm",[lT]:"fire-fcm-compat",[cT]:"fire-perf",[uT]:"fire-perf-compat",[hT]:"fire-rc",[fT]:"fire-rc-compat",[dT]:"fire-gcs",[pT]:"fire-gcs-compat",[mT]:"fire-fst",[gT]:"fire-fst-compat","fire-js":"fire-js",[_T]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zi=new Map,Za=new Map;function ET(e,t){try{e.container.addComponent(t)}catch(n){Yn.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Gi(e){const t=e.name;if(Za.has(t))return Yn.debug(`There were multiple attempts to register component ${t}.`),!1;Za.set(t,e);for(const n of zi.values())ET(n,e);return!0}function TT(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wT={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Rn=new Xd("app","Firebase",wT);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IT{constructor(t,n,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ds("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Rn.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AT=yT;function ep(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const r=Object.assign({name:Ja,automaticDataCollectionEnabled:!1},t),s=r.name;if(typeof s!="string"||!s)throw Rn.create("bad-app-name",{appName:String(s)});if(n||(n=Yd()),!n)throw Rn.create("no-options");const i=zi.get(s);if(i){if(Wa(n,i.options)&&Wa(r,i.config))return i;throw Rn.create("duplicate-app",{appName:s})}const o=new V0(s);for(const l of Za.values())o.addComponent(l);const a=new IT(n,r,o);return zi.set(s,a),a}function RT(e=Ja){const t=zi.get(e);if(!t&&e===Ja&&Yd())return ep();if(!t)throw Rn.create("no-app",{appName:e});return t}function Ar(e,t,n){var r;let s=(r=vT[e])!==null&&r!==void 0?r:e;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=t.match(/\s|\//);if(i||o){const a=[`Unable to register library "${s}" with version "${t}":`];i&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Yn.warn(a.join(" "));return}Gi(new Ds(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CT="firebase-heartbeat-database",ST=1,xs="firebase-heartbeat-store";let va=null;function np(){return va||(va=q0(CT,ST,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(xs)}}}).catch(e=>{throw Rn.create("idb-open",{originalErrorMessage:e.message})})),va}async function PT(e){try{return await(await np()).transaction(xs).objectStore(xs).get(rp(e))}catch(t){if(t instanceof Hr)Yn.warn(t.message);else{const n=Rn.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Yn.warn(n.message)}}}async function vh(e,t){try{const r=(await np()).transaction(xs,"readwrite");await r.objectStore(xs).put(t,rp(e)),await r.done}catch(n){if(n instanceof Hr)Yn.warn(n.message);else{const r=Rn.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Yn.warn(r.message)}}}function rp(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bT=1024,VT=30*24*60*60*1e3;class DT{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new NT(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var t,n;const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Eh();if(!(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i)))return this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=VT}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var t;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Eh(),{heartbeatsToSend:r,unsentEntries:s}=xT(this._heartbeatsCache.heartbeats),i=Ki(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function Eh(){return new Date().toISOString().substring(0,10)}function xT(e,t=bT){const n=[];let r=e.slice();for(const s of e){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),Th(n)>t){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Th(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class NT{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return w0()?I0().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await PT(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return vh(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return vh(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function Th(e){return Ki(JSON.stringify({version:2,heartbeats:e})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kT(e){Gi(new Ds("platform-logger",t=>new z0(t),"PRIVATE")),Gi(new Ds("heartbeat",t=>new DT(t),"PRIVATE")),Ar(Xa,yh,e),Ar(Xa,yh,"esm2017"),Ar("fire-js","")}kT("");var OT="firebase",MT="10.7.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ar(OT,MT,"app");var LT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},D,nc=nc||{},Q=LT||self;function So(e){var t=typeof e;return t=t!="object"?t:e?Array.isArray(e)?"array":t:"null",t=="array"||t=="object"&&typeof e.length=="number"}function Xs(e){var t=typeof e;return t=="object"&&e!=null||t=="function"}function FT(e){return Object.prototype.hasOwnProperty.call(e,Ea)&&e[Ea]||(e[Ea]=++BT)}var Ea="closure_uid_"+(1e9*Math.random()>>>0),BT=0;function UT(e,t,n){return e.call.apply(e.bind,arguments)}function $T(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var s=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(s,r),e.apply(t,s)}}return function(){return e.apply(t,arguments)}}function se(e,t,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?se=UT:se=$T,se.apply(null,arguments)}function Ei(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),e.apply(this,r)}}function Ht(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(r,s,i){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return t.prototype[s].apply(r,o)}}function kn(){this.s=this.s,this.o=this.o}var jT=0;kn.prototype.s=!1;kn.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),jT!=0)&&FT(this)};kn.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const sp=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(typeof e=="string")return typeof t!="string"||t.length!=1?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function rc(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function wh(e,t){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(So(r)){const s=e.length||0,i=r.length||0;e.length=s+i;for(let o=0;o<i;o++)e[s+o]=r[o]}else e.push(r)}}function ie(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}ie.prototype.h=function(){this.defaultPrevented=!0};var qT=function(){if(!Q.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const n=()=>{};Q.addEventListener("test",n,t),Q.removeEventListener("test",n,t)}catch{}return e}();function Ns(e){return/^[\s\xa0]*$/.test(e)}function Po(){var e=Q.navigator;return e&&(e=e.userAgent)?e:""}function $e(e){return Po().indexOf(e)!=-1}function sc(e){return sc[" "](e),e}sc[" "]=function(){};function HT(e,t){var n=Mw;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}var KT=$e("Opera"),kr=$e("Trident")||$e("MSIE"),ip=$e("Edge"),tl=ip||kr,op=$e("Gecko")&&!(Po().toLowerCase().indexOf("webkit")!=-1&&!$e("Edge"))&&!($e("Trident")||$e("MSIE"))&&!$e("Edge"),zT=Po().toLowerCase().indexOf("webkit")!=-1&&!$e("Edge");function ap(){var e=Q.document;return e?e.documentMode:void 0}var el;t:{var Ta="",wa=function(){var e=Po();if(op)return/rv:([^\);]+)(\)|;)/.exec(e);if(ip)return/Edge\/([\d\.]+)/.exec(e);if(kr)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e);if(zT)return/WebKit\/(\S+)/.exec(e);if(KT)return/(?:Version)[ \/]?(\S+)/.exec(e)}();if(wa&&(Ta=wa?wa[1]:""),kr){var Ia=ap();if(Ia!=null&&Ia>parseFloat(Ta)){el=String(Ia);break t}}el=Ta}var nl;if(Q.document&&kr){var Ih=ap();nl=Ih||parseInt(el,10)||void 0}else nl=void 0;var GT=nl;function ks(e,t){if(ie.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(op){t:{try{sc(t.nodeName);var s=!0;break t}catch{}s=!1}s||(t=null)}}else n=="mouseover"?t=e.fromElement:n=="mouseout"&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=e.clientX!==void 0?e.clientX:e.pageX,this.clientY=e.clientY!==void 0?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=typeof e.pointerType=="string"?e.pointerType:WT[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&ks.$.h.call(this)}}Ht(ks,ie);var WT={2:"touch",3:"pen",4:"mouse"};ks.prototype.h=function(){ks.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Js="closure_listenable_"+(1e6*Math.random()|0),QT=0;function YT(e,t,n,r,s){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=s,this.key=++QT,this.fa=this.ia=!1}function bo(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function ic(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function XT(e,t){for(const n in e)t.call(void 0,e[n],n,e)}function lp(e){const t={};for(const n in e)t[n]=e[n];return t}const Ah="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function cp(e,t){let n,r;for(let s=1;s<arguments.length;s++){r=arguments[s];for(n in r)e[n]=r[n];for(let i=0;i<Ah.length;i++)n=Ah[i],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Vo(e){this.src=e,this.g={},this.h=0}Vo.prototype.add=function(e,t,n,r,s){var i=e.toString();e=this.g[i],e||(e=this.g[i]=[],this.h++);var o=sl(e,t,r,s);return-1<o?(t=e[o],n||(t.ia=!1)):(t=new YT(t,this.src,i,!!r,s),t.ia=n,e.push(t)),t};function rl(e,t){var n=t.type;if(n in e.g){var r=e.g[n],s=sp(r,t),i;(i=0<=s)&&Array.prototype.splice.call(r,s,1),i&&(bo(t),e.g[n].length==0&&(delete e.g[n],e.h--))}}function sl(e,t,n,r){for(var s=0;s<e.length;++s){var i=e[s];if(!i.fa&&i.listener==t&&i.capture==!!n&&i.la==r)return s}return-1}var oc="closure_lm_"+(1e6*Math.random()|0),Aa={};function up(e,t,n,r,s){if(r&&r.once)return fp(e,t,n,r,s);if(Array.isArray(t)){for(var i=0;i<t.length;i++)up(e,t[i],n,r,s);return null}return n=cc(n),e&&e[Js]?e.O(t,n,Xs(r)?!!r.capture:!!r,s):hp(e,t,n,!1,r,s)}function hp(e,t,n,r,s,i){if(!t)throw Error("Invalid event type");var o=Xs(s)?!!s.capture:!!s,a=lc(e);if(a||(e[oc]=a=new Vo(e)),n=a.add(t,n,r,o,i),n.proxy)return n;if(r=JT(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)qT||(s=o),s===void 0&&(s=!1),e.addEventListener(t.toString(),r,s);else if(e.attachEvent)e.attachEvent(pp(t.toString()),r);else if(e.addListener&&e.removeListener)e.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function JT(){function e(n){return t.call(e.src,e.listener,n)}const t=ZT;return e}function fp(e,t,n,r,s){if(Array.isArray(t)){for(var i=0;i<t.length;i++)fp(e,t[i],n,r,s);return null}return n=cc(n),e&&e[Js]?e.P(t,n,Xs(r)?!!r.capture:!!r,s):hp(e,t,n,!0,r,s)}function dp(e,t,n,r,s){if(Array.isArray(t))for(var i=0;i<t.length;i++)dp(e,t[i],n,r,s);else r=Xs(r)?!!r.capture:!!r,n=cc(n),e&&e[Js]?(e=e.i,t=String(t).toString(),t in e.g&&(i=e.g[t],n=sl(i,n,r,s),-1<n&&(bo(i[n]),Array.prototype.splice.call(i,n,1),i.length==0&&(delete e.g[t],e.h--)))):e&&(e=lc(e))&&(t=e.g[t.toString()],e=-1,t&&(e=sl(t,n,r,s)),(n=-1<e?t[e]:null)&&ac(n))}function ac(e){if(typeof e!="number"&&e&&!e.fa){var t=e.src;if(t&&t[Js])rl(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(pp(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=lc(t))?(rl(n,e),n.h==0&&(n.src=null,t[oc]=null)):bo(e)}}}function pp(e){return e in Aa?Aa[e]:Aa[e]="on"+e}function ZT(e,t){if(e.fa)e=!0;else{t=new ks(t,this);var n=e.listener,r=e.la||e.src;e.ia&&ac(e),e=n.call(r,t)}return e}function lc(e){return e=e[oc],e instanceof Vo?e:null}var Ra="__closure_events_fn_"+(1e9*Math.random()>>>0);function cc(e){return typeof e=="function"?e:(e[Ra]||(e[Ra]=function(t){return e.handleEvent(t)}),e[Ra])}function qt(){kn.call(this),this.i=new Vo(this),this.S=this,this.J=null}Ht(qt,kn);qt.prototype[Js]=!0;qt.prototype.removeEventListener=function(e,t,n,r){dp(this,e,t,n,r)};function Yt(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,typeof t=="string")t=new ie(t,e);else if(t instanceof ie)t.target=t.target||e;else{var s=t;t=new ie(r,e),cp(t,s)}if(s=!0,n)for(var i=n.length-1;0<=i;i--){var o=t.g=n[i];s=Ti(o,r,!0,t)&&s}if(o=t.g=e,s=Ti(o,r,!0,t)&&s,s=Ti(o,r,!1,t)&&s,n)for(i=0;i<n.length;i++)o=t.g=n[i],s=Ti(o,r,!1,t)&&s}qt.prototype.N=function(){if(qt.$.N.call(this),this.i){var e=this.i,t;for(t in e.g){for(var n=e.g[t],r=0;r<n.length;r++)bo(n[r]);delete e.g[t],e.h--}}this.J=null};qt.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)};qt.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};function Ti(e,t,n,r){if(t=e.i.g[String(t)],!t)return!0;t=t.concat();for(var s=!0,i=0;i<t.length;++i){var o=t[i];if(o&&!o.fa&&o.capture==n){var a=o.listener,l=o.la||o.src;o.ia&&rl(e.i,o),s=a.call(l,r)!==!1&&s}}return s&&!r.defaultPrevented}var uc=Q.JSON.stringify;class tw{constructor(t,n){this.i=t,this.j=n,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}function ew(){var e=hc;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}class nw{constructor(){this.h=this.g=null}add(t,n){const r=mp.get();r.set(t,n),this.h?this.h.next=r:this.g=r,this.h=r}}var mp=new tw(()=>new rw,e=>e.reset());class rw{constructor(){this.next=this.g=this.h=null}set(t,n){this.h=t,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function sw(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function iw(e){Q.setTimeout(()=>{throw e},0)}let Os,Ms=!1,hc=new nw,gp=()=>{const e=Q.Promise.resolve(void 0);Os=()=>{e.then(ow)}};var ow=()=>{for(var e;e=ew();){try{e.h.call(e.g)}catch(n){iw(n)}var t=mp;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Ms=!1};function Do(e,t){qt.call(this),this.h=e||1,this.g=t||Q,this.j=se(this.qb,this),this.l=Date.now()}Ht(Do,qt);D=Do.prototype;D.ga=!1;D.T=null;D.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Yt(this,"tick"),this.ga&&(fc(this),this.start()))}};D.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function fc(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}D.N=function(){Do.$.N.call(this),fc(this),delete this.g};function dc(e,t,n){if(typeof e=="function")n&&(e=se(e,n));else if(e&&typeof e.handleEvent=="function")e=se(e.handleEvent,e);else throw Error("Invalid listener argument");return 2147483647<Number(t)?-1:Q.setTimeout(e,t||0)}function _p(e){e.g=dc(()=>{e.g=null,e.i&&(e.i=!1,_p(e))},e.j);const t=e.h;e.h=null,e.m.apply(null,t)}class aw extends kn{constructor(t,n){super(),this.m=t,this.j=n,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:_p(this)}N(){super.N(),this.g&&(Q.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ls(e){kn.call(this),this.h=e,this.g={}}Ht(Ls,kn);var Rh=[];function yp(e,t,n,r){Array.isArray(n)||(n&&(Rh[0]=n.toString()),n=Rh);for(var s=0;s<n.length;s++){var i=up(t,n[s],r||e.handleEvent,!1,e.h||e);if(!i)break;e.g[i.key]=i}}function vp(e){ic(e.g,function(t,n){this.g.hasOwnProperty(n)&&ac(t)},e),e.g={}}Ls.prototype.N=function(){Ls.$.N.call(this),vp(this)};Ls.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function xo(){this.g=!0}xo.prototype.Ea=function(){this.g=!1};function lw(e,t,n,r,s,i){e.info(function(){if(e.g)if(i)for(var o="",a=i.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var h=u.split("_");o=2<=h.length&&h[1]=="type"?o+(u+"="+c+"&"):o+(u+"=redacted&")}}else o=null;else o=i;return"XMLHTTP REQ ("+r+") [attempt "+s+"]: "+t+`
`+n+`
`+o})}function cw(e,t,n,r,s,i,o){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+s+"]: "+t+`
`+n+`
`+i+" "+o})}function yr(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+hw(e,n)+(r?" "+r:"")})}function uw(e,t){e.info(function(){return"TIMEOUT: "+t})}xo.prototype.info=function(){};function hw(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n){for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var s=r[1];if(Array.isArray(s)&&!(1>s.length)){var i=s[0];if(i!="noop"&&i!="stop"&&i!="close")for(var o=1;o<s.length;o++)s[o]=""}}}}return uc(n)}catch{return t}}var ir={},Ch=null;function No(){return Ch=Ch||new qt}ir.Ta="serverreachability";function Ep(e){ie.call(this,ir.Ta,e)}Ht(Ep,ie);function Fs(e){const t=No();Yt(t,new Ep(t))}ir.STAT_EVENT="statevent";function Tp(e,t){ie.call(this,ir.STAT_EVENT,e),this.stat=t}Ht(Tp,ie);function ue(e){const t=No();Yt(t,new Tp(t,e))}ir.Ua="timingevent";function wp(e,t){ie.call(this,ir.Ua,e),this.size=t}Ht(wp,ie);function Zs(e,t){if(typeof e!="function")throw Error("Fn must not be null and must be a function");return Q.setTimeout(function(){e()},t)}var ko={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Ip={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function pc(){}pc.prototype.h=null;function Sh(e){return e.h||(e.h=e.i())}function Ap(){}var ti={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function mc(){ie.call(this,"d")}Ht(mc,ie);function gc(){ie.call(this,"c")}Ht(gc,ie);var il;function Oo(){}Ht(Oo,pc);Oo.prototype.g=function(){return new XMLHttpRequest};Oo.prototype.i=function(){return{}};il=new Oo;function ei(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new Ls(this),this.P=fw,e=tl?125:void 0,this.V=new Do(e),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Rp}function Rp(){this.i=null,this.g="",this.h=!1}var fw=45e3,Cp={},ol={};D=ei.prototype;D.setTimeout=function(e){this.P=e};function al(e,t,n){e.L=1,e.A=Lo(sn(t)),e.u=n,e.S=!0,Sp(e,null)}function Sp(e,t){e.G=Date.now(),ni(e),e.B=sn(e.A);var n=e.B,r=e.W;Array.isArray(r)||(r=[String(r)]),Op(n.i,"t",r),e.o=0,n=e.l.J,e.h=new Rp,e.g=nm(e.l,n?t:null,!e.u),0<e.O&&(e.M=new aw(se(e.Pa,e,e.g),e.O)),yp(e.U,e.g,"readystatechange",e.nb),t=e.I?lp(e.I):{},e.u?(e.v||(e.v="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.B,e.v,e.u,t)):(e.v="GET",e.g.ha(e.B,e.v,null,t)),Fs(),lw(e.j,e.v,e.B,e.m,e.W,e.u)}D.nb=function(e){e=e.target;const t=this.M;t&&je(e)==3?t.l():this.Pa(e)};D.Pa=function(e){try{if(e==this.g)t:{const u=je(this.g);var t=this.g.Ia();const h=this.g.da();if(!(3>u)&&(u!=3||tl||this.g&&(this.h.h||this.g.ja()||Dh(this.g)))){this.J||u!=4||t==7||(t==8||0>=h?Fs(3):Fs(2)),Mo(this);var n=this.g.da();this.ca=n;e:if(Pp(this)){var r=Dh(this.g);e="";var s=r.length,i=je(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){jn(this),ys(this);var o="";break e}this.h.i=new Q.TextDecoder}for(t=0;t<s;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:i&&t==s-1});r.length=0,this.h.g+=e,this.o=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,cw(this.j,this.v,this.B,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){e:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ns(a)){var c=a;break e}}c=null}if(n=c)yr(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ll(this,n);else{this.i=!1,this.s=3,ue(12),jn(this),ys(this);break t}}this.S?(bp(this,u,o),tl&&this.i&&u==3&&(yp(this.U,this.V,"tick",this.mb),this.V.start())):(yr(this.j,this.m,o,null),ll(this,o)),u==4&&jn(this),this.i&&!this.J&&(u==4?Jp(this.l,this):(this.i=!1,ni(this)))}else Nw(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.s=3,ue(12)):(this.s=0,ue(13)),jn(this),ys(this)}}}catch{}finally{}};function Pp(e){return e.g?e.v=="GET"&&e.L!=2&&e.l.Ha:!1}function bp(e,t,n){let r=!0,s;for(;!e.J&&e.o<n.length;)if(s=dw(e,n),s==ol){t==4&&(e.s=4,ue(14),r=!1),yr(e.j,e.m,null,"[Incomplete Response]");break}else if(s==Cp){e.s=4,ue(15),yr(e.j,e.m,n,"[Invalid Chunk]"),r=!1;break}else yr(e.j,e.m,s,null),ll(e,s);Pp(e)&&e.o!=0&&(e.h.g=e.h.g.slice(e.o),e.o=0),t!=4||n.length!=0||e.h.h||(e.s=1,ue(16),r=!1),e.i=e.i&&r,r?0<n.length&&!e.ba&&(e.ba=!0,t=e.l,t.g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),wc(t),t.M=!0,ue(11))):(yr(e.j,e.m,n,"[Invalid Chunked Response]"),jn(e),ys(e))}D.mb=function(){if(this.g){var e=je(this.g),t=this.g.ja();this.o<t.length&&(Mo(this),bp(this,e,t),this.i&&e!=4&&ni(this))}};function dw(e,t){var n=e.o,r=t.indexOf(`
`,n);return r==-1?ol:(n=Number(t.substring(n,r)),isNaN(n)?Cp:(r+=1,r+n>t.length?ol:(t=t.slice(r,r+n),e.o=r+n,t)))}D.cancel=function(){this.J=!0,jn(this)};function ni(e){e.Y=Date.now()+e.P,Vp(e,e.P)}function Vp(e,t){if(e.C!=null)throw Error("WatchDog timer not null");e.C=Zs(se(e.lb,e),t)}function Mo(e){e.C&&(Q.clearTimeout(e.C),e.C=null)}D.lb=function(){this.C=null;const e=Date.now();0<=e-this.Y?(uw(this.j,this.B),this.L!=2&&(Fs(),ue(17)),jn(this),this.s=2,ys(this)):Vp(this,this.Y-e)};function ys(e){e.l.H==0||e.J||Jp(e.l,e)}function jn(e){Mo(e);var t=e.M;t&&typeof t.sa=="function"&&t.sa(),e.M=null,fc(e.V),vp(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function ll(e,t){try{var n=e.l;if(n.H!=0&&(n.g==e||cl(n.i,e))){if(!e.K&&cl(n.i,e)&&n.H==3){try{var r=n.Ja.g.parse(t)}catch{r=null}if(Array.isArray(r)&&r.length==3){var s=r;if(s[0]==0){t:if(!n.u){if(n.g)if(n.g.G+3e3<e.G)Yi(n),$o(n);else break t;Tc(n),ue(18)}}else n.Fa=s[1],0<n.Fa-n.V&&37500>s[2]&&n.G&&n.A==0&&!n.v&&(n.v=Zs(se(n.ib,n),6e3));if(1>=Fp(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else qn(n,11)}else if((e.K||n.g==e)&&Yi(n),!Ns(t))for(s=n.Ja.g.parse(t),t=0;t<s.length;t++){let c=s[t];if(n.V=c[0],c=c[1],n.H==2)if(c[0]=="c"){n.K=c[1],n.pa=c[2];const u=c[3];u!=null&&(n.ra=u,n.l.info("VER="+n.ra));const h=c[4];h!=null&&(n.Ga=h,n.l.info("SVER="+n.Ga));const f=c[5];f!=null&&typeof f=="number"&&0<f&&(r=1.5*f,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const m=e.g;if(m){const v=m.g?m.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(v){var i=r.i;i.g||v.indexOf("spdy")==-1&&v.indexOf("quic")==-1&&v.indexOf("h2")==-1||(i.j=i.l,i.g=new Set,i.h&&(_c(i,i.h),i.h=null))}if(r.F){const w=m.g?m.g.getResponseHeader("X-HTTP-Session-Id"):null;w&&(r.Da=w,It(r.I,r.F,w))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=e;if(r.wa=em(r,r.J?r.pa:null,r.Y),o.K){Bp(r.i,o);var a=o,l=r.L;l&&a.setTimeout(l),a.C&&(Mo(a),ni(a)),r.g=o}else Yp(r);0<n.j.length&&jo(n)}else c[0]!="stop"&&c[0]!="close"||qn(n,7);else n.H==3&&(c[0]=="stop"||c[0]=="close"?c[0]=="stop"?qn(n,7):Ec(n):c[0]!="noop"&&n.h&&n.h.Aa(c),n.A=0)}}Fs(4)}catch{}}function pw(e){if(e.Z&&typeof e.Z=="function")return e.Z();if(typeof Map<"u"&&e instanceof Map||typeof Set<"u"&&e instanceof Set)return Array.from(e.values());if(typeof e=="string")return e.split("");if(So(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}t=[],n=0;for(r in e)t[n++]=e[r];return t}function mw(e){if(e.ta&&typeof e.ta=="function")return e.ta();if(!e.Z||typeof e.Z!="function"){if(typeof Map<"u"&&e instanceof Map)return Array.from(e.keys());if(!(typeof Set<"u"&&e instanceof Set)){if(So(e)||typeof e=="string"){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}function Dp(e,t){if(e.forEach&&typeof e.forEach=="function")e.forEach(t,void 0);else if(So(e)||typeof e=="string")Array.prototype.forEach.call(e,t,void 0);else for(var n=mw(e),r=pw(e),s=r.length,i=0;i<s;i++)t.call(void 0,r[i],n&&n[i],e)}var xp=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function gw(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),s=null;if(0<=r){var i=e[n].substring(0,r);s=e[n].substring(r+1)}else i=e[n];t(i,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}function Wn(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof Wn){this.h=e.h,Wi(this,e.j),this.s=e.s,this.g=e.g,Qi(this,e.m),this.l=e.l;var t=e.i,n=new Bs;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),Ph(this,n),this.o=e.o}else e&&(t=String(e).match(xp))?(this.h=!1,Wi(this,t[1]||"",!0),this.s=ls(t[2]||""),this.g=ls(t[3]||"",!0),Qi(this,t[4]),this.l=ls(t[5]||"",!0),Ph(this,t[6]||"",!0),this.o=ls(t[7]||"")):(this.h=!1,this.i=new Bs(null,this.h))}Wn.prototype.toString=function(){var e=[],t=this.j;t&&e.push(cs(t,bh,!0),":");var n=this.g;return(n||t=="file")&&(e.push("//"),(t=this.s)&&e.push(cs(t,bh,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&e.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&e.push("/"),e.push(cs(n,n.charAt(0)=="/"?vw:yw,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",cs(n,Tw)),e.join("")};function sn(e){return new Wn(e)}function Wi(e,t,n){e.j=n?ls(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Qi(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Ph(e,t,n){t instanceof Bs?(e.i=t,ww(e.i,e.h)):(n||(t=cs(t,Ew)),e.i=new Bs(t,e.h))}function It(e,t,n){e.i.set(t,n)}function Lo(e){return It(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function ls(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function cs(e,t,n){return typeof e=="string"?(e=encodeURI(e).replace(t,_w),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function _w(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(e&15).toString(16)}var bh=/[#\/\?@]/g,yw=/[#\?:]/g,vw=/[#\?]/g,Ew=/[#\?@]/g,Tw=/#/g;function Bs(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function On(e){e.g||(e.g=new Map,e.h=0,e.i&&gw(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}D=Bs.prototype;D.add=function(e,t){On(this),this.i=null,e=Kr(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this};function Np(e,t){On(e),t=Kr(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function kp(e,t){return On(e),t=Kr(e,t),e.g.has(t)}D.forEach=function(e,t){On(this),this.g.forEach(function(n,r){n.forEach(function(s){e.call(t,s,r,this)},this)},this)};D.ta=function(){On(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const s=e[r];for(let i=0;i<s.length;i++)n.push(t[r])}return n};D.Z=function(e){On(this);let t=[];if(typeof e=="string")kp(this,e)&&(t=t.concat(this.g.get(Kr(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t};D.set=function(e,t){return On(this),this.i=null,e=Kr(this,e),kp(this,e)&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this};D.get=function(e,t){return e?(e=this.Z(e),0<e.length?String(e[0]):t):t};function Op(e,t,n){Np(e,t),0<n.length&&(e.i=null,e.g.set(Kr(e,t),rc(n)),e.h+=n.length)}D.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const i=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var s=i;o[r]!==""&&(s+="="+encodeURIComponent(String(o[r]))),e.push(s)}}return this.i=e.join("&")};function Kr(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function ww(e,t){t&&!e.j&&(On(e),e.i=null,e.g.forEach(function(n,r){var s=r.toLowerCase();r!=s&&(Np(this,r),Op(this,s,n))},e)),e.j=t}var Iw=class{constructor(e,t){this.g=e,this.map=t}};function Mp(e){this.l=e||Aw,Q.PerformanceNavigationTiming?(e=Q.performance.getEntriesByType("navigation"),e=0<e.length&&(e[0].nextHopProtocol=="hq"||e[0].nextHopProtocol=="h2")):e=!!(Q.g&&Q.g.Ka&&Q.g.Ka()&&Q.g.Ka().dc),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Aw=10;function Lp(e){return e.h?!0:e.g?e.g.size>=e.j:!1}function Fp(e){return e.h?1:e.g?e.g.size:0}function cl(e,t){return e.h?e.h==t:e.g?e.g.has(t):!1}function _c(e,t){e.g?e.g.add(t):e.h=t}function Bp(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}Mp.prototype.cancel=function(){if(this.i=Up(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const e of this.g.values())e.cancel();this.g.clear()}};function Up(e){if(e.h!=null)return e.i.concat(e.h.F);if(e.g!=null&&e.g.size!==0){let t=e.i;for(const n of e.g.values())t=t.concat(n.F);return t}return rc(e.i)}var Rw=class{stringify(e){return Q.JSON.stringify(e,void 0)}parse(e){return Q.JSON.parse(e,void 0)}};function Cw(){this.g=new Rw}function Sw(e,t,n){const r=n||"";try{Dp(e,function(s,i){let o=s;Xs(s)&&(o=uc(s)),t.push(r+i+"="+encodeURIComponent(o))})}catch(s){throw t.push(r+"type="+encodeURIComponent("_badmap")),s}}function Pw(e,t){const n=new xo;if(Q.Image){const r=new Image;r.onload=Ei(wi,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Ei(wi,n,r,"TestLoadImage: error",!1,t),r.onabort=Ei(wi,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Ei(wi,n,r,"TestLoadImage: timeout",!1,t),Q.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}function wi(e,t,n,r,s){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,s(r)}catch{}}function Fo(e){this.l=e.ec||null,this.j=e.ob||!1}Ht(Fo,pc);Fo.prototype.g=function(){return new Bo(this.l,this.j)};Fo.prototype.i=function(e){return function(){return e}}({});function Bo(e,t){qt.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=yc,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ht(Bo,qt);var yc=0;D=Bo.prototype;D.open=function(e,t){if(this.readyState!=yc)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Us(this)};D.send=function(e){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||Q).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))};D.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ri(this)),this.readyState=yc};D.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Us(this)),this.g&&(this.readyState=3,Us(this),this.g)))if(this.responseType==="arraybuffer")e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Q.ReadableStream<"u"&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;$p(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))};function $p(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}D.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?ri(this):Us(this),this.readyState==3&&$p(this)}};D.Za=function(e){this.g&&(this.response=this.responseText=e,ri(this))};D.Ya=function(e){this.g&&(this.response=e,ri(this))};D.ka=function(){this.g&&ri(this)};function ri(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Us(e)}D.setRequestHeader=function(e,t){this.v.append(e,t)};D.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""};D.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join(`\r
`)};function Us(e){e.onreadystatechange&&e.onreadystatechange.call(e)}Object.defineProperty(Bo.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(e){this.m=e?"include":"same-origin"}});var bw=Q.JSON.parse;function Pt(e){qt.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=jp,this.L=this.M=!1}Ht(Pt,qt);var jp="",Vw=/^https?$/i,Dw=["POST","PUT"];D=Pt.prototype;D.Oa=function(e){this.M=e};D.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():il.g(),this.C=this.u?Sh(this.u):Sh(il),this.g.onreadystatechange=se(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(i){Vh(this,i);return}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var s in r)n.set(s,r[s]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const i of r.keys())n.set(i,r.get(i));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(i=>i.toLowerCase()=="content-type"),s=Q.FormData&&e instanceof Q.FormData,!(0<=sp(Dw,t))||r||s||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,o]of n)this.g.setRequestHeader(i,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Kp(this),0<this.B&&((this.L=xw(this.g))?(this.g.timeout=this.B,this.g.ontimeout=se(this.ua,this)):this.A=dc(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(i){Vh(this,i)}};function xw(e){return kr&&typeof e.timeout=="number"&&e.ontimeout!==void 0}D.ua=function(){typeof nc<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Yt(this,"timeout"),this.abort(8))};function Vh(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,qp(e),Uo(e)}function qp(e){e.F||(e.F=!0,Yt(e,"complete"),Yt(e,"error"))}D.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Yt(this,"complete"),Yt(this,"abort"),Uo(this))};D.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Uo(this,!0)),Pt.$.N.call(this)};D.La=function(){this.s||(this.G||this.v||this.l?Hp(this):this.kb())};D.kb=function(){Hp(this)};function Hp(e){if(e.h&&typeof nc<"u"&&(!e.C[1]||je(e)!=4||e.da()!=2)){if(e.v&&je(e)==4)dc(e.La,0,e);else if(Yt(e,"readystatechange"),je(e)==4){e.h=!1;try{const o=e.da();t:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break t;default:t=!1}var n;if(!(n=t)){var r;if(r=o===0){var s=String(e.I).match(xp)[1]||null;!s&&Q.self&&Q.self.location&&(s=Q.self.location.protocol.slice(0,-1)),r=!Vw.test(s?s.toLowerCase():"")}n=r}if(n)Yt(e,"complete"),Yt(e,"success");else{e.m=6;try{var i=2<je(e)?e.g.statusText:""}catch{i=""}e.j=i+" ["+e.da()+"]",qp(e)}}finally{Uo(e)}}}}function Uo(e,t){if(e.g){Kp(e);const n=e.g,r=e.C[0]?()=>{}:null;e.g=null,e.C=null,t||Yt(e,"ready");try{n.onreadystatechange=r}catch{}}}function Kp(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(Q.clearTimeout(e.A),e.A=null)}D.isActive=function(){return!!this.g};function je(e){return e.g?e.g.readyState:0}D.da=function(){try{return 2<je(this)?this.g.status:-1}catch{return-1}};D.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};D.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&t.indexOf(e)==0&&(t=t.substring(e.length)),bw(t)}};function Dh(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case jp:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch{return null}}function Nw(e){const t={};e=(e.g&&2<=je(e)&&e.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<e.length;r++){if(Ns(e[r]))continue;var n=sw(e[r]);const s=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const i=t[s]||[];t[s]=i,i.push(n)}XT(t,function(r){return r.join(", ")})}D.Ia=function(){return this.m};D.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function zp(e){let t="";return ic(e,function(n,r){t+=r,t+=":",t+=n,t+=`\r
`}),t}function vc(e,t,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=zp(n),typeof e=="string"?n!=null&&encodeURIComponent(String(n)):It(e,t,n))}function rs(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Gp(e){this.Ga=0,this.j=[],this.l=new xo,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=rs("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=rs("baseRetryDelayMs",5e3,e),this.hb=rs("retryDelaySeedMs",1e4,e),this.eb=rs("forwardChannelMaxRetries",2,e),this.xa=rs("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new Mp(e&&e.concurrentRequestLimit),this.Ja=new Cw,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}D=Gp.prototype;D.ra=8;D.H=1;function Ec(e){if(Wp(e),e.H==3){var t=e.W++,n=sn(e.I);if(It(n,"SID",e.K),It(n,"RID",t),It(n,"TYPE","terminate"),si(e,n),t=new ei(e,e.l,t),t.L=2,t.A=Lo(sn(n)),n=!1,Q.navigator&&Q.navigator.sendBeacon)try{n=Q.navigator.sendBeacon(t.A.toString(),"")}catch{}!n&&Q.Image&&(new Image().src=t.A,n=!0),n||(t.g=nm(t.l,null),t.g.ha(t.A)),t.G=Date.now(),ni(t)}tm(e)}function $o(e){e.g&&(wc(e),e.g.cancel(),e.g=null)}function Wp(e){$o(e),e.u&&(Q.clearTimeout(e.u),e.u=null),Yi(e),e.i.cancel(),e.m&&(typeof e.m=="number"&&Q.clearTimeout(e.m),e.m=null)}function jo(e){if(!Lp(e.i)&&!e.m){e.m=!0;var t=e.Na;Os||gp(),Ms||(Os(),Ms=!0),hc.add(t,e),e.C=0}}function kw(e,t){return Fp(e.i)>=e.i.j-(e.m?1:0)?!1:e.m?(e.j=t.F.concat(e.j),!0):e.H==1||e.H==2||e.C>=(e.cb?0:e.eb)?!1:(e.m=Zs(se(e.Na,e,t),Zp(e,e.C)),e.C++,!0)}D.Na=function(e){if(this.m)if(this.m=null,this.H==1){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;const s=new ei(this,this.l,e);let i=this.s;if(this.U&&(i?(i=lp(i),cp(i,this.U)):i=this.U),this.o!==null||this.O||(s.I=i,i=null),this.P)t:{for(var t=0,n=0;n<this.j.length;n++){e:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break e}r=void 0}if(r===void 0)break;if(t+=r,4096<t){t=n;break t}if(t===4096||n===this.j.length-1){t=n+1;break t}}t=1e3}else t=1e3;t=Qp(this,s,t),n=sn(this.I),It(n,"RID",e),It(n,"CVER",22),this.F&&It(n,"X-HTTP-Session-Id",this.F),si(this,n),i&&(this.O?t="headers="+encodeURIComponent(String(zp(i)))+"&"+t:this.o&&vc(n,this.o,i)),_c(this.i,s),this.bb&&It(n,"TYPE","init"),this.P?(It(n,"$req",t),It(n,"SID","null"),s.aa=!0,al(s,n,null)):al(s,n,t),this.H=2}}else this.H==3&&(e?xh(this,e):this.j.length==0||Lp(this.i)||xh(this))};function xh(e,t){var n;t?n=t.m:n=e.W++;const r=sn(e.I);It(r,"SID",e.K),It(r,"RID",n),It(r,"AID",e.V),si(e,r),e.o&&e.s&&vc(r,e.o,e.s),n=new ei(e,e.l,n,e.C+1),e.o===null&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=Qp(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),_c(e.i,n),al(n,r,t)}function si(e,t){e.na&&ic(e.na,function(n,r){It(t,r,n)}),e.h&&Dp({},function(n,r){It(t,r,n)})}function Qp(e,t,n){n=Math.min(e.j.length,n);var r=e.h?se(e.h.Va,e.h,e):null;t:{var s=e.j;let i=-1;for(;;){const o=["count="+n];i==-1?0<n?(i=s[0].g,o.push("ofs="+i)):i=0:o.push("ofs="+i);let a=!0;for(let l=0;l<n;l++){let c=s[l].g;const u=s[l].map;if(c-=i,0>c)i=Math.max(0,s[l].g-100),a=!1;else try{Sw(u,o,"req"+c+"_")}catch{r&&r(u)}}if(a){r=o.join("&");break t}}}return e=e.j.splice(0,n),t.F=e,r}function Yp(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;Os||gp(),Ms||(Os(),Ms=!0),hc.add(t,e),e.A=0}}function Tc(e){return e.g||e.u||3<=e.A?!1:(e.ba++,e.u=Zs(se(e.Ma,e),Zp(e,e.A)),e.A++,!0)}D.Ma=function(){if(this.u=null,Xp(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=Zs(se(this.jb,this),e)}};D.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,ue(10),$o(this),Xp(this))};function wc(e){e.B!=null&&(Q.clearTimeout(e.B),e.B=null)}function Xp(e){e.g=new ei(e,e.l,"rpc",e.ba),e.o===null&&(e.g.I=e.s),e.g.O=0;var t=sn(e.wa);It(t,"RID","rpc"),It(t,"SID",e.K),It(t,"AID",e.V),It(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&It(t,"TO",e.qa),It(t,"TYPE","xmlhttp"),si(e,t),e.o&&e.s&&vc(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.A=Lo(sn(t)),n.u=null,n.S=!0,Sp(n,e)}D.ib=function(){this.v!=null&&(this.v=null,$o(this),Tc(this),ue(19))};function Yi(e){e.v!=null&&(Q.clearTimeout(e.v),e.v=null)}function Jp(e,t){var n=null;if(e.g==t){Yi(e),wc(e),e.g=null;var r=2}else if(cl(e.i,t))n=t.F,Bp(e.i,t),r=1;else return;if(e.H!=0){if(t.i)if(r==1){n=t.u?t.u.length:0,t=Date.now()-t.G;var s=e.C;r=No(),Yt(r,new wp(r,n)),jo(e)}else Yp(e);else if(s=t.s,s==3||s==0&&0<t.ca||!(r==1&&kw(e,t)||r==2&&Tc(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),s){case 1:qn(e,5);break;case 4:qn(e,10);break;case 3:qn(e,6);break;default:qn(e,2)}}}function Zp(e,t){let n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function qn(e,t){if(e.l.info("Error code "+t),t==2){var n=null;e.h&&(n=null);var r=se(e.pb,e);n||(n=new Wn("//www.google.com/images/cleardot.gif"),Q.location&&Q.location.protocol=="http"||Wi(n,"https"),Lo(n)),Pw(n.toString(),r)}else ue(2);e.H=0,e.h&&e.h.za(t),tm(e),Wp(e)}D.pb=function(e){e?(this.l.info("Successfully pinged google.com"),ue(2)):(this.l.info("Failed to ping google.com"),ue(1))};function tm(e){if(e.H=0,e.ma=[],e.h){const t=Up(e.i);(t.length!=0||e.j.length!=0)&&(wh(e.ma,t),wh(e.ma,e.j),e.i.i.length=0,rc(e.j),e.j.length=0),e.h.ya()}}function em(e,t,n){var r=n instanceof Wn?sn(n):new Wn(n);if(r.g!="")t&&(r.g=t+"."+r.g),Qi(r,r.m);else{var s=Q.location;r=s.protocol,t=t?t+"."+s.hostname:s.hostname,s=+s.port;var i=new Wn(null);r&&Wi(i,r),t&&(i.g=t),s&&Qi(i,s),n&&(i.l=n),r=i}return n=e.F,t=e.Da,n&&t&&It(r,n,t),It(r,"VER",e.ra),si(e,r),r}function nm(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return t=e.Ha&&!e.va?new Pt(new Fo({ob:n})):new Pt(e.va),t.Oa(e.J),t}D.isActive=function(){return!!this.h&&this.h.isActive(this)};function rm(){}D=rm.prototype;D.Ba=function(){};D.Aa=function(){};D.za=function(){};D.ya=function(){};D.isActive=function(){return!0};D.Va=function(){};function Xi(){if(kr&&!(10<=Number(GT)))throw Error("Environmental error: no available transport.")}Xi.prototype.g=function(e,t){return new Ee(e,t)};function Ee(e,t){qt.call(this),this.g=new Gp(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!Ns(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Ns(t)&&(this.g.F=t,e=this.h,e!==null&&t in e&&(e=this.h,t in e&&delete e[t])),this.j=new zr(this)}Ht(Ee,qt);Ee.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;ue(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=em(e,null,e.Y),jo(e)};Ee.prototype.close=function(){Ec(this.g)};Ee.prototype.u=function(e){var t=this.g;if(typeof e=="string"){var n={};n.__data__=e,e=n}else this.v&&(n={},n.__data__=uc(e),e=n);t.j.push(new Iw(t.fb++,e)),t.H==3&&jo(t)};Ee.prototype.N=function(){this.g.h=null,delete this.j,Ec(this.g),delete this.g,Ee.$.N.call(this)};function sm(e){mc.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){t:{for(const n in t){e=n;break t}e=void 0}(this.i=e)&&(e=this.i,t=t!==null&&e in t?t[e]:void 0),this.data=t}else this.data=e}Ht(sm,mc);function im(){gc.call(this),this.status=1}Ht(im,gc);function zr(e){this.g=e}Ht(zr,rm);zr.prototype.Ba=function(){Yt(this.g,"a")};zr.prototype.Aa=function(e){Yt(this.g,new sm(e))};zr.prototype.za=function(e){Yt(this.g,new im)};zr.prototype.ya=function(){Yt(this.g,"b")};function Ow(){this.blockSize=-1}function Ne(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}Ht(Ne,Ow);Ne.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function Ca(e,t,n){n||(n=0);var r=Array(16);if(typeof t=="string")for(var s=0;16>s;++s)r[s]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(s=0;16>s;++s)r[s]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],s=e.g[2];var i=e.g[3],o=t+(i^n&(s^i))+r[0]+3614090360&4294967295;t=n+(o<<7&4294967295|o>>>25),o=i+(s^t&(n^s))+r[1]+3905402710&4294967295,i=t+(o<<12&4294967295|o>>>20),o=s+(n^i&(t^n))+r[2]+606105819&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(t^s&(i^t))+r[3]+3250441966&4294967295,n=s+(o<<22&4294967295|o>>>10),o=t+(i^n&(s^i))+r[4]+4118548399&4294967295,t=n+(o<<7&4294967295|o>>>25),o=i+(s^t&(n^s))+r[5]+1200080426&4294967295,i=t+(o<<12&4294967295|o>>>20),o=s+(n^i&(t^n))+r[6]+2821735955&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(t^s&(i^t))+r[7]+4249261313&4294967295,n=s+(o<<22&4294967295|o>>>10),o=t+(i^n&(s^i))+r[8]+1770035416&4294967295,t=n+(o<<7&4294967295|o>>>25),o=i+(s^t&(n^s))+r[9]+2336552879&4294967295,i=t+(o<<12&4294967295|o>>>20),o=s+(n^i&(t^n))+r[10]+4294925233&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(t^s&(i^t))+r[11]+2304563134&4294967295,n=s+(o<<22&4294967295|o>>>10),o=t+(i^n&(s^i))+r[12]+1804603682&4294967295,t=n+(o<<7&4294967295|o>>>25),o=i+(s^t&(n^s))+r[13]+4254626195&4294967295,i=t+(o<<12&4294967295|o>>>20),o=s+(n^i&(t^n))+r[14]+2792965006&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(t^s&(i^t))+r[15]+1236535329&4294967295,n=s+(o<<22&4294967295|o>>>10),o=t+(s^i&(n^s))+r[1]+4129170786&4294967295,t=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(t^n))+r[6]+3225465664&4294967295,i=t+(o<<9&4294967295|o>>>23),o=s+(t^n&(i^t))+r[11]+643717713&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^t&(s^i))+r[0]+3921069994&4294967295,n=s+(o<<20&4294967295|o>>>12),o=t+(s^i&(n^s))+r[5]+3593408605&4294967295,t=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(t^n))+r[10]+38016083&4294967295,i=t+(o<<9&4294967295|o>>>23),o=s+(t^n&(i^t))+r[15]+3634488961&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^t&(s^i))+r[4]+3889429448&4294967295,n=s+(o<<20&4294967295|o>>>12),o=t+(s^i&(n^s))+r[9]+568446438&4294967295,t=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(t^n))+r[14]+3275163606&4294967295,i=t+(o<<9&4294967295|o>>>23),o=s+(t^n&(i^t))+r[3]+4107603335&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^t&(s^i))+r[8]+1163531501&4294967295,n=s+(o<<20&4294967295|o>>>12),o=t+(s^i&(n^s))+r[13]+2850285829&4294967295,t=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(t^n))+r[2]+4243563512&4294967295,i=t+(o<<9&4294967295|o>>>23),o=s+(t^n&(i^t))+r[7]+1735328473&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^t&(s^i))+r[12]+2368359562&4294967295,n=s+(o<<20&4294967295|o>>>12),o=t+(n^s^i)+r[5]+4294588738&4294967295,t=n+(o<<4&4294967295|o>>>28),o=i+(t^n^s)+r[8]+2272392833&4294967295,i=t+(o<<11&4294967295|o>>>21),o=s+(i^t^n)+r[11]+1839030562&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^t)+r[14]+4259657740&4294967295,n=s+(o<<23&4294967295|o>>>9),o=t+(n^s^i)+r[1]+2763975236&4294967295,t=n+(o<<4&4294967295|o>>>28),o=i+(t^n^s)+r[4]+1272893353&4294967295,i=t+(o<<11&4294967295|o>>>21),o=s+(i^t^n)+r[7]+4139469664&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^t)+r[10]+3200236656&4294967295,n=s+(o<<23&4294967295|o>>>9),o=t+(n^s^i)+r[13]+681279174&4294967295,t=n+(o<<4&4294967295|o>>>28),o=i+(t^n^s)+r[0]+3936430074&4294967295,i=t+(o<<11&4294967295|o>>>21),o=s+(i^t^n)+r[3]+3572445317&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^t)+r[6]+76029189&4294967295,n=s+(o<<23&4294967295|o>>>9),o=t+(n^s^i)+r[9]+3654602809&4294967295,t=n+(o<<4&4294967295|o>>>28),o=i+(t^n^s)+r[12]+3873151461&4294967295,i=t+(o<<11&4294967295|o>>>21),o=s+(i^t^n)+r[15]+530742520&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^t)+r[2]+3299628645&4294967295,n=s+(o<<23&4294967295|o>>>9),o=t+(s^(n|~i))+r[0]+4096336452&4294967295,t=n+(o<<6&4294967295|o>>>26),o=i+(n^(t|~s))+r[7]+1126891415&4294967295,i=t+(o<<10&4294967295|o>>>22),o=s+(t^(i|~n))+r[14]+2878612391&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~t))+r[5]+4237533241&4294967295,n=s+(o<<21&4294967295|o>>>11),o=t+(s^(n|~i))+r[12]+1700485571&4294967295,t=n+(o<<6&4294967295|o>>>26),o=i+(n^(t|~s))+r[3]+2399980690&4294967295,i=t+(o<<10&4294967295|o>>>22),o=s+(t^(i|~n))+r[10]+4293915773&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~t))+r[1]+2240044497&4294967295,n=s+(o<<21&4294967295|o>>>11),o=t+(s^(n|~i))+r[8]+1873313359&4294967295,t=n+(o<<6&4294967295|o>>>26),o=i+(n^(t|~s))+r[15]+4264355552&4294967295,i=t+(o<<10&4294967295|o>>>22),o=s+(t^(i|~n))+r[6]+2734768916&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~t))+r[13]+1309151649&4294967295,n=s+(o<<21&4294967295|o>>>11),o=t+(s^(n|~i))+r[4]+4149444226&4294967295,t=n+(o<<6&4294967295|o>>>26),o=i+(n^(t|~s))+r[11]+3174756917&4294967295,i=t+(o<<10&4294967295|o>>>22),o=s+(t^(i|~n))+r[2]+718787259&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(s+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+s&4294967295,e.g[3]=e.g[3]+i&4294967295}Ne.prototype.j=function(e,t){t===void 0&&(t=e.length);for(var n=t-this.blockSize,r=this.m,s=this.h,i=0;i<t;){if(s==0)for(;i<=n;)Ca(this,e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<t;)if(r[s++]=e.charCodeAt(i++),s==this.blockSize){Ca(this,r),s=0;break}}else for(;i<t;)if(r[s++]=e[i++],s==this.blockSize){Ca(this,r),s=0;break}}this.h=s,this.i+=t};Ne.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=n&255,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};function mt(e,t){this.h=t;for(var n=[],r=!0,s=e.length-1;0<=s;s--){var i=e[s]|0;r&&i==t||(n[s]=i,r=!1)}this.g=n}var Mw={};function Ic(e){return-128<=e&&128>e?HT(e,function(t){return new mt([t|0],0>t?-1:0)}):new mt([e|0],0>e?-1:0)}function qe(e){if(isNaN(e)||!isFinite(e))return Rr;if(0>e)return Gt(qe(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=ul;return new mt(t,0)}function om(e,t){if(e.length==0)throw Error("number format error: empty string");if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(e.charAt(0)=="-")return Gt(om(e.substring(1),t));if(0<=e.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=qe(Math.pow(t,8)),r=Rr,s=0;s<e.length;s+=8){var i=Math.min(8,e.length-s),o=parseInt(e.substring(s,s+i),t);8>i?(i=qe(Math.pow(t,i)),r=r.R(i).add(qe(o))):(r=r.R(n),r=r.add(qe(o)))}return r}var ul=4294967296,Rr=Ic(0),hl=Ic(1),Nh=Ic(16777216);D=mt.prototype;D.ea=function(){if(we(this))return-Gt(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:ul+r)*t,t*=ul}return e};D.toString=function(e){if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(en(this))return"0";if(we(this))return"-"+Gt(this).toString(e);for(var t=qe(Math.pow(e,6)),n=this,r="";;){var s=Zi(n,t).g;n=Ji(n,s.R(t));var i=((0<n.g.length?n.g[0]:n.h)>>>0).toString(e);if(n=s,en(n))return i+r;for(;6>i.length;)i="0"+i;r=i+r}};D.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h};function en(e){if(e.h!=0)return!1;for(var t=0;t<e.g.length;t++)if(e.g[t]!=0)return!1;return!0}function we(e){return e.h==-1}D.X=function(e){return e=Ji(this,e),we(e)?-1:en(e)?0:1};function Gt(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new mt(n,~e.h).add(hl)}D.abs=function(){return we(this)?Gt(this):this};D.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,s=0;s<=t;s++){var i=r+(this.D(s)&65535)+(e.D(s)&65535),o=(i>>>16)+(this.D(s)>>>16)+(e.D(s)>>>16);r=o>>>16,i&=65535,o&=65535,n[s]=o<<16|i}return new mt(n,n[n.length-1]&-2147483648?-1:0)};function Ji(e,t){return e.add(Gt(t))}D.R=function(e){if(en(this)||en(e))return Rr;if(we(this))return we(e)?Gt(this).R(Gt(e)):Gt(Gt(this).R(e));if(we(e))return Gt(this.R(Gt(e)));if(0>this.X(Nh)&&0>e.X(Nh))return qe(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var s=0;s<e.g.length;s++){var i=this.D(r)>>>16,o=this.D(r)&65535,a=e.D(s)>>>16,l=e.D(s)&65535;n[2*r+2*s]+=o*l,Ii(n,2*r+2*s),n[2*r+2*s+1]+=i*l,Ii(n,2*r+2*s+1),n[2*r+2*s+1]+=o*a,Ii(n,2*r+2*s+1),n[2*r+2*s+2]+=i*a,Ii(n,2*r+2*s+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new mt(n,0)};function Ii(e,t){for(;(e[t]&65535)!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function ss(e,t){this.g=e,this.h=t}function Zi(e,t){if(en(t))throw Error("division by zero");if(en(e))return new ss(Rr,Rr);if(we(e))return t=Zi(Gt(e),t),new ss(Gt(t.g),Gt(t.h));if(we(t))return t=Zi(e,Gt(t)),new ss(Gt(t.g),t.h);if(30<e.g.length){if(we(e)||we(t))throw Error("slowDivide_ only works with positive integers.");for(var n=hl,r=t;0>=r.X(e);)n=kh(n),r=kh(r);var s=fr(n,1),i=fr(r,1);for(r=fr(r,2),n=fr(n,2);!en(r);){var o=i.add(r);0>=o.X(e)&&(s=s.add(n),i=o),r=fr(r,1),n=fr(n,1)}return t=Ji(e,s.R(t)),new ss(s,t)}for(s=Rr;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),i=qe(n),o=i.R(t);we(o)||0<o.X(e);)n-=r,i=qe(n),o=i.R(t);en(i)&&(i=hl),s=s.add(i),e=Ji(e,o)}return new ss(s,e)}D.gb=function(e){return Zi(this,e).h};D.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new mt(n,this.h&e.h)};D.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new mt(n,this.h|e.h)};D.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new mt(n,this.h^e.h)};function kh(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new mt(n,e.h)}function fr(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,s=[],i=0;i<r;i++)s[i]=0<t?e.D(i+n)>>>t|e.D(i+n+1)<<32-t:e.D(i+n);return new mt(s,e.h)}Xi.prototype.createWebChannel=Xi.prototype.g;Ee.prototype.send=Ee.prototype.u;Ee.prototype.open=Ee.prototype.m;Ee.prototype.close=Ee.prototype.close;ko.NO_ERROR=0;ko.TIMEOUT=8;ko.HTTP_ERROR=6;Ip.COMPLETE="complete";Ap.EventType=ti;ti.OPEN="a";ti.CLOSE="b";ti.ERROR="c";ti.MESSAGE="d";qt.prototype.listen=qt.prototype.O;Pt.prototype.listenOnce=Pt.prototype.P;Pt.prototype.getLastError=Pt.prototype.Sa;Pt.prototype.getLastErrorCode=Pt.prototype.Ia;Pt.prototype.getStatus=Pt.prototype.da;Pt.prototype.getResponseJson=Pt.prototype.Wa;Pt.prototype.getResponseText=Pt.prototype.ja;Pt.prototype.send=Pt.prototype.ha;Pt.prototype.setWithCredentials=Pt.prototype.Oa;Ne.prototype.digest=Ne.prototype.l;Ne.prototype.reset=Ne.prototype.reset;Ne.prototype.update=Ne.prototype.j;mt.prototype.add=mt.prototype.add;mt.prototype.multiply=mt.prototype.R;mt.prototype.modulo=mt.prototype.gb;mt.prototype.compare=mt.prototype.X;mt.prototype.toNumber=mt.prototype.ea;mt.prototype.toString=mt.prototype.toString;mt.prototype.getBits=mt.prototype.D;mt.fromNumber=qe;mt.fromString=om;var Lw=function(){return new Xi},Fw=function(){return No()},Sa=ko,Bw=Ip,Uw=ir,Oh={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Ai=Ap,$w=Pt,jw=Ne,Cr=mt;const Mh="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}te.UNAUTHENTICATED=new te(null),te.GOOGLE_CREDENTIALS=new te("google-credentials-uid"),te.FIRST_PARTY=new te("first-party-uid"),te.MOCK_USER=new te("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gr="10.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xn=new Jd("@firebase/firestore");function is(){return Xn.logLevel}function F(e,...t){if(Xn.logLevel<=ot.DEBUG){const n=t.map(Ac);Xn.debug(`Firestore (${Gr}): ${e}`,...n)}}function on(e,...t){if(Xn.logLevel<=ot.ERROR){const n=t.map(Ac);Xn.error(`Firestore (${Gr}): ${e}`,...n)}}function Or(e,...t){if(Xn.logLevel<=ot.WARN){const n=t.map(Ac);Xn.warn(`Firestore (${Gr}): ${e}`,...n)}}function Ac(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W(e="Unexpected state"){const t=`FIRESTORE (${Gr}) INTERNAL ASSERTION FAILED: `+e;throw on(t),new Error(t)}function Tt(e,t){e||W()}function tt(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class M extends Hr{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class am{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class qw{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(te.UNAUTHENTICATED))}shutdown(){}}class Hw{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Kw{constructor(t){this.t=t,this.currentUser=te.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){let r=this.i;const s=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let i=new Cn;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Cn,t.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const l=i;t.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},a=l=>{F("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(F("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Cn)}},0),o()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==t?(F("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Tt(typeof r.accessToken=="string"),new am(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return Tt(t===null||typeof t=="string"),new te(t)}}class zw{constructor(t,n,r){this.l=t,this.h=n,this.P=r,this.type="FirstParty",this.user=te.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const t=this.T();return t&&this.I.set("Authorization",t),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Gw{constructor(t,n,r){this.l=t,this.h=n,this.P=r}getToken(){return Promise.resolve(new zw(this.l,this.h,this.P))}start(t,n){t.enqueueRetryable(()=>n(te.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Ww{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Qw{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,n){const r=i=>{i.error!=null&&F("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.R;return this.R=i.token,F("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{t.enqueueRetryable(()=>r(i))};const s=i=>{F("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.appCheck.addTokenListener(this.o)};this.A.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.A.getImmediate({optional:!0});i?s(i):F("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(Tt(typeof n.token=="string"),this.R=n.token,new Ww(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yw(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/t.length)*t.length;let r="";for(;r.length<20;){const s=Yw(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=t.charAt(s[i]%t.length))}return r}}function ct(e,t){return e<t?-1:e>t?1:0}function Mr(e,t,n){return e.length===t.length&&e.every((r,s)=>n(r,t[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new M(E.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new M(E.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new M(E.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new M(E.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return Lt.fromMillis(Date.now())}static fromDate(t){return Lt.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),r=Math.floor(1e6*(t-1e3*n));return new Lt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?ct(this.nanoseconds,t.nanoseconds):ct(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X{constructor(t){this.timestamp=t}static fromTimestamp(t){return new X(t)}static min(){return new X(new Lt(0,0))}static max(){return new X(new Lt(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s{constructor(t,n,r){n===void 0?n=0:n>t.length&&W(),r===void 0?r=t.length-n:r>t.length-n&&W(),this.segments=t,this.offset=n,this.len=r}get length(){return this.len}isEqual(t){return $s.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof $s?t.forEach(r=>{n.push(r)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const r=Math.min(t.length,n.length);for(let s=0;s<r;s++){const i=t.get(s),o=n.get(s);if(i<o)return-1;if(i>o)return 1}return t.length<n.length?-1:t.length>n.length?1:0}}class At extends $s{construct(t,n,r){return new At(t,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const n=[];for(const r of t){if(r.indexOf("//")>=0)throw new M(E.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new At(n)}static emptyPath(){return new At([])}}const Xw=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Wt extends $s{construct(t,n,r){return new Wt(t,n,r)}static isValidIdentifier(t){return Xw.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Wt.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Wt(["__name__"])}static fromServerFormat(t){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new M(E.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<t.length;){const a=t[s];if(a==="\\"){if(s+1===t.length)throw new M(E.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const l=t[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new M(E.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=l,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new M(E.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Wt(n)}static emptyPath(){return new Wt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K{constructor(t){this.path=t}static fromPath(t){return new K(At.fromString(t))}static fromName(t){return new K(At.fromString(t).popFirst(5))}static empty(){return new K(At.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&At.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return At.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new K(new At(t.slice()))}}function Jw(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,s=X.fromTimestamp(r===1e9?new Lt(n+1,0):new Lt(n,r));return new Dn(s,K.empty(),t)}function Zw(e){return new Dn(e.readTime,e.key,-1)}class Dn{constructor(t,n,r){this.readTime=t,this.documentKey=n,this.largestBatchId=r}static min(){return new Dn(X.min(),K.empty(),-1)}static max(){return new Dn(X.max(),K.empty(),-1)}}function tI(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=K.comparator(e.documentKey,t.documentKey),n!==0?n:ct(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class nI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ii(e){if(e.code!==E.FAILED_PRECONDITION||e.message!==eI)throw e;F("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&W(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new R((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(t,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof R?n:R.resolve(n)}catch(n){return R.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):R.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):R.reject(n)}static resolve(t){return new R((n,r)=>{n(t)})}static reject(t){return new R((n,r)=>{r(t)})}static waitFor(t){return new R((n,r)=>{let s=0,i=0,o=!1;t.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},l=>r(l))}),o=!0,i===s&&n()})}static or(t){let n=R.resolve(!1);for(const r of t)n=n.next(s=>s?R.resolve(s):r());return n}static forEach(t,n){const r=[];return t.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(t,n){return new R((r,s)=>{const i=t.length,o=new Array(i);let a=0;for(let l=0;l<i;l++){const c=l;n(t[c]).next(u=>{o[c]=u,++a,a===i&&r(o)},u=>s(u))}})}static doWhile(t,n){return new R((r,s)=>{const i=()=>{t()===!0?n().next(()=>{i()},s):r()};i()})}}function oi(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=r=>this.se(r),this.oe=r=>n.writeSequenceNumber(r))}se(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.oe&&this.oe(t),t}}Rc._e=-1;function qo(e){return e==null}function to(e){return e===0&&1/e==-1/0}function rI(e){return typeof e=="number"&&Number.isInteger(e)&&!to(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lh(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Wr(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function cm(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{constructor(t,n){this.comparator=t,this.root=n||zt.EMPTY}insert(t,n){return new St(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,zt.BLACK,null,null))}remove(t){return new St(this.comparator,this.root.remove(t,this.comparator).copy(null,null,zt.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(t){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(t,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,r)=>(t(n,r),!1))}toString(){const t=[];return this.inorderTraversal((n,r)=>(t.push(`${n}:${r}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Ri(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Ri(this.root,t,this.comparator,!1)}getReverseIterator(){return new Ri(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Ri(this.root,t,this.comparator,!0)}}class Ri{constructor(t,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!t.isEmpty();)if(i=n?r(t.key,n):1,n&&s&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(i===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class zt{constructor(t,n,r,s,i){this.key=t,this.value=n,this.color=r??zt.RED,this.left=s??zt.EMPTY,this.right=i??zt.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,r,s,i){return new zt(t??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let s=this;const i=r(t,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(t,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(t,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return zt.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let r,s=this;if(n(t,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(t,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(t,s.key)===0){if(s.right.isEmpty())return zt.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(t,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,zt.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,zt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw W();const t=this.left.check();if(t!==this.right.check())throw W();return t+(this.isRed()?0:1)}}zt.EMPTY=null,zt.RED=!0,zt.BLACK=!1;zt.EMPTY=new class{constructor(){this.size=0}get key(){throw W()}get value(){throw W()}get color(){throw W()}get left(){throw W()}get right(){throw W()}copy(t,n,r,s,i){return this}insert(t,n,r){return new zt(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(t){this.comparator=t,this.data=new St(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,r)=>(t(n),!1))}forEachInRange(t,n){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,t[1])>=0)return;n(s.key)}}forEachWhile(t,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new Fh(this.data.getIterator())}getIteratorFrom(t){return new Fh(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(r=>{n=n.add(r)}),n}isEqual(t){if(!(t instanceof Xt)||this.size!==t.size)return!1;const n=this.data.getIterator(),r=t.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new Xt(this.comparator);return n.data=t,n}}class Fh{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{constructor(t){this.fields=t,t.sort(Wt.comparator)}static empty(){return new be([])}unionWith(t){let n=new Xt(Wt.comparator);for(const r of this.fields)n=n.add(r);for(const r of t)n=n.add(r);return new be(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Mr(this.fields,t.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class um extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ae{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new um("Invalid base64 string: "+i):i}}(t);return new ae(n)}static fromUint8Array(t){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(t);return new ae(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return ct(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}ae.EMPTY_BYTE_STRING=new ae("");const sI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function xn(e){if(Tt(!!e),typeof e=="string"){let t=0;const n=sI.exec(e);if(Tt(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),t=Number(s)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Dt(e.seconds),nanos:Dt(e.nanos)}}function Dt(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function Jn(e){return typeof e=="string"?ae.fromBase64String(e):ae.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cc(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Sc(e){const t=e.mapValue.fields.__previous_value__;return Cc(t)?Sc(t):t}function js(e){const t=xn(e.mapValue.fields.__local_write_time__.timestampValue);return new Lt(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iI{constructor(t,n,r,s,i,o,a,l,c){this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class qs{constructor(t,n){this.projectId=t,this.database=n||"(default)"}static empty(){return new qs("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(t){return t instanceof qs&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ci={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Zn(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Cc(e)?4:oI(e)?9007199254740991:10:W()}function We(e,t){if(e===t)return!0;const n=Zn(e);if(n!==Zn(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return js(e).isEqual(js(t));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=xn(s.timestampValue),a=xn(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(s,i){return Jn(s.bytesValue).isEqual(Jn(i.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(s,i){return Dt(s.geoPointValue.latitude)===Dt(i.geoPointValue.latitude)&&Dt(s.geoPointValue.longitude)===Dt(i.geoPointValue.longitude)}(e,t);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return Dt(s.integerValue)===Dt(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=Dt(s.doubleValue),a=Dt(i.doubleValue);return o===a?to(o)===to(a):isNaN(o)&&isNaN(a)}return!1}(e,t);case 9:return Mr(e.arrayValue.values||[],t.arrayValue.values||[],We);case 10:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(Lh(o)!==Lh(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!We(o[l],a[l])))return!1;return!0}(e,t);default:return W()}}function Hs(e,t){return(e.values||[]).find(n=>We(n,t))!==void 0}function Lr(e,t){if(e===t)return 0;const n=Zn(e),r=Zn(t);if(n!==r)return ct(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ct(e.booleanValue,t.booleanValue);case 2:return function(i,o){const a=Dt(i.integerValue||i.doubleValue),l=Dt(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(e,t);case 3:return Bh(e.timestampValue,t.timestampValue);case 4:return Bh(js(e),js(t));case 5:return ct(e.stringValue,t.stringValue);case 6:return function(i,o){const a=Jn(i),l=Jn(o);return a.compareTo(l)}(e.bytesValue,t.bytesValue);case 7:return function(i,o){const a=i.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const u=ct(a[c],l[c]);if(u!==0)return u}return ct(a.length,l.length)}(e.referenceValue,t.referenceValue);case 8:return function(i,o){const a=ct(Dt(i.latitude),Dt(o.latitude));return a!==0?a:ct(Dt(i.longitude),Dt(o.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(i,o){const a=i.values||[],l=o.values||[];for(let c=0;c<a.length&&c<l.length;++c){const u=Lr(a[c],l[c]);if(u)return u}return ct(a.length,l.length)}(e.arrayValue,t.arrayValue);case 10:return function(i,o){if(i===Ci.mapValue&&o===Ci.mapValue)return 0;if(i===Ci.mapValue)return 1;if(o===Ci.mapValue)return-1;const a=i.fields||{},l=Object.keys(a),c=o.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let h=0;h<l.length&&h<u.length;++h){const f=ct(l[h],u[h]);if(f!==0)return f;const m=Lr(a[l[h]],c[u[h]]);if(m!==0)return m}return ct(l.length,u.length)}(e.mapValue,t.mapValue);default:throw W()}}function Bh(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return ct(e,t);const n=xn(e),r=xn(t),s=ct(n.seconds,r.seconds);return s!==0?s:ct(n.nanos,r.nanos)}function Fr(e){return fl(e)}function fl(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(n){const r=xn(n);return`time(${r.seconds},${r.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(n){return Jn(n).toBase64()}(e.bytesValue):"referenceValue"in e?function(n){return K.fromName(n).toString()}(e.referenceValue):"geoPointValue"in e?function(n){return`geo(${n.latitude},${n.longitude})`}(e.geoPointValue):"arrayValue"in e?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=fl(i);return r+"]"}(e.arrayValue):"mapValue"in e?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${fl(n.fields[o])}`;return s+"}"}(e.mapValue):W()}function Uh(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function dl(e){return!!e&&"integerValue"in e}function Pc(e){return!!e&&"arrayValue"in e}function $h(e){return!!e&&"nullValue"in e}function jh(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Ni(e){return!!e&&"mapValue"in e}function vs(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Wr(e.mapValue.fields,(n,r)=>t.mapValue.fields[n]=vs(r)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=vs(e.arrayValue.values[n]);return t}return Object.assign({},e)}function oI(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{constructor(t){this.value=t}static empty(){return new Ie({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let r=0;r<t.length-1;++r)if(n=(n.mapValue.fields||{})[t.get(r)],!Ni(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=vs(n)}setAll(t){let n=Wt.emptyPath(),r={},s=[];t.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=vs(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(t){const n=this.field(t.popLast());Ni(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return We(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<t.length;++r){let s=n.mapValue.fields[t.get(r)];Ni(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(t,n,r){Wr(n,(s,i)=>t[s]=i);for(const s of r)delete t[s]}clone(){return new Ie(vs(this.value))}}function hm(e){const t=[];return Wr(e.fields,(n,r)=>{const s=new Wt([n]);if(Ni(r)){const i=hm(r.mapValue).fields;if(i.length===0)t.push(s);else for(const o of i)t.push(s.child(o))}else t.push(s)}),new be(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(t,n,r,s,i,o,a){this.key=t,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(t){return new ne(t,0,X.min(),X.min(),X.min(),Ie.empty(),0)}static newFoundDocument(t,n,r,s){return new ne(t,1,n,X.min(),r,s,0)}static newNoDocument(t,n){return new ne(t,2,n,X.min(),X.min(),Ie.empty(),0)}static newUnknownDocument(t,n){return new ne(t,3,n,X.min(),X.min(),Ie.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(X.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Ie.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Ie.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=X.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof ne&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new ne(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo{constructor(t,n){this.position=t,this.inclusive=n}}function qh(e,t,n){let r=0;for(let s=0;s<e.position.length;s++){const i=t[s],o=e.position[s];if(i.field.isKeyField()?r=K.comparator(K.fromName(o.referenceValue),n.key):r=Lr(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function Hh(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!We(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks{constructor(t,n="asc"){this.field=t,this.dir=n}}function aI(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fm{}class xt extends fm{constructor(t,n,r){super(),this.field=t,this.op=n,this.value=r}static create(t,n,r){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,r):new cI(t,n,r):n==="array-contains"?new fI(t,r):n==="in"?new dI(t,r):n==="not-in"?new pI(t,r):n==="array-contains-any"?new mI(t,r):new xt(t,n,r)}static createKeyFieldInFilter(t,n,r){return n==="in"?new uI(t,r):new hI(t,r)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Lr(n,this.value)):n!==null&&Zn(this.value)===Zn(n)&&this.matchesComparison(Lr(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return W()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ke extends fm{constructor(t,n){super(),this.filters=t,this.op=n,this.ue=null}static create(t,n){return new ke(t,n)}matches(t){return dm(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function dm(e){return e.op==="and"}function pm(e){return lI(e)&&dm(e)}function lI(e){for(const t of e.filters)if(t instanceof ke)return!1;return!0}function pl(e){if(e instanceof xt)return e.field.canonicalString()+e.op.toString()+Fr(e.value);if(pm(e))return e.filters.map(t=>pl(t)).join(",");{const t=e.filters.map(n=>pl(n)).join(",");return`${e.op}(${t})`}}function mm(e,t){return e instanceof xt?function(r,s){return s instanceof xt&&r.op===s.op&&r.field.isEqual(s.field)&&We(r.value,s.value)}(e,t):e instanceof ke?function(r,s){return s instanceof ke&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&mm(o,s.filters[a]),!0):!1}(e,t):void W()}function gm(e){return e instanceof xt?function(n){return`${n.field.canonicalString()} ${n.op} ${Fr(n.value)}`}(e):e instanceof ke?function(n){return n.op.toString()+" {"+n.getFilters().map(gm).join(" ,")+"}"}(e):"Filter"}class cI extends xt{constructor(t,n,r){super(t,n,r),this.key=K.fromName(r.referenceValue)}matches(t){const n=K.comparator(t.key,this.key);return this.matchesComparison(n)}}class uI extends xt{constructor(t,n){super(t,"in",n),this.keys=_m("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class hI extends xt{constructor(t,n){super(t,"not-in",n),this.keys=_m("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function _m(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>K.fromName(r.referenceValue))}class fI extends xt{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return Pc(n)&&Hs(n.arrayValue,this.value)}}class dI extends xt{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Hs(this.value.arrayValue,n)}}class pI extends xt{constructor(t,n){super(t,"not-in",n)}matches(t){if(Hs(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&!Hs(this.value.arrayValue,n)}}class mI extends xt{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!Pc(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Hs(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gI{constructor(t,n=null,r=[],s=[],i=null,o=null,a=null){this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.ce=null}}function Kh(e,t=null,n=[],r=[],s=null,i=null,o=null){return new gI(e,t,n,r,s,i,o)}function bc(e){const t=tt(e);if(t.ce===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(r=>pl(r)).join(","),n+="|ob:",n+=t.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),qo(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(r=>Fr(r)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(r=>Fr(r)).join(",")),t.ce=n}return t.ce}function Vc(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!aI(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!mm(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Hh(e.startAt,t.startAt)&&Hh(e.endAt,t.endAt)}function ml(e){return K.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr{constructor(t,n=null,r=[],s=[],i=null,o="F",a=null,l=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=l,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function _I(e,t,n,r,s,i,o,a){return new Qr(e,t,n,r,s,i,o,a)}function Dc(e){return new Qr(e)}function zh(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function ym(e){return e.collectionGroup!==null}function Es(e){const t=tt(e);if(t.le===null){t.le=[];const n=new Set;for(const i of t.explicitOrderBy)t.le.push(i),n.add(i.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Xt(Wt.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(t).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||t.le.push(new Ks(i,r))}),n.has(Wt.keyField().canonicalString())||t.le.push(new Ks(Wt.keyField(),r))}return t.le}function He(e){const t=tt(e);return t.he||(t.he=yI(t,Es(e))),t.he}function yI(e,t){if(e.limitType==="F")return Kh(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new Ks(s.field,i)});const n=e.endAt?new eo(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new eo(e.startAt.position,e.startAt.inclusive):null;return Kh(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function gl(e,t){const n=e.filters.concat([t]);return new Qr(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function no(e,t,n){return new Qr(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Ho(e,t){return Vc(He(e),He(t))&&e.limitType===t.limitType}function vm(e){return`${bc(He(e))}|lt:${e.limitType}`}function pr(e){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>gm(s)).join(", ")}]`),qo(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>Fr(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>Fr(s)).join(",")),`Target(${r})`}(He(e))}; limitType=${e.limitType})`}function Ko(e,t){return t.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):K.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(e,t)&&function(r,s){for(const i of Es(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(e,t)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(e,t)&&function(r,s){return!(r.startAt&&!function(o,a,l){const c=qh(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,Es(r),s)||r.endAt&&!function(o,a,l){const c=qh(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,Es(r),s))}(e,t)}function vI(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Em(e){return(t,n)=>{let r=!1;for(const s of Es(e)){const i=EI(s,t,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function EI(e,t,n){const r=e.field.isKeyField()?K.comparator(t.key,n.key):function(i,o,a){const l=o.data.field(i),c=a.data.field(i);return l!==null&&c!==null?Lr(l,c):W()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return W()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,t))return i}}has(t){return this.get(t)!==void 0}set(t,n){const r=this.mapKeyFn(t),s=this.inner[r];if(s===void 0)return this.inner[r]=[[t,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],t))return void(s[i]=[t,n]);s.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],t))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(t){Wr(this.inner,(n,r)=>{for(const[s,i]of r)t(s,i)})}isEmpty(){return cm(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TI=new St(K.comparator);function an(){return TI}const Tm=new St(K.comparator);function us(...e){let t=Tm;for(const n of e)t=t.insert(n.key,n);return t}function wm(e){let t=Tm;return e.forEach((n,r)=>t=t.insert(n,r.overlayedDocument)),t}function Hn(){return Ts()}function Im(){return Ts()}function Ts(){return new Yr(e=>e.toString(),(e,t)=>e.isEqual(t))}const wI=new St(K.comparator),II=new Xt(K.comparator);function rt(...e){let t=II;for(const n of e)t=t.add(n);return t}const AI=new Xt(ct);function RI(){return AI}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Am(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:to(t)?"-0":t}}function Rm(e){return{integerValue:""+e}}function CI(e,t){return rI(t)?Rm(t):Am(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zo{constructor(){this._=void 0}}function SI(e,t,n){return e instanceof ro?function(s,i){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&Cc(i)&&(i=Sc(i)),i&&(o.fields.__previous_value__=i),{mapValue:o}}(n,t):e instanceof zs?Sm(e,t):e instanceof Gs?Pm(e,t):function(s,i){const o=Cm(s,i),a=Gh(o)+Gh(s.Ie);return dl(o)&&dl(s.Ie)?Rm(a):Am(s.serializer,a)}(e,t)}function PI(e,t,n){return e instanceof zs?Sm(e,t):e instanceof Gs?Pm(e,t):n}function Cm(e,t){return e instanceof so?function(r){return dl(r)||function(i){return!!i&&"doubleValue"in i}(r)}(t)?t:{integerValue:0}:null}class ro extends zo{}class zs extends zo{constructor(t){super(),this.elements=t}}function Sm(e,t){const n=bm(t);for(const r of e.elements)n.some(s=>We(s,r))||n.push(r);return{arrayValue:{values:n}}}class Gs extends zo{constructor(t){super(),this.elements=t}}function Pm(e,t){let n=bm(t);for(const r of e.elements)n=n.filter(s=>!We(s,r));return{arrayValue:{values:n}}}class so extends zo{constructor(t,n){super(),this.serializer=t,this.Ie=n}}function Gh(e){return Dt(e.integerValue||e.doubleValue)}function bm(e){return Pc(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}function bI(e,t){return e.field.isEqual(t.field)&&function(r,s){return r instanceof zs&&s instanceof zs||r instanceof Gs&&s instanceof Gs?Mr(r.elements,s.elements,We):r instanceof so&&s instanceof so?We(r.Ie,s.Ie):r instanceof ro&&s instanceof ro}(e.transform,t.transform)}class VI{constructor(t,n){this.version=t,this.transformResults=n}}class De{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new De}static exists(t){return new De(void 0,t)}static updateTime(t){return new De(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function ki(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class Go{}function Vm(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new xc(e.key,De.none()):new ai(e.key,e.data,De.none());{const n=e.data,r=Ie.empty();let s=new Xt(Wt.comparator);for(let i of t.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new or(e.key,r,new be(s.toArray()),De.none())}}function DI(e,t,n){e instanceof ai?function(s,i,o){const a=s.value.clone(),l=Qh(s.fieldTransforms,i,o.transformResults);a.setAll(l),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(e,t,n):e instanceof or?function(s,i,o){if(!ki(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=Qh(s.fieldTransforms,i,o.transformResults),l=i.data;l.setAll(Dm(s)),l.setAll(a),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(e,t,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,t,n)}function ws(e,t,n,r){return e instanceof ai?function(i,o,a,l){if(!ki(i.precondition,o))return a;const c=i.value.clone(),u=Yh(i.fieldTransforms,l,o);return c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(e,t,n,r):e instanceof or?function(i,o,a,l){if(!ki(i.precondition,o))return a;const c=Yh(i.fieldTransforms,l,o),u=o.data;return u.setAll(Dm(i)),u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(h=>h.field))}(e,t,n,r):function(i,o,a){return ki(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(e,t,n)}function xI(e,t){let n=null;for(const r of e.fieldTransforms){const s=t.data.field(r.field),i=Cm(r.transform,s||null);i!=null&&(n===null&&(n=Ie.empty()),n.set(r.field,i))}return n||null}function Wh(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Mr(r,s,(i,o)=>bI(i,o))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class ai extends Go{constructor(t,n,r,s=[]){super(),this.key=t,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class or extends Go{constructor(t,n,r,s,i=[]){super(),this.key=t,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Dm(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function Qh(e,t,n){const r=new Map;Tt(e.length===n.length);for(let s=0;s<n.length;s++){const i=e[s],o=i.transform,a=t.data.field(i.field);r.set(i.field,PI(o,a,n[s]))}return r}function Yh(e,t,n){const r=new Map;for(const s of e){const i=s.transform,o=n.data.field(s.field);r.set(s.field,SI(i,o,t))}return r}class xc extends Go{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class NI extends Go{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kI{constructor(t,n,r,s){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(t,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(t.key)&&DI(i,t,r[s])}}applyToLocalView(t,n){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(n=ws(r,t,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(n=ws(r,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const r=Im();return this.mutations.forEach(s=>{const i=t.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const l=Vm(o,a);l!==null&&r.set(s.key,l),o.isValidDocument()||o.convertToNoDocument(X.min())}),r}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),rt())}isEqual(t){return this.batchId===t.batchId&&Mr(this.mutations,t.mutations,(n,r)=>Wh(n,r))&&Mr(this.baseMutations,t.baseMutations,(n,r)=>Wh(n,r))}}class Nc{constructor(t,n,r,s){this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(t,n,r){Tt(t.mutations.length===r.length);let s=function(){return wI}();const i=t.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new Nc(t,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OI{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MI{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vt,st;function LI(e){switch(e){default:return W();case E.CANCELLED:case E.UNKNOWN:case E.DEADLINE_EXCEEDED:case E.RESOURCE_EXHAUSTED:case E.INTERNAL:case E.UNAVAILABLE:case E.UNAUTHENTICATED:return!1;case E.INVALID_ARGUMENT:case E.NOT_FOUND:case E.ALREADY_EXISTS:case E.PERMISSION_DENIED:case E.FAILED_PRECONDITION:case E.ABORTED:case E.OUT_OF_RANGE:case E.UNIMPLEMENTED:case E.DATA_LOSS:return!0}}function xm(e){if(e===void 0)return on("GRPC error has no .code"),E.UNKNOWN;switch(e){case Vt.OK:return E.OK;case Vt.CANCELLED:return E.CANCELLED;case Vt.UNKNOWN:return E.UNKNOWN;case Vt.DEADLINE_EXCEEDED:return E.DEADLINE_EXCEEDED;case Vt.RESOURCE_EXHAUSTED:return E.RESOURCE_EXHAUSTED;case Vt.INTERNAL:return E.INTERNAL;case Vt.UNAVAILABLE:return E.UNAVAILABLE;case Vt.UNAUTHENTICATED:return E.UNAUTHENTICATED;case Vt.INVALID_ARGUMENT:return E.INVALID_ARGUMENT;case Vt.NOT_FOUND:return E.NOT_FOUND;case Vt.ALREADY_EXISTS:return E.ALREADY_EXISTS;case Vt.PERMISSION_DENIED:return E.PERMISSION_DENIED;case Vt.FAILED_PRECONDITION:return E.FAILED_PRECONDITION;case Vt.ABORTED:return E.ABORTED;case Vt.OUT_OF_RANGE:return E.OUT_OF_RANGE;case Vt.UNIMPLEMENTED:return E.UNIMPLEMENTED;case Vt.DATA_LOSS:return E.DATA_LOSS;default:return W()}}(st=Vt||(Vt={}))[st.OK=0]="OK",st[st.CANCELLED=1]="CANCELLED",st[st.UNKNOWN=2]="UNKNOWN",st[st.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",st[st.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",st[st.NOT_FOUND=5]="NOT_FOUND",st[st.ALREADY_EXISTS=6]="ALREADY_EXISTS",st[st.PERMISSION_DENIED=7]="PERMISSION_DENIED",st[st.UNAUTHENTICATED=16]="UNAUTHENTICATED",st[st.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",st[st.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",st[st.ABORTED=10]="ABORTED",st[st.OUT_OF_RANGE=11]="OUT_OF_RANGE",st[st.UNIMPLEMENTED=12]="UNIMPLEMENTED",st[st.INTERNAL=13]="INTERNAL",st[st.UNAVAILABLE=14]="UNAVAILABLE",st[st.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FI(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BI=new Cr([4294967295,4294967295],0);function Xh(e){const t=FI().encode(e),n=new jw;return n.update(t),new Uint8Array(n.digest())}function Jh(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),s=t.getUint32(8,!0),i=t.getUint32(12,!0);return[new Cr([n,r],0),new Cr([s,i],0)]}class kc{constructor(t,n,r){if(this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new hs(`Invalid padding: ${n}`);if(r<0)throw new hs(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new hs(`Invalid hash count: ${r}`);if(t.length===0&&n!==0)throw new hs(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*t.length-n,this.Ee=Cr.fromNumber(this.Te)}de(t,n,r){let s=t.add(n.multiply(Cr.fromNumber(r)));return s.compare(BI)===1&&(s=new Cr([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Ee).toNumber()}Ae(t){return(this.bitmap[Math.floor(t/8)]&1<<t%8)!=0}mightContain(t){if(this.Te===0)return!1;const n=Xh(t),[r,s]=Jh(n);for(let i=0;i<this.hashCount;i++){const o=this.de(r,s,i);if(!this.Ae(o))return!1}return!0}static create(t,n,r){const s=t%8==0?0:8-t%8,i=new Uint8Array(Math.ceil(t/8)),o=new kc(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(t){if(this.Te===0)return;const n=Xh(t),[r,s]=Jh(n);for(let i=0;i<this.hashCount;i++){const o=this.de(r,s,i);this.Re(o)}}Re(t){const n=Math.floor(t/8),r=t%8;this.bitmap[n]|=1<<r}}class hs extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo{constructor(t,n,r,s,i){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(t,n,r){const s=new Map;return s.set(t,li.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new Wo(X.min(),s,new St(ct),an(),rt())}}class li{constructor(t,n,r,s,i){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(t,n,r){return new li(r,n,rt(),rt(),rt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi{constructor(t,n,r,s){this.Ve=t,this.removedTargetIds=n,this.key=r,this.me=s}}class Nm{constructor(t,n){this.targetId=t,this.fe=n}}class km{constructor(t,n,r=ae.EMPTY_BYTE_STRING,s=null){this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=s}}class Zh{constructor(){this.ge=0,this.pe=ef(),this.ye=ae.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(t){t.approximateByteSize()>0&&(this.Se=!0,this.ye=t)}ve(){let t=rt(),n=rt(),r=rt();return this.pe.forEach((s,i)=>{switch(i){case 0:t=t.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:W()}}),new li(this.ye,this.we,t,n,r)}Fe(){this.Se=!1,this.pe=ef()}Me(t,n){this.Se=!0,this.pe=this.pe.insert(t,n)}xe(t){this.Se=!0,this.pe=this.pe.remove(t)}Oe(){this.ge+=1}Ne(){this.ge-=1,Tt(this.ge>=0)}Be(){this.Se=!0,this.we=!0}}class UI{constructor(t){this.Le=t,this.ke=new Map,this.qe=an(),this.Qe=tf(),this.Ke=new St(ct)}$e(t){for(const n of t.Ve)t.me&&t.me.isFoundDocument()?this.Ue(n,t.me):this.We(n,t.key,t.me);for(const n of t.removedTargetIds)this.We(n,t.key,t.me)}Ge(t){this.forEachTarget(t,n=>{const r=this.ze(n);switch(t.state){case 0:this.je(n)&&r.Ce(t.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(t.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Be(),r.Ce(t.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(t.resumeToken));break;default:W()}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ke.forEach((r,s)=>{this.je(s)&&n(s)})}Je(t){const n=t.targetId,r=t.fe.count,s=this.Ye(n);if(s){const i=s.target;if(ml(i))if(r===0){const o=new K(i.path);this.We(n,o,ne.newNoDocument(o,X.min()))}else Tt(r===1);else{const o=this.Ze(n);if(o!==r){const a=this.Xe(t),l=a?this.et(a,t,o):1;if(l!==0){this.He(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,c)}}}}}Xe(t){const n=t.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=Jn(r).toUint8Array()}catch(l){if(l instanceof um)return Or("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new kc(o,s,i)}catch(l){return Or(l instanceof hs?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Te===0?null:a}et(t,n,r){return n.fe.count===r-this.rt(t,n.targetId)?0:2}rt(t,n){const r=this.Le.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.Le.nt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;t.mightContain(a)||(this.We(n,i,null),s++)}),s}it(t){const n=new Map;this.ke.forEach((i,o)=>{const a=this.Ye(o);if(a){if(i.current&&ml(a.target)){const l=new K(a.target.path);this.qe.get(l)!==null||this.st(o,l)||this.We(o,l,ne.newNoDocument(l,t))}i.De&&(n.set(o,i.ve()),i.Fe())}});let r=rt();this.Qe.forEach((i,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.Ye(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.qe.forEach((i,o)=>o.setReadTime(t));const s=new Wo(t,n,this.Ke,this.qe,r);return this.qe=an(),this.Qe=tf(),this.Ke=new St(ct),s}Ue(t,n){if(!this.je(t))return;const r=this.st(t,n.key)?2:0;this.ze(t).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(t))}We(t,n,r){if(!this.je(t))return;const s=this.ze(t);this.st(t,n)?s.Me(n,1):s.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(t)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(t){this.ke.delete(t)}Ze(t){const n=this.ze(t).ve();return this.Le.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Oe(t){this.ze(t).Oe()}ze(t){let n=this.ke.get(t);return n||(n=new Zh,this.ke.set(t,n)),n}ot(t){let n=this.Qe.get(t);return n||(n=new Xt(ct),this.Qe=this.Qe.insert(t,n)),n}je(t){const n=this.Ye(t)!==null;return n||F("WatchChangeAggregator","Detected inactive target",t),n}Ye(t){const n=this.ke.get(t);return n&&n.be?null:this.Le._t(t)}He(t){this.ke.set(t,new Zh),this.Le.getRemoteKeysForTarget(t).forEach(n=>{this.We(t,n,null)})}st(t,n){return this.Le.getRemoteKeysForTarget(t).has(n)}}function tf(){return new St(K.comparator)}function ef(){return new St(K.comparator)}const $I={asc:"ASCENDING",desc:"DESCENDING"},jI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},qI={and:"AND",or:"OR"};class HI{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function _l(e,t){return e.useProto3Json||qo(t)?t:{value:t}}function io(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Om(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function KI(e,t){return io(e,t.toTimestamp())}function Ke(e){return Tt(!!e),X.fromTimestamp(function(n){const r=xn(n);return new Lt(r.seconds,r.nanos)}(e))}function Oc(e,t){return function(r){return new At(["projects",r.projectId,"databases",r.database])}(e).child("documents").child(t).canonicalString()}function Mm(e){const t=At.fromString(e);return Tt(Um(t)),t}function yl(e,t){return Oc(e.databaseId,t.path)}function Pa(e,t){const n=Mm(t);if(n.get(1)!==e.databaseId.projectId)throw new M(E.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new M(E.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new K(Lm(n))}function vl(e,t){return Oc(e.databaseId,t)}function zI(e){const t=Mm(e);return t.length===4?At.emptyPath():Lm(t)}function El(e){return new At(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Lm(e){return Tt(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function nf(e,t,n){return{name:yl(e,t),fields:n.value.mapValue.fields}}function GI(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:W()}(t.targetChange.targetChangeType||"NO_CHANGE"),s=t.targetChange.targetIds||[],i=function(c,u){return c.useProto3Json?(Tt(u===void 0||typeof u=="string"),ae.fromBase64String(u||"")):(Tt(u===void 0||u instanceof Uint8Array),ae.fromUint8Array(u||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,a=o&&function(c){const u=c.code===void 0?E.UNKNOWN:xm(c.code);return new M(u,c.message||"")}(o);n=new km(r,s,i,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const s=Pa(e,r.document.name),i=Ke(r.document.updateTime),o=r.document.createTime?Ke(r.document.createTime):X.min(),a=new Ie({mapValue:{fields:r.document.fields}}),l=ne.newFoundDocument(s,i,o,a),c=r.targetIds||[],u=r.removedTargetIds||[];n=new Oi(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const s=Pa(e,r.document),i=r.readTime?Ke(r.readTime):X.min(),o=ne.newNoDocument(s,i),a=r.removedTargetIds||[];n=new Oi([],a,o.key,o)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const s=Pa(e,r.document),i=r.removedTargetIds||[];n=new Oi([],i,s,null)}else{if(!("filter"in t))return W();{t.filter;const r=t.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new MI(s,i),a=r.targetId;n=new Nm(a,o)}}return n}function WI(e,t){let n;if(t instanceof ai)n={update:nf(e,t.key,t.value)};else if(t instanceof xc)n={delete:yl(e,t.key)};else if(t instanceof or)n={update:nf(e,t.key,t.data),updateMask:r1(t.fieldMask)};else{if(!(t instanceof NI))return W();n={verify:yl(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof ro)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof zs)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Gs)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof so)return{fieldPath:o.field.canonicalString(),increment:a.Ie};throw W()}(0,r))),t.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:KI(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:W()}(e,t.precondition)),n}function QI(e,t){return e&&e.length>0?(Tt(t!==void 0),e.map(n=>function(s,i){let o=s.updateTime?Ke(s.updateTime):Ke(i);return o.isEqual(X.min())&&(o=Ke(i)),new VI(o,s.transformResults||[])}(n,t))):[]}function YI(e,t){return{documents:[vl(e,t.path)]}}function XI(e,t){const n={structuredQuery:{}},r=t.path;t.collectionGroup!==null?(n.parent=vl(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=vl(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const s=function(l){if(l.length!==0)return Bm(ke.create(l,"and"))}(t.filters);s&&(n.structuredQuery.where=s);const i=function(l){if(l.length!==0)return l.map(c=>function(h){return{field:mr(h.field),direction:t1(h.dir)}}(c))}(t.orderBy);i&&(n.structuredQuery.orderBy=i);const o=_l(e,t.limit);return o!==null&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(t.endAt)),n}function JI(e){let t=zI(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Tt(r===1);const u=n.from[0];u.allDescendants?s=u.collectionId:t=t.child(u.collectionId)}let i=[];n.where&&(i=function(h){const f=Fm(h);return f instanceof ke&&pm(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(f=>function(v){return new Ks(gr(v.field),function(I){switch(I){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(v.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(h){let f;return f=typeof h=="object"?h.value:h,qo(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(h){const f=!!h.before,m=h.values||[];return new eo(m,f)}(n.startAt));let c=null;return n.endAt&&(c=function(h){const f=!h.before,m=h.values||[];return new eo(m,f)}(n.endAt)),_I(t,s,o,i,a,"F",l,c)}function ZI(e,t){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return W()}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function Fm(e){return e.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=gr(n.unaryFilter.field);return xt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=gr(n.unaryFilter.field);return xt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=gr(n.unaryFilter.field);return xt.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=gr(n.unaryFilter.field);return xt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return W()}}(e):e.fieldFilter!==void 0?function(n){return xt.create(gr(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return W()}}(n.fieldFilter.op),n.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(n){return ke.create(n.compositeFilter.filters.map(r=>Fm(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return W()}}(n.compositeFilter.op))}(e):W()}function t1(e){return $I[e]}function e1(e){return jI[e]}function n1(e){return qI[e]}function mr(e){return{fieldPath:e.canonicalString()}}function gr(e){return Wt.fromServerFormat(e.fieldPath)}function Bm(e){return e instanceof xt?function(n){if(n.op==="=="){if(jh(n.value))return{unaryFilter:{field:mr(n.field),op:"IS_NAN"}};if($h(n.value))return{unaryFilter:{field:mr(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(jh(n.value))return{unaryFilter:{field:mr(n.field),op:"IS_NOT_NAN"}};if($h(n.value))return{unaryFilter:{field:mr(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:mr(n.field),op:e1(n.op),value:n.value}}}(e):e instanceof ke?function(n){const r=n.getFilters().map(s=>Bm(s));return r.length===1?r[0]:{compositeFilter:{op:n1(n.op),filters:r}}}(e):W()}function r1(e){const t=[];return e.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function Um(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(t,n,r,s,i=X.min(),o=X.min(),a=ae.EMPTY_BYTE_STRING,l=null){this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(t){return new Tn(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Tn(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Tn(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Tn(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s1{constructor(t){this.ut=t}}function i1(e){const t=JI({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?no(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o1{constructor(){this.on=new a1}addToCollectionParentIndex(t,n){return this.on.add(n),R.resolve()}getCollectionParents(t,n){return R.resolve(this.on.getEntries(n))}addFieldIndex(t,n){return R.resolve()}deleteFieldIndex(t,n){return R.resolve()}deleteAllFieldIndexes(t){return R.resolve()}createTargetIndexes(t,n){return R.resolve()}getDocumentsMatchingTarget(t,n){return R.resolve(null)}getIndexType(t,n){return R.resolve(0)}getFieldIndexes(t,n){return R.resolve([])}getNextCollectionGroupToUpdate(t){return R.resolve(null)}getMinOffset(t,n){return R.resolve(Dn.min())}getMinOffsetFromCollectionGroup(t,n){return R.resolve(Dn.min())}updateCollectionGroup(t,n,r){return R.resolve()}updateIndexEntries(t,n){return R.resolve()}}class a1{constructor(){this.index={}}add(t){const n=t.lastSegment(),r=t.popLast(),s=this.index[n]||new Xt(At.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(t){const n=t.lastSegment(),r=t.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(t){return(this.index[t]||new Xt(At.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br{constructor(t){this.xn=t}next(){return this.xn+=2,this.xn}static On(){return new Br(0)}static Nn(){return new Br(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l1{constructor(){this.changes=new Yr(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,ne.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?R.resolve(r):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c1{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u1{constructor(t,n,r,s){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(t,n){let r=null;return this.documentOverlayCache.getOverlay(t,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(t,n))).next(s=>(r!==null&&ws(r.mutation,s,be.empty(),Lt.now()),s))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.getLocalViewOfDocuments(t,r,rt()).next(()=>r))}getLocalViewOfDocuments(t,n,r=rt()){const s=Hn();return this.populateOverlays(t,s,n).next(()=>this.computeViews(t,n,s,r).next(i=>{let o=us();return i.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(t,n){const r=Hn();return this.populateOverlays(t,r,n).next(()=>this.computeViews(t,n,r,rt()))}populateOverlays(t,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(t,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(t,n,r,s){let i=an();const o=Ts(),a=function(){return Ts()}();return n.forEach((l,c)=>{const u=r.get(c.key);s.has(c.key)&&(u===void 0||u.mutation instanceof or)?i=i.insert(c.key,c):u!==void 0?(o.set(c.key,u.mutation.getFieldMask()),ws(u.mutation,c,u.mutation.getFieldMask(),Lt.now())):o.set(c.key,be.empty())}),this.recalculateAndSaveOverlays(t,i).next(l=>(l.forEach((c,u)=>o.set(c,u)),n.forEach((c,u)=>{var h;return a.set(c,new c1(u,(h=o.get(c))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(t,n){const r=Ts();let s=new St((o,a)=>o-a),i=rt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let u=r.get(l)||be.empty();u=a.applyToLocalView(c,u),r.set(l,u);const h=(s.get(a.batchId)||rt()).add(l);s=s.insert(a.batchId,h)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,u=l.value,h=Im();u.forEach(f=>{if(!i.has(f)){const m=Vm(n.get(f),r.get(f));m!==null&&h.set(f,m),i=i.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(t,c,h))}return R.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.recalculateAndSaveOverlays(t,r))}getDocumentsMatchingQuery(t,n,r,s){return function(o){return K.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):ym(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,r,s):this.getDocumentsMatchingCollectionQuery(t,n,r,s)}getNextDocuments(t,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,r.largestBatchId,s-i.size):R.resolve(Hn());let a=-1,l=i;return o.next(c=>R.forEach(c,(u,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),i.get(u)?R.resolve():this.remoteDocumentCache.getEntry(t,u).next(f=>{l=l.insert(u,f)}))).next(()=>this.populateOverlays(t,c,i)).next(()=>this.computeViews(t,l,c,rt())).next(u=>({batchId:a,changes:wm(u)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new K(n)).next(r=>{let s=us();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(t,n,r,s){const i=n.collectionGroup;let o=us();return this.indexManager.getCollectionParents(t,i).next(a=>R.forEach(a,l=>{const c=function(h,f){return new Qr(f,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,l.child(i));return this.getDocumentsMatchingCollectionQuery(t,c,r,s).next(u=>{u.forEach((h,f)=>{o=o.insert(h,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(t,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,r,i,s))).next(o=>{i.forEach((l,c)=>{const u=c.getKey();o.get(u)===null&&(o=o.insert(u,ne.newInvalidDocument(u)))});let a=us();return o.forEach((l,c)=>{const u=i.get(l);u!==void 0&&ws(u.mutation,c,be.empty(),Lt.now()),Ko(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h1{constructor(t){this.serializer=t,this.ur=new Map,this.cr=new Map}getBundleMetadata(t,n){return R.resolve(this.ur.get(n))}saveBundleMetadata(t,n){return this.ur.set(n.id,function(s){return{id:s.id,version:s.version,createTime:Ke(s.createTime)}}(n)),R.resolve()}getNamedQuery(t,n){return R.resolve(this.cr.get(n))}saveNamedQuery(t,n){return this.cr.set(n.name,function(s){return{name:s.name,query:i1(s.bundledQuery),readTime:Ke(s.readTime)}}(n)),R.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f1{constructor(){this.overlays=new St(K.comparator),this.lr=new Map}getOverlay(t,n){return R.resolve(this.overlays.get(n))}getOverlays(t,n){const r=Hn();return R.forEach(n,s=>this.getOverlay(t,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(t,n,r){return r.forEach((s,i)=>{this.lt(t,n,i)}),R.resolve()}removeOverlaysForBatchId(t,n,r){const s=this.lr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.lr.delete(r)),R.resolve()}getOverlaysForCollection(t,n,r){const s=Hn(),i=n.length+1,o=new K(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===i&&l.largestBatchId>r&&s.set(l.getKey(),l)}return R.resolve(s)}getOverlaysForCollectionGroup(t,n,r,s){let i=new St((c,u)=>c-u);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let u=i.get(c.largestBatchId);u===null&&(u=Hn(),i=i.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const a=Hn(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>a.set(c,u)),!(a.size()>=s)););return R.resolve(a)}lt(t,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.lr.get(s.largestBatchId).delete(r.key);this.lr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new OI(n,r));let i=this.lr.get(n);i===void 0&&(i=rt(),this.lr.set(n,i)),this.lr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc{constructor(){this.hr=new Xt(Ut.Pr),this.Ir=new Xt(Ut.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(t,n){const r=new Ut(t,n);this.hr=this.hr.add(r),this.Ir=this.Ir.add(r)}Er(t,n){t.forEach(r=>this.addReference(r,n))}removeReference(t,n){this.dr(new Ut(t,n))}Ar(t,n){t.forEach(r=>this.removeReference(r,n))}Rr(t){const n=new K(new At([])),r=new Ut(n,t),s=new Ut(n,t+1),i=[];return this.Ir.forEachInRange([r,s],o=>{this.dr(o),i.push(o.key)}),i}Vr(){this.hr.forEach(t=>this.dr(t))}dr(t){this.hr=this.hr.delete(t),this.Ir=this.Ir.delete(t)}mr(t){const n=new K(new At([])),r=new Ut(n,t),s=new Ut(n,t+1);let i=rt();return this.Ir.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(t){const n=new Ut(t,0),r=this.hr.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)}}class Ut{constructor(t,n){this.key=t,this.gr=n}static Pr(t,n){return K.comparator(t.key,n.key)||ct(t.gr,n.gr)}static Tr(t,n){return ct(t.gr,n.gr)||K.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d1{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.pr=1,this.yr=new Xt(Ut.Pr)}checkEmpty(t){return R.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,r,s){const i=this.pr;this.pr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new kI(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.yr=this.yr.add(new Ut(a.key,i)),this.indexManager.addToCollectionParentIndex(t,a.key.path.popLast());return R.resolve(o)}lookupMutationBatch(t,n){return R.resolve(this.wr(n))}getNextMutationBatchAfterBatchId(t,n){const r=n+1,s=this.Sr(r),i=s<0?0:s;return R.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return R.resolve(this.mutationQueue.length===0?-1:this.pr-1)}getAllMutationBatches(t){return R.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const r=new Ut(n,0),s=new Ut(n,Number.POSITIVE_INFINITY),i=[];return this.yr.forEachInRange([r,s],o=>{const a=this.wr(o.gr);i.push(a)}),R.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(t,n){let r=new Xt(ct);return n.forEach(s=>{const i=new Ut(s,0),o=new Ut(s,Number.POSITIVE_INFINITY);this.yr.forEachInRange([i,o],a=>{r=r.add(a.gr)})}),R.resolve(this.br(r))}getAllMutationBatchesAffectingQuery(t,n){const r=n.path,s=r.length+1;let i=r;K.isDocumentKey(i)||(i=i.child(""));const o=new Ut(new K(i),0);let a=new Xt(ct);return this.yr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===s&&(a=a.add(l.gr)),!0)},o),R.resolve(this.br(a))}br(t){const n=[];return t.forEach(r=>{const s=this.wr(r);s!==null&&n.push(s)}),n}removeMutationBatch(t,n){Tt(this.Dr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.yr;return R.forEach(n.mutations,s=>{const i=new Ut(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(t,s.key)}).next(()=>{this.yr=r})}Fn(t){}containsKey(t,n){const r=new Ut(n,0),s=this.yr.firstAfterOrEqual(r);return R.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(t){return this.mutationQueue.length,R.resolve()}Dr(t,n){return this.Sr(t)}Sr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}wr(t){const n=this.Sr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p1{constructor(t){this.Cr=t,this.docs=function(){return new St(K.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.Cr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const r=this.docs.get(n);return R.resolve(r?r.document.mutableCopy():ne.newInvalidDocument(n))}getEntries(t,n){let r=an();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():ne.newInvalidDocument(s))}),R.resolve(r)}getDocumentsMatchingQuery(t,n,r,s){let i=an();const o=n.path,a=new K(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||tI(Zw(u),r)<=0||(s.has(u.key)||Ko(n,u))&&(i=i.insert(u.key,u.mutableCopy()))}return R.resolve(i)}getAllFromCollectionGroup(t,n,r,s){W()}vr(t,n){return R.forEach(this.docs,r=>n(r))}newChangeBuffer(t){return new m1(this)}getSize(t){return R.resolve(this.size)}}class m1 extends l1{constructor(t){super(),this._r=t}applyChanges(t){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this._r.addEntry(t,s)):this._r.removeEntry(r)}),R.waitFor(n)}getFromCache(t,n){return this._r.getEntry(t,n)}getAllFromCache(t,n){return this._r.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g1{constructor(t){this.persistence=t,this.Fr=new Yr(n=>bc(n),Vc),this.lastRemoteSnapshotVersion=X.min(),this.highestTargetId=0,this.Mr=0,this.Or=new Mc,this.targetCount=0,this.Nr=Br.On()}forEachTarget(t,n){return this.Fr.forEach((r,s)=>n(s)),R.resolve()}getLastRemoteSnapshotVersion(t){return R.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return R.resolve(this.Mr)}allocateTargetId(t){return this.highestTargetId=this.Nr.next(),R.resolve(this.highestTargetId)}setTargetsMetadata(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Mr&&(this.Mr=n),R.resolve()}kn(t){this.Fr.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.Nr=new Br(n),this.highestTargetId=n),t.sequenceNumber>this.Mr&&(this.Mr=t.sequenceNumber)}addTargetData(t,n){return this.kn(n),this.targetCount+=1,R.resolve()}updateTargetData(t,n){return this.kn(n),R.resolve()}removeTargetData(t,n){return this.Fr.delete(n.target),this.Or.Rr(n.targetId),this.targetCount-=1,R.resolve()}removeTargets(t,n,r){let s=0;const i=[];return this.Fr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Fr.delete(o),i.push(this.removeMatchingKeysForTargetId(t,a.targetId)),s++)}),R.waitFor(i).next(()=>s)}getTargetCount(t){return R.resolve(this.targetCount)}getTargetData(t,n){const r=this.Fr.get(n)||null;return R.resolve(r)}addMatchingKeys(t,n,r){return this.Or.Er(n,r),R.resolve()}removeMatchingKeys(t,n,r){this.Or.Ar(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(t,o))}),R.waitFor(i)}removeMatchingKeysForTargetId(t,n){return this.Or.Rr(n),R.resolve()}getMatchingKeysForTargetId(t,n){const r=this.Or.mr(n);return R.resolve(r)}containsKey(t,n){return R.resolve(this.Or.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _1{constructor(t,n){this.Br={},this.overlays={},this.Lr=new Rc(0),this.kr=!1,this.kr=!0,this.referenceDelegate=t(this),this.qr=new g1(this),this.indexManager=new o1,this.remoteDocumentCache=function(s){return new p1(s)}(r=>this.referenceDelegate.Qr(r)),this.serializer=new s1(n),this.Kr=new h1(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new f1,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let r=this.Br[t.toKey()];return r||(r=new d1(n,this.referenceDelegate),this.Br[t.toKey()]=r),r}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(t,n,r){F("MemoryPersistence","Starting transaction:",t);const s=new y1(this.Lr.next());return this.referenceDelegate.$r(),r(s).next(i=>this.referenceDelegate.Ur(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Wr(t,n){return R.or(Object.values(this.Br).map(r=>()=>r.containsKey(t,n)))}}class y1 extends nI{constructor(t){super(),this.currentSequenceNumber=t}}class Lc{constructor(t){this.persistence=t,this.Gr=new Mc,this.zr=null}static jr(t){return new Lc(t)}get Hr(){if(this.zr)return this.zr;throw W()}addReference(t,n,r){return this.Gr.addReference(r,n),this.Hr.delete(r.toString()),R.resolve()}removeReference(t,n,r){return this.Gr.removeReference(r,n),this.Hr.add(r.toString()),R.resolve()}markPotentiallyOrphaned(t,n){return this.Hr.add(n.toString()),R.resolve()}removeTarget(t,n){this.Gr.Rr(n.targetId).forEach(s=>this.Hr.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,n.targetId).next(s=>{s.forEach(i=>this.Hr.add(i.toString()))}).next(()=>r.removeTargetData(t,n))}$r(){this.zr=new Set}Ur(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return R.forEach(this.Hr,r=>{const s=K.fromPath(r);return this.Jr(t,s).next(i=>{i||n.removeEntry(s,X.min())})}).next(()=>(this.zr=null,n.apply(t)))}updateLimboDocument(t,n){return this.Jr(t,n).next(r=>{r?this.Hr.delete(n.toString()):this.Hr.add(n.toString())})}Qr(t){return 0}Jr(t,n){return R.or([()=>R.resolve(this.Gr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Wr(t,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fc{constructor(t,n,r,s){this.targetId=t,this.fromCache=n,this.ki=r,this.qi=s}static Qi(t,n){let r=rt(),s=rt();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new Fc(t,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v1{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E1{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(t,n){this.Gi=t,this.indexManager=n,this.Ki=!0}getDocumentsMatchingQuery(t,n,r,s){const i={result:null};return this.zi(t,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.ji(t,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new v1;return this.Hi(t,n,o).next(a=>{if(i.result=a,this.$i)return this.Ji(t,n,o,a.size)})}).next(()=>i.result)}Ji(t,n,r,s){return r.documentReadCount<this.Ui?(is()<=ot.DEBUG&&F("QueryEngine","SDK will not create cache indexes for query:",pr(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),R.resolve()):(is()<=ot.DEBUG&&F("QueryEngine","Query:",pr(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.Wi*s?(is()<=ot.DEBUG&&F("QueryEngine","The SDK decides to create cache indexes for query:",pr(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,He(n))):R.resolve())}zi(t,n){if(zh(n))return R.resolve(null);let r=He(n);return this.indexManager.getIndexType(t,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=no(n,null,"F"),r=He(n)),this.indexManager.getDocumentsMatchingTarget(t,r).next(i=>{const o=rt(...i);return this.Gi.getDocuments(t,o).next(a=>this.indexManager.getMinOffset(t,r).next(l=>{const c=this.Yi(n,a);return this.Zi(n,c,o,l.readTime)?this.zi(t,no(n,null,"F")):this.Xi(t,c,n,l)}))})))}ji(t,n,r,s){return zh(n)||s.isEqual(X.min())?R.resolve(null):this.Gi.getDocuments(t,r).next(i=>{const o=this.Yi(n,i);return this.Zi(n,o,r,s)?R.resolve(null):(is()<=ot.DEBUG&&F("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),pr(n)),this.Xi(t,o,n,Jw(s,-1)).next(a=>a))})}Yi(t,n){let r=new Xt(Em(t));return n.forEach((s,i)=>{Ko(t,i)&&(r=r.add(i))}),r}Zi(t,n,r,s){if(t.limit===null)return!1;if(r.size!==n.size)return!0;const i=t.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Hi(t,n,r){return is()<=ot.DEBUG&&F("QueryEngine","Using full collection scan to execute query:",pr(n)),this.Gi.getDocumentsMatchingQuery(t,n,Dn.min(),r)}Xi(t,n,r,s){return this.Gi.getDocumentsMatchingQuery(t,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T1{constructor(t,n,r,s){this.persistence=t,this.es=n,this.serializer=s,this.ts=new St(ct),this.ns=new Yr(i=>bc(i),Vc),this.rs=new Map,this.ss=t.getRemoteDocumentCache(),this.qr=t.getTargetCache(),this.Kr=t.getBundleCache(),this.os(r)}os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new u1(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.ts))}}function w1(e,t,n,r){return new T1(e,t,n,r)}async function $m(e,t){const n=tt(e);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.os(t),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let l=rt();for(const c of s){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of i){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return n.localDocuments.getDocuments(r,l).next(c=>({_s:c,removedBatchIds:o,addedBatchIds:a}))})})}function I1(e,t){const n=tt(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=t.batch.keys(),i=n.ss.newChangeBuffer({trackRemovals:!0});return function(a,l,c,u){const h=c.batch,f=h.keys();let m=R.resolve();return f.forEach(v=>{m=m.next(()=>u.getEntry(l,v)).next(w=>{const I=c.docVersions.get(v);Tt(I!==null),w.version.compareTo(I)<0&&(h.applyToRemoteDocument(w,c),w.isValidDocument()&&(w.setReadTime(c.commitVersion),u.addEntry(w)))})}),m.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(n,r,t,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=rt();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(t))).next(()=>n.localDocuments.getDocuments(r,s))})}function jm(e){const t=tt(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.qr.getLastRemoteSnapshotVersion(n))}function A1(e,t){const n=tt(e),r=t.snapshotVersion;let s=n.ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.ss.newChangeBuffer({trackRemovals:!0});s=n.ts;const a=[];t.targetChanges.forEach((u,h)=>{const f=s.get(h);if(!f)return;a.push(n.qr.removeMatchingKeys(i,u.removedDocuments,h).next(()=>n.qr.addMatchingKeys(i,u.addedDocuments,h)));let m=f.withSequenceNumber(i.currentSequenceNumber);t.targetMismatches.get(h)!==null?m=m.withResumeToken(ae.EMPTY_BYTE_STRING,X.min()).withLastLimboFreeSnapshotVersion(X.min()):u.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(u.resumeToken,r)),s=s.insert(h,m),function(w,I,S){return w.resumeToken.approximateByteSize()===0||I.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=3e8?!0:S.addedDocuments.size+S.modifiedDocuments.size+S.removedDocuments.size>0}(f,m,u)&&a.push(n.qr.updateTargetData(i,m))});let l=an(),c=rt();if(t.documentUpdates.forEach(u=>{t.resolvedLimboDocuments.has(u)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,u))}),a.push(R1(i,o,t.documentUpdates).next(u=>{l=u.us,c=u.cs})),!r.isEqual(X.min())){const u=n.qr.getLastRemoteSnapshotVersion(i).next(h=>n.qr.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(u)}return R.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,l,c)).next(()=>l)}).then(i=>(n.ts=s,i))}function R1(e,t,n){let r=rt(),s=rt();return n.forEach(i=>r=r.add(i)),t.getEntries(e,r).next(i=>{let o=an();return n.forEach((a,l)=>{const c=i.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(s=s.add(a)),l.isNoDocument()&&l.version.isEqual(X.min())?(t.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(t.addEntry(l),o=o.insert(a,l)):F("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{us:o,cs:s}})}function C1(e,t){const n=tt(e);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(t===void 0&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,t)))}function S1(e,t){const n=tt(e);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.qr.getTargetData(r,t).next(i=>i?(s=i,R.resolve(s)):n.qr.allocateTargetId(r).next(o=>(s=new Tn(t,o,"TargetPurposeListen",r.currentSequenceNumber),n.qr.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.ts.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.ts=n.ts.insert(r.targetId,r),n.ns.set(t,r.targetId)),r})}async function Tl(e,t,n){const r=tt(e),s=r.ts.get(t),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!oi(o))throw o;F("LocalStore",`Failed to update sequence numbers for target ${t}: ${o}`)}r.ts=r.ts.remove(t),r.ns.delete(s.target)}function rf(e,t,n){const r=tt(e);let s=X.min(),i=rt();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,u){const h=tt(l),f=h.ns.get(u);return f!==void 0?R.resolve(h.ts.get(f)):h.qr.getTargetData(c,u)}(r,o,He(t)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.qr.getMatchingKeysForTargetId(o,a.targetId).next(l=>{i=l})}).next(()=>r.es.getDocumentsMatchingQuery(o,t,n?s:X.min(),n?i:rt())).next(a=>(P1(r,vI(t),a),{documents:a,ls:i})))}function P1(e,t,n){let r=e.rs.get(t)||X.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),e.rs.set(t,r)}class sf{constructor(){this.activeTargetIds=RI()}ds(t){this.activeTargetIds=this.activeTargetIds.add(t)}As(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Es(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class b1{constructor(){this.eo=new sf,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,r){}addLocalQueryTarget(t){return this.eo.ds(t),this.no[t]||"not-current"}updateQueryState(t,n,r){this.no[t]=n}removeLocalQueryTarget(t){this.eo.As(t)}isLocalQueryTarget(t){return this.eo.activeTargetIds.has(t)}clearQueryState(t){delete this.no[t]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(t){return this.eo.activeTargetIds.has(t)}start(){return this.eo=new sf,Promise.resolve()}handleUserChange(t,n,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V1{ro(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class of{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(t){this.ao.push(t)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){F("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.ao)t(0)}_o(){F("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.ao)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Si=null;function ba(){return Si===null?Si=function(){return 268435456+Math.round(2147483648*Math.random())}():Si++,"0x"+Si.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D1={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x1{constructor(t){this.co=t.co,this.lo=t.lo}ho(t){this.Po=t}Io(t){this.To=t}onMessage(t){this.Eo=t}close(){this.lo()}send(t){this.co(t)}Ao(){this.Po()}Ro(t){this.To(t)}Vo(t){this.Eo(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zt="WebChannelConnection";class N1 extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.mo=r+"://"+n.host,this.fo=`projects/${s}/databases/${i}`,this.po=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${i}`}get yo(){return!1}wo(n,r,s,i,o){const a=ba(),l=this.So(n,r);F("RestConnection",`Sending RPC '${n}' ${a}:`,l,s);const c={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(c,i,o),this.Do(n,l,c,s).then(u=>(F("RestConnection",`Received RPC '${n}' ${a}: `,u),u),u=>{throw Or("RestConnection",`RPC '${n}' ${a} failed with error: `,u,"url: ",l,"request:",s),u})}Co(n,r,s,i,o,a){return this.wo(n,r,s,i,o)}bo(n,r,s){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Gr}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((i,o)=>n[o]=i),s&&s.headers.forEach((i,o)=>n[o]=i)}So(n,r){const s=D1[n];return`${this.mo}/v1/${r}:${s}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Do(t,n,r,s){const i=ba();return new Promise((o,a)=>{const l=new $w;l.setWithCredentials(!0),l.listenOnce(Bw.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Sa.NO_ERROR:const u=l.getResponseJson();F(Zt,`XHR for RPC '${t}' ${i} received:`,JSON.stringify(u)),o(u);break;case Sa.TIMEOUT:F(Zt,`RPC '${t}' ${i} timed out`),a(new M(E.DEADLINE_EXCEEDED,"Request time out"));break;case Sa.HTTP_ERROR:const h=l.getStatus();if(F(Zt,`RPC '${t}' ${i} failed with status:`,h,"response text:",l.getResponseText()),h>0){let f=l.getResponseJson();Array.isArray(f)&&(f=f[0]);const m=f==null?void 0:f.error;if(m&&m.status&&m.message){const v=function(I){const S=I.toLowerCase().replace(/_/g,"-");return Object.values(E).indexOf(S)>=0?S:E.UNKNOWN}(m.status);a(new M(v,m.message))}else a(new M(E.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new M(E.UNAVAILABLE,"Connection failed."));break;default:W()}}finally{F(Zt,`RPC '${t}' ${i} completed.`)}});const c=JSON.stringify(s);F(Zt,`RPC '${t}' ${i} sending request:`,s),l.send(n,"POST",c,r,15)})}vo(t,n,r){const s=ba(),i=[this.mo,"/","google.firestore.v1.Firestore","/",t,"/channel"],o=Lw(),a=Fw(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.bo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const u=i.join("");F(Zt,`Creating RPC '${t}' stream ${s}: ${u}`,l);const h=o.createWebChannel(u,l);let f=!1,m=!1;const v=new x1({co:I=>{m?F(Zt,`Not sending because RPC '${t}' stream ${s} is closed:`,I):(f||(F(Zt,`Opening RPC '${t}' stream ${s} transport.`),h.open(),f=!0),F(Zt,`RPC '${t}' stream ${s} sending:`,I),h.send(I))},lo:()=>h.close()}),w=(I,S,N)=>{I.listen(S,L=>{try{N(L)}catch(G){setTimeout(()=>{throw G},0)}})};return w(h,Ai.EventType.OPEN,()=>{m||F(Zt,`RPC '${t}' stream ${s} transport opened.`)}),w(h,Ai.EventType.CLOSE,()=>{m||(m=!0,F(Zt,`RPC '${t}' stream ${s} transport closed`),v.Ro())}),w(h,Ai.EventType.ERROR,I=>{m||(m=!0,Or(Zt,`RPC '${t}' stream ${s} transport errored:`,I),v.Ro(new M(E.UNAVAILABLE,"The operation could not be completed")))}),w(h,Ai.EventType.MESSAGE,I=>{var S;if(!m){const N=I.data[0];Tt(!!N);const L=N,G=L.error||((S=L[0])===null||S===void 0?void 0:S.error);if(G){F(Zt,`RPC '${t}' stream ${s} received error:`,G);const U=G.status;let ut=function(vt){const lt=Vt[vt];if(lt!==void 0)return xm(lt)}(U),Rt=G.message;ut===void 0&&(ut=E.INTERNAL,Rt="Unknown error status: "+U+" with message "+G.message),m=!0,v.Ro(new M(ut,Rt)),h.close()}else F(Zt,`RPC '${t}' stream ${s} received:`,N),v.Vo(N)}}),w(a,Uw.STAT_EVENT,I=>{I.stat===Oh.PROXY?F(Zt,`RPC '${t}' stream ${s} detected buffering proxy`):I.stat===Oh.NOPROXY&&F(Zt,`RPC '${t}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{v.Ao()},0),v}}function Va(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qo(e){return new HI(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qm{constructor(t,n,r=1e3,s=1.5,i=6e4){this.si=t,this.timerId=n,this.Fo=r,this.Mo=s,this.xo=i,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(t){this.cancel();const n=Math.floor(this.Oo+this.qo()),r=Math.max(0,Date.now()-this.Bo),s=Math.max(0,n-r);s>0&&F("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Oo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,s,()=>(this.Bo=Date.now(),t())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){this.No!==null&&(this.No.skipDelay(),this.No=null)}cancel(){this.No!==null&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hm{constructor(t,n,r,s,i,o,a,l){this.si=t,this.Ko=r,this.$o=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new qm(t,n)}jo(){return this.state===1||this.state===5||this.Ho()}Ho(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Jo()}async stop(){this.jo()&&await this.close(0)}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&this.Wo===null&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(t){this.t_(),this.stream.send(t)}async Xo(){if(this.Ho())return this.close(0)}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}async close(t,n){this.t_(),this.n_(),this.zo.cancel(),this.Uo++,t!==4?this.zo.reset():n&&n.code===E.RESOURCE_EXHAUSTED?(on(n.toString()),on("Using maximum backoff delay to prevent overloading the backend."),this.zo.Lo()):n&&n.code===E.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.r_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Io(n)}r_(){}auth(){this.state=1;const t=this.i_(this.Uo),n=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Uo===n&&this.s_(r,s)},r=>{t(()=>{const s=new M(E.UNKNOWN,"Fetching auth token failed: "+r.message);return this.o_(s)})})}s_(t,n){const r=this.i_(this.Uo);this.stream=this.__(t,n),this.stream.ho(()=>{r(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(s=>{r(()=>this.o_(s))}),this.stream.onMessage(s=>{r(()=>this.onMessage(s))})}Jo(){this.state=5,this.zo.ko(async()=>{this.state=0,this.start()})}o_(t){return F("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}i_(t){return n=>{this.si.enqueueAndForget(()=>this.Uo===t?n():(F("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class k1 extends Hm{constructor(t,n,r,s,i,o){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}__(t,n){return this.connection.vo("Listen",t,n)}onMessage(t){this.zo.reset();const n=GI(this.serializer,t),r=function(i){if(!("targetChange"in i))return X.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?X.min():o.readTime?Ke(o.readTime):X.min()}(t);return this.listener.a_(n,r)}u_(t){const n={};n.database=El(this.serializer),n.addTarget=function(i,o){let a;const l=o.target;if(a=ml(l)?{documents:YI(i,l)}:{query:XI(i,l)},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=Om(i,o.resumeToken);const c=_l(i,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(X.min())>0){a.readTime=io(i,o.snapshotVersion.toTimestamp());const c=_l(i,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,t);const r=ZI(this.serializer,t);r&&(n.labels=r),this.e_(n)}c_(t){const n={};n.database=El(this.serializer),n.removeTarget=t,this.e_(n)}}class O1 extends Hm{constructor(t,n,r,s,i,o){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(t,n){return this.connection.vo("Write",t,n)}onMessage(t){if(Tt(!!t.streamToken),this.lastStreamToken=t.streamToken,this.l_){this.zo.reset();const n=QI(t.writeResults,t.commitTime),r=Ke(t.commitTime);return this.listener.I_(r,n)}return Tt(!t.writeResults||t.writeResults.length===0),this.l_=!0,this.listener.T_()}E_(){const t={};t.database=El(this.serializer),this.e_(t)}P_(t){const n={streamToken:this.lastStreamToken,writes:t.map(r=>WI(this.serializer,r))};this.e_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M1 extends class{}{constructor(t,n,r,s){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.d_=!1}A_(){if(this.d_)throw new M(E.FAILED_PRECONDITION,"The client has already been terminated.")}wo(t,n,r){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,i])=>this.connection.wo(t,n,r,s,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===E.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new M(E.UNKNOWN,s.toString())})}Co(t,n,r,s){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Co(t,n,r,i,o,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===E.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new M(E.UNKNOWN,i.toString())})}terminate(){this.d_=!0}}class L1{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){this.V_===0&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(t){this.state==="Online"?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.p_("Offline")))}set(t){this.S_(),this.V_=0,t==="Online"&&(this.f_=!1),this.p_(t)}p_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}y_(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(on(n),this.f_=!1):F("OnlineStateTracker",n)}S_(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F1{constructor(t,n,r,s,i){this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=i,this.F_.ro(o=>{r.enqueueAndForget(async()=>{ar(this)&&(F("RemoteStore","Restarting streams for network reachability change."),await async function(l){const c=tt(l);c.C_.add(4),await ci(c),c.M_.set("Unknown"),c.C_.delete(4),await Yo(c)}(this))})}),this.M_=new L1(r,s)}}async function Yo(e){if(ar(e))for(const t of e.v_)await t(!0)}async function ci(e){for(const t of e.v_)await t(!1)}function Km(e,t){const n=tt(e);n.D_.has(t.targetId)||(n.D_.set(t.targetId,t),$c(n)?Uc(n):Xr(n).Ho()&&Bc(n,t))}function zm(e,t){const n=tt(e),r=Xr(n);n.D_.delete(t),r.Ho()&&Gm(n,t),n.D_.size===0&&(r.Ho()?r.Zo():ar(n)&&n.M_.set("Unknown"))}function Bc(e,t){if(e.x_.Oe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(X.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Xr(e).u_(t)}function Gm(e,t){e.x_.Oe(t),Xr(e).c_(t)}function Uc(e){e.x_=new UI({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),_t:t=>e.D_.get(t)||null,nt:()=>e.datastore.serializer.databaseId}),Xr(e).start(),e.M_.g_()}function $c(e){return ar(e)&&!Xr(e).jo()&&e.D_.size>0}function ar(e){return tt(e).C_.size===0}function Wm(e){e.x_=void 0}async function B1(e){e.D_.forEach((t,n)=>{Bc(e,t)})}async function U1(e,t){Wm(e),$c(e)?(e.M_.w_(t),Uc(e)):e.M_.set("Unknown")}async function $1(e,t,n){if(e.M_.set("Online"),t instanceof km&&t.state===2&&t.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.D_.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.D_.delete(a),s.x_.removeTarget(a))}(e,t)}catch(r){F("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),await oo(e,r)}else if(t instanceof Oi?e.x_.$e(t):t instanceof Nm?e.x_.Je(t):e.x_.Ge(t),!n.isEqual(X.min()))try{const r=await jm(e.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.x_.it(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const u=i.D_.get(c);u&&i.D_.set(c,u.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const u=i.D_.get(l);if(!u)return;i.D_.set(l,u.withResumeToken(ae.EMPTY_BYTE_STRING,u.snapshotVersion)),Gm(i,l);const h=new Tn(u.target,l,c,u.sequenceNumber);Bc(i,h)}),i.remoteSyncer.applyRemoteEvent(a)}(e,n)}catch(r){F("RemoteStore","Failed to raise snapshot:",r),await oo(e,r)}}async function oo(e,t,n){if(!oi(t))throw t;e.C_.add(1),await ci(e),e.M_.set("Offline"),n||(n=()=>jm(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{F("RemoteStore","Retrying IndexedDB access"),await n(),e.C_.delete(1),await Yo(e)})}function Qm(e,t){return t().catch(n=>oo(e,n,t))}async function Xo(e){const t=tt(e),n=Nn(t);let r=t.b_.length>0?t.b_[t.b_.length-1].batchId:-1;for(;j1(t);)try{const s=await C1(t.localStore,r);if(s===null){t.b_.length===0&&n.Zo();break}r=s.batchId,q1(t,s)}catch(s){await oo(t,s)}Ym(t)&&Xm(t)}function j1(e){return ar(e)&&e.b_.length<10}function q1(e,t){e.b_.push(t);const n=Nn(e);n.Ho()&&n.h_&&n.P_(t.mutations)}function Ym(e){return ar(e)&&!Nn(e).jo()&&e.b_.length>0}function Xm(e){Nn(e).start()}async function H1(e){Nn(e).E_()}async function K1(e){const t=Nn(e);for(const n of e.b_)t.P_(n.mutations)}async function z1(e,t,n){const r=e.b_.shift(),s=Nc.from(r,t,n);await Qm(e,()=>e.remoteSyncer.applySuccessfulWrite(s)),await Xo(e)}async function G1(e,t){t&&Nn(e).h_&&await async function(r,s){if(function(o){return LI(o)&&o!==E.ABORTED}(s.code)){const i=r.b_.shift();Nn(r).Yo(),await Qm(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await Xo(r)}}(e,t),Ym(e)&&Xm(e)}async function af(e,t){const n=tt(e);n.asyncQueue.verifyOperationInProgress(),F("RemoteStore","RemoteStore received new credentials");const r=ar(n);n.C_.add(3),await ci(n),r&&n.M_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.C_.delete(3),await Yo(n)}async function W1(e,t){const n=tt(e);t?(n.C_.delete(2),await Yo(n)):t||(n.C_.add(2),await ci(n),n.M_.set("Unknown"))}function Xr(e){return e.O_||(e.O_=function(n,r,s){const i=tt(n);return i.A_(),new k1(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(e.datastore,e.asyncQueue,{ho:B1.bind(null,e),Io:U1.bind(null,e),a_:$1.bind(null,e)}),e.v_.push(async t=>{t?(e.O_.Yo(),$c(e)?Uc(e):e.M_.set("Unknown")):(await e.O_.stop(),Wm(e))})),e.O_}function Nn(e){return e.N_||(e.N_=function(n,r,s){const i=tt(n);return i.A_(),new O1(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(e.datastore,e.asyncQueue,{ho:H1.bind(null,e),Io:G1.bind(null,e),T_:K1.bind(null,e),I_:z1.bind(null,e)}),e.v_.push(async t=>{t?(e.N_.Yo(),await Xo(e)):(await e.N_.stop(),e.b_.length>0&&(F("RemoteStore",`Stopping write stream with ${e.b_.length} pending writes`),e.b_=[]))})),e.N_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jc{constructor(t,n,r,s,i){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new Cn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,r,s,i){const o=Date.now()+r,a=new jc(t,n,o,s,i);return a.start(r),a}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new M(E.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function qc(e,t){if(on("AsyncQueue",`${t}: ${e}`),oi(e))return new M(E.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr{constructor(t){this.comparator=t?(n,r)=>t(n,r)||K.comparator(n.key,r.key):(n,r)=>K.comparator(n.key,r.key),this.keyedMap=us(),this.sortedSet=new St(this.comparator)}static emptySet(t){return new Sr(t.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,r)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof Sr)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const r=new Sr;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lf{constructor(){this.B_=new St(K.comparator)}track(t){const n=t.doc.key,r=this.B_.get(n);r?t.type!==0&&r.type===3?this.B_=this.B_.insert(n,t):t.type===3&&r.type!==1?this.B_=this.B_.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.B_=this.B_.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.B_=this.B_.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.B_=this.B_.remove(n):t.type===1&&r.type===2?this.B_=this.B_.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.B_=this.B_.insert(n,{type:2,doc:t.doc}):W():this.B_=this.B_.insert(n,t)}L_(){const t=[];return this.B_.inorderTraversal((n,r)=>{t.push(r)}),t}}class Ur{constructor(t,n,r,s,i,o,a,l,c){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(t,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Ur(t,n,Sr.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Ho(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q1{constructor(){this.k_=void 0,this.listeners=[]}}class Y1{constructor(){this.queries=new Yr(t=>vm(t),Ho),this.onlineState="Unknown",this.q_=new Set}}async function Jm(e,t){const n=tt(e),r=t.query;let s=!1,i=n.queries.get(r);if(i||(s=!0,i=new Q1),s)try{i.k_=await n.onListen(r)}catch(o){const a=qc(o,`Initialization of query '${pr(t.query)}' failed`);return void t.onError(a)}n.queries.set(r,i),i.listeners.push(t),t.Q_(n.onlineState),i.k_&&t.K_(i.k_)&&Hc(n)}async function Zm(e,t){const n=tt(e),r=t.query;let s=!1;const i=n.queries.get(r);if(i){const o=i.listeners.indexOf(t);o>=0&&(i.listeners.splice(o,1),s=i.listeners.length===0)}if(s)return n.queries.delete(r),n.onUnlisten(r)}function X1(e,t){const n=tt(e);let r=!1;for(const s of t){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.listeners)a.K_(s)&&(r=!0);o.k_=s}}r&&Hc(n)}function J1(e,t,n){const r=tt(e),s=r.queries.get(t);if(s)for(const i of s.listeners)i.onError(n);r.queries.delete(t)}function Hc(e){e.q_.forEach(t=>{t.next()})}class tg{constructor(t,n,r){this.query=t,this.U_=n,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=r||{}}K_(t){if(!this.options.includeMetadataChanges){const r=[];for(const s of t.docChanges)s.type!==3&&r.push(s);t=new Ur(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.W_?this.z_(t)&&(this.U_.next(t),n=!0):this.j_(t,this.onlineState)&&(this.H_(t),n=!0),this.G_=t,n}onError(t){this.U_.error(t)}Q_(t){this.onlineState=t;let n=!1;return this.G_&&!this.W_&&this.j_(this.G_,t)&&(this.H_(this.G_),n=!0),n}j_(t,n){if(!t.fromCache)return!0;const r=n!=="Offline";return(!this.options.J_||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}z_(t){if(t.docChanges.length>0)return!0;const n=this.G_&&this.G_.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}H_(t){t=Ur.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.W_=!0,this.U_.next(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eg{constructor(t){this.key=t}}class ng{constructor(t){this.key=t}}class Z1{constructor(t,n){this.query=t,this.ia=n,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=rt(),this.mutatedKeys=rt(),this._a=Em(t),this.aa=new Sr(this._a)}get ua(){return this.ia}ca(t,n){const r=n?n.la:new lf,s=n?n.aa:this.aa;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,c=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(t.inorderTraversal((u,h)=>{const f=s.get(u),m=Ko(this.query,h)?h:null,v=!!f&&this.mutatedKeys.has(f.key),w=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let I=!1;f&&m?f.data.isEqual(m.data)?v!==w&&(r.track({type:3,doc:m}),I=!0):this.ha(f,m)||(r.track({type:2,doc:m}),I=!0,(l&&this._a(m,l)>0||c&&this._a(m,c)<0)&&(a=!0)):!f&&m?(r.track({type:0,doc:m}),I=!0):f&&!m&&(r.track({type:1,doc:f}),I=!0,(l||c)&&(a=!0)),I&&(m?(o=o.add(m),i=w?i.add(u):i.delete(u)):(o=o.delete(u),i=i.delete(u)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const u=this.query.limitType==="F"?o.last():o.first();o=o.delete(u.key),i=i.delete(u.key),r.track({type:1,doc:u})}return{aa:o,la:r,Zi:a,mutatedKeys:i}}ha(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,r,s){const i=this.aa;this.aa=t.aa,this.mutatedKeys=t.mutatedKeys;const o=t.la.L_();o.sort((u,h)=>function(m,v){const w=I=>{switch(I){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return W()}};return w(m)-w(v)}(u.type,h.type)||this._a(u.doc,h.doc)),this.Pa(r),s=s!=null&&s;const a=n&&!s?this.Ia():[],l=this.oa.size===0&&this.current&&!s?1:0,c=l!==this.sa;return this.sa=l,o.length!==0||c?{snapshot:new Ur(this.query,t.aa,i,o,t.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ta:a}:{Ta:a}}Q_(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({aa:this.aa,la:new lf,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(t){return!this.ia.has(t)&&!!this.aa.has(t)&&!this.aa.get(t).hasLocalMutations}Pa(t){t&&(t.addedDocuments.forEach(n=>this.ia=this.ia.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.ia=this.ia.delete(n)),this.current=t.current)}Ia(){if(!this.current)return[];const t=this.oa;this.oa=rt(),this.aa.forEach(r=>{this.Ea(r.key)&&(this.oa=this.oa.add(r.key))});const n=[];return t.forEach(r=>{this.oa.has(r)||n.push(new ng(r))}),this.oa.forEach(r=>{t.has(r)||n.push(new eg(r))}),n}da(t){this.ia=t.ls,this.oa=rt();const n=this.ca(t.documents);return this.applyChanges(n,!0)}Aa(){return Ur.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,this.sa===0,this.hasCachedResults)}}class tA{constructor(t,n,r){this.query=t,this.targetId=n,this.view=r}}class eA{constructor(t){this.key=t,this.Ra=!1}}class nA{constructor(t,n,r,s,i,o){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Va={},this.ma=new Yr(a=>vm(a),Ho),this.fa=new Map,this.ga=new Set,this.pa=new St(K.comparator),this.ya=new Map,this.wa=new Mc,this.Sa={},this.ba=new Map,this.Da=Br.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return this.Ca===!0}}async function rA(e,t){const n=dA(e);let r,s;const i=n.ma.get(t);if(i)r=i.targetId,n.sharedClientState.addLocalQueryTarget(r),s=i.view.Aa();else{const o=await S1(n.localStore,He(t)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,s=await sA(n,t,r,a==="current",o.resumeToken),n.isPrimaryClient&&Km(n.remoteStore,o)}return s}async function sA(e,t,n,r,s){e.va=(h,f,m)=>async function(w,I,S,N){let L=I.view.ca(S);L.Zi&&(L=await rf(w.localStore,I.query,!1).then(({documents:Rt})=>I.view.ca(Rt,L)));const G=N&&N.targetChanges.get(I.targetId),U=N&&N.targetMismatches.get(I.targetId)!=null,ut=I.view.applyChanges(L,w.isPrimaryClient,G,U);return uf(w,I.targetId,ut.Ta),ut.snapshot}(e,h,f,m);const i=await rf(e.localStore,t,!0),o=new Z1(t,i.ls),a=o.ca(i.documents),l=li.createSynthesizedTargetChangeForCurrentChange(n,r&&e.onlineState!=="Offline",s),c=o.applyChanges(a,e.isPrimaryClient,l);uf(e,n,c.Ta);const u=new tA(t,n,o);return e.ma.set(t,u),e.fa.has(n)?e.fa.get(n).push(t):e.fa.set(n,[t]),c.snapshot}async function iA(e,t){const n=tt(e),r=n.ma.get(t),s=n.fa.get(r.targetId);if(s.length>1)return n.fa.set(r.targetId,s.filter(i=>!Ho(i,t))),void n.ma.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await Tl(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),zm(n.remoteStore,r.targetId),wl(n,r.targetId)}).catch(ii)):(wl(n,r.targetId),await Tl(n.localStore,r.targetId,!0))}async function oA(e,t,n){const r=pA(e);try{const s=await function(o,a){const l=tt(o),c=Lt.now(),u=a.reduce((m,v)=>m.add(v.key),rt());let h,f;return l.persistence.runTransaction("Locally write mutations","readwrite",m=>{let v=an(),w=rt();return l.ss.getEntries(m,u).next(I=>{v=I,v.forEach((S,N)=>{N.isValidDocument()||(w=w.add(S))})}).next(()=>l.localDocuments.getOverlayedDocuments(m,v)).next(I=>{h=I;const S=[];for(const N of a){const L=xI(N,h.get(N.key).overlayedDocument);L!=null&&S.push(new or(N.key,L,hm(L.value.mapValue),De.exists(!0)))}return l.mutationQueue.addMutationBatch(m,c,S,a)}).next(I=>{f=I;const S=I.applyToLocalDocumentSet(h,w);return l.documentOverlayCache.saveOverlays(m,I.batchId,S)})}).then(()=>({batchId:f.batchId,changes:wm(h)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,l){let c=o.Sa[o.currentUser.toKey()];c||(c=new St(ct)),c=c.insert(a,l),o.Sa[o.currentUser.toKey()]=c}(r,s.batchId,n),await ui(r,s.changes),await Xo(r.remoteStore)}catch(s){const i=qc(s,"Failed to persist write");n.reject(i)}}async function rg(e,t){const n=tt(e);try{const r=await A1(n.localStore,t);t.targetChanges.forEach((s,i)=>{const o=n.ya.get(i);o&&(Tt(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?o.Ra=!0:s.modifiedDocuments.size>0?Tt(o.Ra):s.removedDocuments.size>0&&(Tt(o.Ra),o.Ra=!1))}),await ui(n,r,t)}catch(r){await ii(r)}}function cf(e,t,n){const r=tt(e);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.ma.forEach((i,o)=>{const a=o.view.Q_(t);a.snapshot&&s.push(a.snapshot)}),function(o,a){const l=tt(o);l.onlineState=a;let c=!1;l.queries.forEach((u,h)=>{for(const f of h.listeners)f.Q_(a)&&(c=!0)}),c&&Hc(l)}(r.eventManager,t),s.length&&r.Va.a_(s),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function aA(e,t,n){const r=tt(e);r.sharedClientState.updateQueryState(t,"rejected",n);const s=r.ya.get(t),i=s&&s.key;if(i){let o=new St(K.comparator);o=o.insert(i,ne.newNoDocument(i,X.min()));const a=rt().add(i),l=new Wo(X.min(),new Map,new St(ct),o,a);await rg(r,l),r.pa=r.pa.remove(i),r.ya.delete(t),Kc(r)}else await Tl(r.localStore,t,!1).then(()=>wl(r,t,n)).catch(ii)}async function lA(e,t){const n=tt(e),r=t.batch.batchId;try{const s=await I1(n.localStore,t);ig(n,r,null),sg(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await ui(n,s)}catch(s){await ii(s)}}async function cA(e,t,n){const r=tt(e);try{const s=await function(o,a){const l=tt(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return l.mutationQueue.lookupMutationBatch(c,a).next(h=>(Tt(h!==null),u=h.keys(),l.mutationQueue.removeMutationBatch(c,h))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>l.localDocuments.getDocuments(c,u))})}(r.localStore,t);ig(r,t,n),sg(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await ui(r,s)}catch(s){await ii(s)}}function sg(e,t){(e.ba.get(t)||[]).forEach(n=>{n.resolve()}),e.ba.delete(t)}function ig(e,t,n){const r=tt(e);let s=r.Sa[r.currentUser.toKey()];if(s){const i=s.get(t);i&&(n?i.reject(n):i.resolve(),s=s.remove(t)),r.Sa[r.currentUser.toKey()]=s}}function wl(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.fa.get(t))e.ma.delete(r),n&&e.Va.Fa(r,n);e.fa.delete(t),e.isPrimaryClient&&e.wa.Rr(t).forEach(r=>{e.wa.containsKey(r)||og(e,r)})}function og(e,t){e.ga.delete(t.path.canonicalString());const n=e.pa.get(t);n!==null&&(zm(e.remoteStore,n),e.pa=e.pa.remove(t),e.ya.delete(n),Kc(e))}function uf(e,t,n){for(const r of n)r instanceof eg?(e.wa.addReference(r.key,t),uA(e,r)):r instanceof ng?(F("SyncEngine","Document no longer in limbo: "+r.key),e.wa.removeReference(r.key,t),e.wa.containsKey(r.key)||og(e,r.key)):W()}function uA(e,t){const n=t.key,r=n.path.canonicalString();e.pa.get(n)||e.ga.has(r)||(F("SyncEngine","New document in limbo: "+n),e.ga.add(r),Kc(e))}function Kc(e){for(;e.ga.size>0&&e.pa.size<e.maxConcurrentLimboResolutions;){const t=e.ga.values().next().value;e.ga.delete(t);const n=new K(At.fromString(t)),r=e.Da.next();e.ya.set(r,new eA(n)),e.pa=e.pa.insert(n,r),Km(e.remoteStore,new Tn(He(Dc(n.path)),r,"TargetPurposeLimboResolution",Rc._e))}}async function ui(e,t,n){const r=tt(e),s=[],i=[],o=[];r.ma.isEmpty()||(r.ma.forEach((a,l)=>{o.push(r.va(l,t,n).then(c=>{if((c||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,c!=null&&c.fromCache?"not-current":"current"),c){s.push(c);const u=Fc.Qi(l.targetId,c);i.push(u)}}))}),await Promise.all(o),r.Va.a_(s),await async function(l,c){const u=tt(l);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>R.forEach(c,f=>R.forEach(f.ki,m=>u.persistence.referenceDelegate.addReference(h,f.targetId,m)).next(()=>R.forEach(f.qi,m=>u.persistence.referenceDelegate.removeReference(h,f.targetId,m)))))}catch(h){if(!oi(h))throw h;F("LocalStore","Failed to update sequence numbers: "+h)}for(const h of c){const f=h.targetId;if(!h.fromCache){const m=u.ts.get(f),v=m.snapshotVersion,w=m.withLastLimboFreeSnapshotVersion(v);u.ts=u.ts.insert(f,w)}}}(r.localStore,i))}async function hA(e,t){const n=tt(e);if(!n.currentUser.isEqual(t)){F("SyncEngine","User change. New user:",t.toKey());const r=await $m(n.localStore,t);n.currentUser=t,function(i,o){i.ba.forEach(a=>{a.forEach(l=>{l.reject(new M(E.CANCELLED,o))})}),i.ba.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await ui(n,r._s)}}function fA(e,t){const n=tt(e),r=n.ya.get(t);if(r&&r.Ra)return rt().add(r.key);{let s=rt();const i=n.fa.get(t);if(!i)return s;for(const o of i){const a=n.ma.get(o);s=s.unionWith(a.view.ua)}return s}}function dA(e){const t=tt(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=rg.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=fA.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=aA.bind(null,t),t.Va.a_=X1.bind(null,t.eventManager),t.Va.Fa=J1.bind(null,t.eventManager),t}function pA(e){const t=tt(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=lA.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=cA.bind(null,t),t}class hf{constructor(){this.synchronizeTabs=!1}async initialize(t){this.serializer=Qo(t.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(t),this.persistence=this.createPersistence(t),await this.persistence.start(),this.localStore=this.createLocalStore(t),this.gcScheduler=this.createGarbageCollectionScheduler(t,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(t,this.localStore)}createGarbageCollectionScheduler(t,n){return null}createIndexBackfillerScheduler(t,n){return null}createLocalStore(t){return w1(this.persistence,new E1,t.initialUser,this.serializer)}createPersistence(t){return new _1(Lc.jr,this.serializer)}createSharedClientState(t){return new b1}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class mA{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>cf(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=hA.bind(null,this.syncEngine),await W1(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new Y1}()}createDatastore(t){const n=Qo(t.databaseInfo.databaseId),r=function(i){return new N1(i)}(t.databaseInfo);return function(i,o,a,l){return new M1(i,o,a,l)}(t.authCredentials,t.appCheckCredentials,r,n)}createRemoteStore(t){return function(r,s,i,o,a){return new F1(r,s,i,o,a)}(this.localStore,this.datastore,t.asyncQueue,n=>cf(this.syncEngine,n,0),function(){return of.D()?new of:new V1}())}createSyncEngine(t,n){return function(s,i,o,a,l,c,u){const h=new nA(s,i,o,a,l,c);return u&&(h.Ca=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}terminate(){return async function(n){const r=tt(n);F("RemoteStore","RemoteStore shutting down."),r.C_.add(5),await ci(r),r.F_.shutdown(),r.M_.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ag{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Oa(this.observer.next,t)}error(t){this.observer.error?this.Oa(this.observer.error,t):on("Uncaught Error in snapshot listener:",t.toString())}Na(){this.muted=!0}Oa(t,n){this.muted||setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gA{constructor(t,n,r,s){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=te.UNAUTHENTICATED,this.clientId=lm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async i=>{F("FirestoreClient","Received user=",i.uid),await this.authCredentialListener(i),this.user=i}),this.appCheckCredentials.start(r,i=>(F("FirestoreClient","Received new app check token=",i),this.appCheckCredentialListener(i,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new M(E.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Cn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const r=qc(n,"Failed to shutdown persistence");t.reject(r)}}),t.promise}}async function Da(e,t){e.asyncQueue.verifyOperationInProgress(),F("FirestoreClient","Initializing OfflineComponentProvider");const n=await e.getConfiguration();await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async s=>{r.isEqual(s)||(await $m(t.localStore,s),r=s)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function ff(e,t){e.asyncQueue.verifyOperationInProgress();const n=await yA(e);F("FirestoreClient","Initializing OnlineComponentProvider");const r=await e.getConfiguration();await t.initialize(n,r),e.setCredentialChangeListener(s=>af(t.remoteStore,s)),e.setAppCheckTokenChangeListener((s,i)=>af(t.remoteStore,i)),e._onlineComponents=t}function _A(e){return e.name==="FirebaseError"?e.code===E.FAILED_PRECONDITION||e.code===E.UNIMPLEMENTED:!(typeof DOMException<"u"&&e instanceof DOMException)||e.code===22||e.code===20||e.code===11}async function yA(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){F("FirestoreClient","Using user provided OfflineComponentProvider");try{await Da(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!_A(n))throw n;Or("Error using user provided cache. Falling back to memory cache: "+n),await Da(e,new hf)}}else F("FirestoreClient","Using default OfflineComponentProvider"),await Da(e,new hf);return e._offlineComponents}async function lg(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(F("FirestoreClient","Using user provided OnlineComponentProvider"),await ff(e,e._uninitializedComponentsProvider._online)):(F("FirestoreClient","Using default OnlineComponentProvider"),await ff(e,new mA))),e._onlineComponents}function vA(e){return lg(e).then(t=>t.syncEngine)}async function Il(e){const t=await lg(e),n=t.eventManager;return n.onListen=rA.bind(null,t.syncEngine),n.onUnlisten=iA.bind(null,t.syncEngine),n}function EA(e,t,n={}){const r=new Cn;return e.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,c){const u=new ag({next:f=>{o.enqueueAndForget(()=>Zm(i,h)),f.fromCache&&l.source==="server"?c.reject(new M(E.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(f)},error:f=>c.reject(f)}),h=new tg(a,u,{includeMetadataChanges:!0,J_:!0});return Jm(i,h)}(await Il(e),e.asyncQueue,t,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cg(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const df=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ug(e,t,n){if(!n)throw new M(E.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function TA(e,t,n,r){if(t===!0&&r===!0)throw new M(E.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function pf(e){if(!K.isDocumentKey(e))throw new M(E.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function mf(e){if(K.isDocumentKey(e))throw new M(E.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function Jo(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(r){return r.constructor?r.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":W()}function ze(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new M(E.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Jo(e);throw new M(E.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}function wA(e,t){if(t<=0)throw new M(E.INVALID_ARGUMENT,`Function ${e}() requires a positive number, but it was: ${t}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gf{constructor(t){var n,r;if(t.host===void 0){if(t.ssl!==void 0)throw new M(E.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(n=t.ssl)===null||n===void 0||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new M(E.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}TA("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=cg((r=t.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new M(E.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new M(E.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new M(E.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Zo{constructor(t,n,r,s){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new gf({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new M(E.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(t){if(this._settingsFrozen)throw new M(E.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new gf(t),t.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new qw;switch(r.type){case"firstParty":return new Gw(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new M(E.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=df.get(n);r&&(F("ComponentProvider","Removing Datastore"),df.delete(n),r.terminate())}(this),Promise.resolve()}}function IA(e,t,n,r={}){var s;const i=(e=ze(e,Zo))._getSettings(),o=`${t}:${n}`;if(i.host!=="firestore.googleapis.com"&&i.host!==o&&Or("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},i),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=te.MOCK_USER;else{a=T0(r.mockUserToken,(s=e._app)===null||s===void 0?void 0:s.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new M(E.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new te(c)}e._authCredentials=new Hw(new am(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new cn(this.firestore,t,this._query)}}class pe{constructor(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Sn(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new pe(this.firestore,t,this._key)}}class Sn extends cn{constructor(t,n,r){super(t,n,Dc(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new pe(this.firestore,null,new K(t))}withConverter(t){return new Sn(this.firestore,t,this._path)}}function AA(e,t,...n){if(e=Qn(e),ug("collection","path",t),e instanceof Zo){const r=At.fromString(t,...n);return mf(r),new Sn(e,null,r)}{if(!(e instanceof pe||e instanceof Sn))throw new M(E.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(At.fromString(t,...n));return mf(r),new Sn(e.firestore,null,r)}}function RA(e,t,...n){if(e=Qn(e),arguments.length===1&&(t=lm.newId()),ug("doc","path",t),e instanceof Zo){const r=At.fromString(t,...n);return pf(r),new pe(e,null,new K(r))}{if(!(e instanceof pe||e instanceof Sn))throw new M(E.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(At.fromString(t,...n));return pf(r),new pe(e.firestore,e instanceof Sn?e.converter:null,new K(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CA{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new qm(this,"async_queue_retry"),this.iu=()=>{const n=Va();n&&F("AsyncQueue","Visibility state changed to "+n.visibilityState),this.zo.Qo()};const t=Va();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.su(),this.ou(t)}enterRestrictedMode(t){if(!this.Za){this.Za=!0,this.nu=t||!1;const n=Va();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.iu)}}enqueue(t){if(this.su(),this.Za)return new Promise(()=>{});const n=new Cn;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Ya.push(t),this._u()))}async _u(){if(this.Ya.length!==0){try{await this.Ya[0](),this.Ya.shift(),this.zo.reset()}catch(t){if(!oi(t))throw t;F("AsyncQueue","Operation failed with retryable error: "+t)}this.Ya.length>0&&this.zo.ko(()=>this._u())}}ou(t){const n=this.Ja.then(()=>(this.tu=!0,t().catch(r=>{this.eu=r,this.tu=!1;const s=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw on("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.tu=!1,r))));return this.Ja=n,n}enqueueAfterDelay(t,n,r){this.su(),this.ru.indexOf(t)>-1&&(n=0);const s=jc.createAndSchedule(this,t,n,r,i=>this.au(i));return this.Xa.push(s),s}su(){this.eu&&W()}verifyOperationInProgress(){}async uu(){let t;do t=this.Ja,await t;while(t!==this.Ja)}cu(t){for(const n of this.Xa)if(n.timerId===t)return!0;return!1}lu(t){return this.uu().then(()=>{this.Xa.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Xa)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.uu()})}hu(t){this.ru.push(t)}au(t){const n=this.Xa.indexOf(t);this.Xa.splice(n,1)}}function _f(e){return function(n,r){if(typeof n!="object"||n===null)return!1;const s=n;for(const i of r)if(i in s&&typeof s[i]=="function")return!0;return!1}(e,["next","error","complete"])}class tr extends Zo{constructor(t,n,r,s){super(t,n,r,s),this.type="firestore",this._queue=function(){return new CA}(),this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||hg(this),this._firestoreClient.terminate()}}function SA(e,t){const n=typeof e=="object"?e:RT(),r=typeof e=="string"?e:t||"(default)",s=TT(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=v0("firestore");i&&IA(s,...i)}return s}function zc(e){return e._firestoreClient||hg(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function hg(e){var t,n,r;const s=e._freezeSettings(),i=function(a,l,c,u){return new iI(a,l,c,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,cg(u.experimentalLongPollingOptions),u.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,s);e._firestoreClient=new gA(e._authCredentials,e._appCheckCredentials,e._queue,i),!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:s.localCache.kind,_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r{constructor(t){this._byteString=t}static fromBase64String(t){try{return new $r(ae.fromBase64String(t))}catch(n){throw new M(E.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new $r(ae.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gc{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new M(E.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Wt(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fg{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wc{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new M(E.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new M(E.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return ct(this._lat,t._lat)||ct(this._long,t._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PA=/^__.*__$/;class bA{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return this.fieldMask!==null?new or(t,this.data,this.fieldMask,n,this.fieldTransforms):new ai(t,this.data,n,this.fieldTransforms)}}function dg(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw W()}}class Qc{constructor(t,n,r,s,i,o){this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Pu(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(t){return new Qc(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),s=this.Tu({path:r,du:!1});return s.Au(t),s}Ru(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),s=this.Tu({path:r,du:!1});return s.Pu(),s}Vu(t){return this.Tu({path:void 0,du:!0})}mu(t){return ao(t,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}Pu(){if(this.path)for(let t=0;t<this.path.length;t++)this.Au(this.path.get(t))}Au(t){if(t.length===0)throw this.mu("Document fields must not be empty");if(dg(this.Iu)&&PA.test(t))throw this.mu('Document fields cannot begin and end with "__"')}}class VA{constructor(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||Qo(t)}pu(t,n,r,s=!1){return new Qc({Iu:t,methodName:n,gu:r,path:Wt.emptyPath(),du:!1,fu:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Yc(e){const t=e._freezeSettings(),n=Qo(e._databaseId);return new VA(e._databaseId,!!t.ignoreUndefinedProperties,n)}function pg(e,t,n,r,s,i={}){const o=e.pu(i.merge||i.mergeFields?2:0,t,n,s);_g("Data must be an object, but it was:",o,r);const a=mg(r,o);let l,c;if(i.merge)l=new be(o.fieldMask),c=o.fieldTransforms;else if(i.mergeFields){const u=[];for(const h of i.mergeFields){const f=xA(t,h,n);if(!o.contains(f))throw new M(E.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);kA(u,f)||u.push(f)}l=new be(u),c=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,c=o.fieldTransforms;return new bA(new Ie(a),l,c)}function DA(e,t,n,r=!1){return Xc(n,e.pu(r?4:3,t))}function Xc(e,t){if(gg(e=Qn(e)))return _g("Unsupported field value:",t,e),mg(e,t);if(e instanceof fg)return function(r,s){if(!dg(s.Iu))throw s.mu(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.mu(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.du&&t.Iu!==4)throw t.mu("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let l=Xc(a,s.Vu(o));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),o++}return{arrayValue:{values:i}}}(e,t)}return function(r,s){if((r=Qn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return CI(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=Lt.fromDate(r);return{timestampValue:io(s.serializer,i)}}if(r instanceof Lt){const i=new Lt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:io(s.serializer,i)}}if(r instanceof Wc)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof $r)return{bytesValue:Om(s.serializer,r._byteString)};if(r instanceof pe){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.mu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Oc(r.firestore._databaseId||s.databaseId,r._key.path)}}throw s.mu(`Unsupported field value: ${Jo(r)}`)}(e,t)}function mg(e,t){const n={};return cm(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Wr(e,(r,s)=>{const i=Xc(s,t.Eu(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function gg(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof Lt||e instanceof Wc||e instanceof $r||e instanceof pe||e instanceof fg)}function _g(e,t,n){if(!gg(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=Jo(n);throw r==="an object"?t.mu(e+" a custom object"):t.mu(e+" "+r)}}function xA(e,t,n){if((t=Qn(t))instanceof Gc)return t._internalPath;if(typeof t=="string")return yg(e,t);throw ao("Field path arguments must be of type string or ",e,!1,void 0,n)}const NA=new RegExp("[~\\*/\\[\\]]");function yg(e,t,n){if(t.search(NA)>=0)throw ao(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new Gc(...t.split("."))._internalPath}catch{throw ao(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function ao(e,t,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${t}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(i||o)&&(l+=" (found",i&&(l+=` in field ${r}`),o&&(l+=` in document ${s}`),l+=")"),new M(E.INVALID_ARGUMENT,a+e+l)}function kA(e,t){return e.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vg{constructor(t,n,r,s,i){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new pe(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new OA(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(ta("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class OA extends vg{data(){return super.data()}}function ta(e,t){return typeof t=="string"?yg(e,t):t instanceof Gc?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eg(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new M(E.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Jc{}class Zc extends Jc{}function MA(e,t,...n){let r=[];t instanceof Jc&&r.push(t),r=r.concat(n),function(i){const o=i.filter(l=>l instanceof tu).length,a=i.filter(l=>l instanceof ea).length;if(o>1||o>0&&a>0)throw new M(E.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)e=s._apply(e);return e}class ea extends Zc{constructor(t,n,r){super(),this._field=t,this._op=n,this._value=r,this.type="where"}static _create(t,n,r){return new ea(t,n,r)}_apply(t){const n=this._parse(t);return Tg(t._query,n),new cn(t.firestore,t.converter,gl(t._query,n))}_parse(t){const n=Yc(t.firestore);return function(i,o,a,l,c,u,h){let f;if(c.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new M(E.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){vf(h,u);const m=[];for(const v of h)m.push(yf(l,i,v));f={arrayValue:{values:m}}}else f=yf(l,i,h)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||vf(h,u),f=DA(a,o,h,u==="in"||u==="not-in");return xt.create(c,u,f)}(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}function CR(e,t,n){const r=t,s=ta("where",e);return ea._create(s,r,n)}class tu extends Jc{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new tu(t,n)}_parse(t){const n=this._queryConstraints.map(r=>r._parse(t)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:ke.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:(function(s,i){let o=s;const a=i.getFlattenedFilters();for(const l of a)Tg(o,l),o=gl(o,l)}(t._query,n),new cn(t.firestore,t.converter,gl(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class eu extends Zc{constructor(t,n){super(),this._field=t,this._direction=n,this.type="orderBy"}static _create(t,n){return new eu(t,n)}_apply(t){const n=function(s,i,o){if(s.startAt!==null)throw new M(E.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new M(E.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ks(i,o)}(t._query,this._field,this._direction);return new cn(t.firestore,t.converter,function(s,i){const o=s.explicitOrderBy.concat([i]);return new Qr(s.path,s.collectionGroup,o,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(t._query,n))}}function LA(e,t="asc"){const n=t,r=ta("orderBy",e);return eu._create(r,n)}class nu extends Zc{constructor(t,n,r){super(),this.type=t,this._limit=n,this._limitType=r}static _create(t,n,r){return new nu(t,n,r)}_apply(t){return new cn(t.firestore,t.converter,no(t._query,this._limit,this._limitType))}}function FA(e){return wA("limit",e),nu._create("limit",e,"F")}function yf(e,t,n){if(typeof(n=Qn(n))=="string"){if(n==="")throw new M(E.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ym(t)&&n.indexOf("/")!==-1)throw new M(E.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(At.fromString(n));if(!K.isDocumentKey(r))throw new M(E.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Uh(e,new K(r))}if(n instanceof pe)return Uh(e,n._key);throw new M(E.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Jo(n)}.`)}function vf(e,t){if(!Array.isArray(e)||e.length===0)throw new M(E.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function Tg(e,t){const n=function(s,i){for(const o of s)for(const a of o.getFlattenedFilters())if(i.indexOf(a.op)>=0)return a.op;return null}(e.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(n!==null)throw n===t.op?new M(E.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new M(E.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class BA{convertValue(t,n="none"){switch(Zn(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Dt(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Jn(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 10:return this.convertObject(t.mapValue,n);default:throw W()}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const r={};return Wr(t,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertGeoPoint(t){return new Wc(Dt(t.latitude),Dt(t.longitude))}convertArray(t,n){return(t.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(t,n){switch(n){case"previous":const r=Sc(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(js(t));default:return null}}convertTimestamp(t){const n=xn(t);return new Lt(n.seconds,n.nanos)}convertDocumentKey(t,n){const r=At.fromString(t);Tt(Um(r));const s=new qs(r.get(1),r.get(3)),i=new K(r.popFirst(5));return s.isEqual(n)||on(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wg(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Ig extends vg{constructor(t,n,r,s,i,o){super(t,n,r,s,o),this._firestore=t,this._firestoreImpl=t,this.metadata=i}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Mi(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const r=this._document.data.field(ta("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Mi extends Ig{data(t={}){return super.data(t)}}class Ag{constructor(t,n,r,s){this._firestore=t,this._userDataWriter=n,this._snapshot=s,this.metadata=new fs(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(r=>{t.call(n,new Mi(this._firestore,this._userDataWriter,r.key,r,new fs(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new M(E.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const l=new Mi(s._firestore,s._userDataWriter,a.doc.key,a.doc,new fs(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const l=new Mi(s._firestore,s._userDataWriter,a.doc.key,a.doc,new fs(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let c=-1,u=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),u=o.indexOf(a.doc.key)),{type:UA(a.type),doc:l,oldIndex:c,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function UA(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return W()}}class ru extends BA{constructor(t){super(),this.firestore=t}convertBytes(t){return new $r(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new pe(this.firestore,null,n)}}function SR(e){e=ze(e,cn);const t=ze(e.firestore,tr),n=zc(t),r=new ru(t);return Eg(e._query),EA(n,e._query).then(s=>new Ag(t,r,e,s))}function PR(e,t,n){e=ze(e,pe);const r=ze(e.firestore,tr),s=wg(e.converter,t,n);return su(r,[pg(Yc(r),"setDoc",e._key,s,e.converter!==null,n).toMutation(e._key,De.none())])}function bR(e){return su(ze(e.firestore,tr),[new xc(e._key,De.none())])}function VR(e,t){const n=ze(e.firestore,tr),r=RA(e),s=wg(e.converter,t);return su(n,[pg(Yc(e.firestore),"addDoc",r._key,s,e.converter!==null,{}).toMutation(r._key,De.exists(!1))]).then(()=>r)}function Ef(e,...t){var n,r,s;e=Qn(e);let i={includeMetadataChanges:!1},o=0;typeof t[o]!="object"||_f(t[o])||(i=t[o],o++);const a={includeMetadataChanges:i.includeMetadataChanges};if(_f(t[o])){const h=t[o];t[o]=(n=h.next)===null||n===void 0?void 0:n.bind(h),t[o+1]=(r=h.error)===null||r===void 0?void 0:r.bind(h),t[o+2]=(s=h.complete)===null||s===void 0?void 0:s.bind(h)}let l,c,u;if(e instanceof pe)c=ze(e.firestore,tr),u=Dc(e._key.path),l={next:h=>{t[o]&&t[o]($A(c,e,h))},error:t[o+1],complete:t[o+2]};else{const h=ze(e,cn);c=ze(h.firestore,tr),u=h._query;const f=new ru(c);l={next:m=>{t[o]&&t[o](new Ag(c,f,h,m))},error:t[o+1],complete:t[o+2]},Eg(e._query)}return function(f,m,v,w){const I=new ag(w),S=new tg(m,I,v);return f.asyncQueue.enqueueAndForget(async()=>Jm(await Il(f),S)),()=>{I.Na(),f.asyncQueue.enqueueAndForget(async()=>Zm(await Il(f),S))}}(zc(c),u,a,l)}function su(e,t){return function(r,s){const i=new Cn;return r.asyncQueue.enqueueAndForget(async()=>oA(await vA(r),s,i)),i.promise}(zc(e),t)}function $A(e,t,n){const r=n.docs.get(t._key),s=new ru(e);return new Ig(e,s,t._key,r,new fs(n.hasPendingWrites,n.fromCache),t.converter)}(function(t,n=!0){(function(s){Gr=s})(AT),Gi(new Ds("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new tr(new Kw(r.getProvider("auth-internal")),new Qw(r.getProvider("app-check-internal")),function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new M(E.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new qs(c.options.projectId,u)}(o,s),o);return i=Object.assign({useFetchStreams:n},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),Ar(Mh,"4.4.0",t),Ar(Mh,"4.4.0","esm2017")})();const jA={apiKey:"AIzaSyBmx3k3Fn9-2uF2rFmmE7TeAvRdnBmcqHw",authDomain:"bingo-card-generator-7335a.firebaseapp.com",projectId:"bingo-card-generator-7335a",storageBucket:"bingo-card-generator-7335a.appspot.com",messagingSenderId:"307692627485",appId:"1:307692627485:web:29128c71c307033f3c88f4"},qA=ep(jA),HA=SA(qA);function Al(e){return bf()?($g(e),!0):!1}function KA(e){return typeof e=="function"?e():jt(e)}const zA=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const GA=e=>typeof e<"u";function WA(e,t,n={}){const{immediate:r=!0}=n,s=sr(!1);let i=null;function o(){i&&(clearTimeout(i),i=null)}function a(){s.value=!1,o()}function l(...c){o(),s.value=!0,i=setTimeout(()=>{s.value=!1,i=null,e(...c)},KA(t))}return r&&(s.value=!0,zA&&l()),Al(a),{isPending:Ml(s),start:l,stop:a}}function Tf(e){const t=e.data();return t&&Object.defineProperty(t,"id",{value:e.id.toString(),writable:!1}),t}function QA(e){var t;return(((t=e.path)==null?void 0:t.match(/\//g))||[]).length%2!==0}function YA(e,t=void 0,n={}){const{errorHandler:r=l=>console.error(l),autoDispose:s=!0}=n,i=oe(e)?e:de(()=>e);let o=()=>{};const a=sr(t);return Ir(i,l=>{o(),i.value?QA(i.value)?o=Ef(l,c=>{a.value=Tf(c)||null},r):o=Ef(l,c=>{a.value=c.docs.map(Tf).filter(GA)},r):a.value=t},{immediate:!0}),s===!0?Al(()=>{o()}):typeof s=="number"&&Al(()=>{WA(()=>{o()},s)}),a}const XA={fill:"none",xmlns:"http://www.w3.org/2000/svg",viewBox:"8.5 6 7 12"},Rl=Ft({__name:"IconCaret",props:{color:{}},setup(e){return(t,n)=>(yt(),Nt("svg",XA,[q("path",{style:me({fill:t.color??"#fff"}),"fill-rule":"evenodd","clip-rule":"evenodd",d:"M8.79289 6.29289C9.18342 5.90237 9.81658 5.90237 10.2071 6.29289L15.2071 11.2929C15.5976 11.6834 15.5976 12.3166 15.2071 12.7071L10.2071 17.7071C9.81658 18.0976 9.18342 18.0976 8.79289 17.7071C8.40237 17.3166 8.40237 16.6834 8.79289 16.2929L13.0858 12L8.79289 7.70711C8.40237 7.31658 8.40237 6.68342 8.79289 6.29289Z"},null,4)]))}});function wf(e){const t=Math.floor((new Date().getTime()-e)/1e3);let n=Math.floor(t/31536e3);return n>=1?n+" years ago":(n=Math.floor(t/2592e3),n>=1?n+" months ago":(n=Math.floor(t/86400),n>=1?n+" days ago":(n=Math.floor(t/3600),n>=1?n+" hours ago":(n=Math.floor(t/60),n>=1?n+" minutes ago":t>5?Math.floor(t)+" seconds ago":t>-10?"just now":"in the future "))))}const JA={class:"game"},ZA={class:"description"},tR={class:"time-ago"},eR=Ft({__name:"GameCard",props:{game:{}},setup(e){const t=e,n=de(()=>t.game.updatedAt===t.game.createdAt?`Created ${wf(t.game.createdAt)}`:`Updated ${wf(t.game.updatedAt)}`),r=de(()=>t.game.description.length>200?t.game.description.slice(0,200)+"...":t.game.description);return(s,i)=>{const o=ql("RouterLink");return yt(),En(o,{to:`/game/${s.game.id}`},{default:ve(()=>[q("div",JA,[q("h2",null,Vi(s.game.name),1),q("p",ZA,Vi(r.value),1),q("p",tR,Vi(n.value),1),et(Rl,{color:"var(--color-background)",class:"arrow"})])]),_:1},8,["to"])}}}),nR=qr(eR,[["__scopeId","data-v-fe9c5211"]]),na=e=>($l("data-v-2d27884a"),e=e(),jl(),e),rR={class:"intro"},sR=na(()=>q("h1",null,[q("span",null,"Create and play."),q("br"),Fe(" Fun custom bingo games! ")],-1)),iR=na(()=>q("p",{class:"intro-text"}," A lot of boring meetings or simply want to make an event more fun? Create your own bingo game and share it with your friends and colleagues! ",-1)),oR={class:"button-container"},aR=na(()=>q("span",null,"Create a new game",-1)),lR=na(()=>q("p",null,"check out popular games",-1)),cR=Ft({__name:"IntroComponent",emits:["scroll-to-games","example"],setup(e,{emit:t}){return(n,r)=>{const s=ql("RouterLink");return yt(),Nt("div",rR,[sR,iR,q("div",oR,[et(s,{to:"/create",class:"start-new-button"},{default:ve(()=>[et(zd,{color:"var(--color-foreground-light)",class:"plus"}),aR]),_:1}),q("button",{class:"demo",onClick:r[0]||(r[0]=i=>n.$emit("scroll-to-games"))},[et(Rl,{color:"var(--color-primary-dark)",class:"arrow-down"}),lR,et(Rl,{color:"var(--color-primary-dark)",class:"arrow-down"})])])])}}}),uR=qr(cR,[["__scopeId","data-v-2d27884a"]]),hR=q("h1",null,"Most popular Bingo games",-1),fR={key:1,class:"no-games"},dR=Ft({__name:"HomeView",setup(e){const t=MA(AA(HA,"games"),LA("updatedAt","desc"),FA(5)),n=YA(t,void 0,{autoDispose:!1}),r=sr(null),s=()=>{if(!r.value)return;const o=r.value.getBoundingClientRect().top+window.scrollY-80;window.scrollTo({top:o,behavior:"smooth"})};return(i,o)=>{var a;return yt(),Nt("div",null,[et(uR,{onScrollToGames:s}),q("div",{class:"games-container",ref_key:"gamesContainer",ref:r},[hR,(a=jt(n))!=null&&a.length?(yt(!0),Nt(ee,{key:0},ud(jt(n),l=>(yt(),En(nR,{key:l.id,game:l},null,8,["game"]))),128)):(yt(),Nt("p",fR,"No games found"))],512)])}}}),pR=nE({history:vv("/"),scrollBehavior(){return{top:0}},routes:[{path:"/",name:"home",component:dR},{path:"/game/:id",name:"game",component:()=>hr(()=>import("./GameView-EpF8IQCP.js"),__vite__mapDeps([0,1,2]))},{path:"/game/:id/play/new",name:"play-new",component:()=>hr(()=>import("./PlayNewView-aT-YlPyj.js"),__vite__mapDeps([]))},{path:"/game/:id/play/:cardId",name:"play",component:()=>hr(()=>import("./PlayView-ZT-mcxbC.js"),__vite__mapDeps([]))},{path:"/pricing",name:"pricing",component:()=>hr(()=>import("./PricingView-qr19zheo.js"),__vite__mapDeps([]))},{path:"/create",name:"create",component:()=>hr(()=>import("./CreateView-Q7PIjRwX.js"),__vite__mapDeps([3,1,4]))},{path:"/error",name:"error",component:()=>hr(()=>import("./ErrorView-oOtPQQUl.js"),__vite__mapDeps([]))}]}),Rg=Zy(a0);Rg.use(pR);Rg.mount("#app");export{HA as A,jt as B,Vi as C,wf as D,_R as E,yR as F,YA as G,MA as H,LA as I,CR as J,AA as K,ee as L,ud as M,as as N,TR as O,de as P,Rl as Q,VR as R,PR as S,Io as T,SR as U,bR as V,qr as _,q as a,et as b,Nt as c,Ft as d,Fe as e,wR as f,xE as g,En as h,zd as i,ay as j,vR as k,ER as l,sr as m,me as n,yt as o,Ir as p,P_ as q,mR as r,Qs as s,$l as t,sE as u,gR as v,ve as w,jl as x,Cy as y,RA as z};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["assets/GameView-EpF8IQCP.js","assets/firestore-_nN8xg5X.js","assets/GameView-bkkQr3bf.css","assets/CreateView-Q7PIjRwX.js","assets/CreateView-kEHQQI7y.css"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}