(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function nl(e,t){const n=new Set(e.split(","));return t?r=>n.has(r.toLowerCase()):r=>n.has(r)}const vt={},rr=[],Ee=()=>{},yg=()=>!1,bi=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),rl=e=>e.startsWith("onUpdate:"),Ot=Object.assign,sl=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},vg=Object.prototype.hasOwnProperty,rt=(e,t)=>vg.call(e,t),K=Array.isArray,sr=e=>Vi(e)==="[object Map]",Uh=e=>Vi(e)==="[object Set]",J=e=>typeof e=="function",xt=e=>typeof e=="string",Cr=e=>typeof e=="symbol",wt=e=>e!==null&&typeof e=="object",$h=e=>(wt(e)||J(e))&&J(e.then)&&J(e.catch),jh=Object.prototype.toString,Vi=e=>jh.call(e),Eg=e=>Vi(e).slice(8,-1),qh=e=>Vi(e)==="[object Object]",il=e=>xt(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,ni=nl(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Di=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},Tg=/-(\w)/g,$e=Di(e=>e.replace(Tg,(t,n)=>n?n.toUpperCase():"")),wg=/\B([A-Z])/g,Sr=Di(e=>e.replace(wg,"-$1").toLowerCase()),xi=Di(e=>e.charAt(0).toUpperCase()+e.slice(1)),Ao=Di(e=>e?`on${xi(e)}`:""),_n=(e,t)=>!Object.is(e,t),Ro=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},ui=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},Ig=e=>{const t=parseFloat(e);return isNaN(t)?e:t},Ag=e=>{const t=xt(e)?Number(e):NaN;return isNaN(t)?e:t};let Dc;const Hh=()=>Dc||(Dc=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function je(e){if(K(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],s=xt(r)?Pg(r):je(r);if(s)for(const i in s)t[i]=s[i]}return t}else if(xt(e)||wt(e))return e}const Rg=/;(?![^(]*\))/g,Cg=/:([^]+)/,Sg=/\/\*[^]*?\*\//g;function Pg(e){const t={};return e.replace(Sg,"").split(Rg).forEach(n=>{if(n){const r=n.split(Cg);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}function Ni(e){let t="";if(xt(e))t=e;else if(K(e))for(let n=0;n<e.length;n++){const r=Ni(e[n]);r&&(t+=r+" ")}else if(wt(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const bg="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Vg=nl(bg);function zh(e){return!!e||e===""}const Co=e=>xt(e)?e:e==null?"":K(e)||wt(e)&&(e.toString===jh||!J(e.toString))?JSON.stringify(e,Kh,2):String(e),Kh=(e,t)=>t&&t.__v_isRef?Kh(e,t.value):sr(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[r,s],i)=>(n[So(r,i)+" =>"]=s,n),{})}:Uh(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>So(n))}:Cr(t)?So(t):wt(t)&&!K(t)&&!qh(t)?String(t):t,So=(e,t="")=>{var n;return Cr(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};let he;class Dg{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=he,!t&&he&&(this.index=(he.scopes||(he.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const n=he;try{return he=this,t()}finally{he=n}}}on(){he=this}off(){he=this.parent}stop(t){if(this._active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!t){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0,this._active=!1}}}function xg(e,t=he){t&&t.active&&t.effects.push(e)}function Gh(){return he}function Ng(e){he&&he.cleanups.push(e)}let kn;class ol{constructor(t,n,r,s){this.fn=t,this.trigger=n,this.scheduler=r,this.active=!0,this.deps=[],this._dirtyLevel=3,this._trackId=0,this._runnings=0,this._queryings=0,this._depsLength=0,xg(this,s)}get dirty(){if(this._dirtyLevel===1){this._dirtyLevel=0,this._queryings++,Hn();for(const t of this.deps)if(t.computed&&(Og(t.computed),this._dirtyLevel>=2))break;zn(),this._queryings--}return this._dirtyLevel>=2}set dirty(t){this._dirtyLevel=t?3:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let t=fn,n=kn;try{return fn=!0,kn=this,this._runnings++,xc(this),this.fn()}finally{Nc(this),this._runnings--,kn=n,fn=t}}stop(){var t;this.active&&(xc(this),Nc(this),(t=this.onStop)==null||t.call(this),this.active=!1)}}function Og(e){return e.value}function xc(e){e._trackId++,e._depsLength=0}function Nc(e){if(e.deps&&e.deps.length>e._depsLength){for(let t=e._depsLength;t<e.deps.length;t++)Wh(e.deps[t],e);e.deps.length=e._depsLength}}function Wh(e,t){const n=e.get(t);n!==void 0&&t._trackId!==n&&(e.delete(t),e.size===0&&e.cleanup())}let fn=!0,ra=0;const Qh=[];function Hn(){Qh.push(fn),fn=!1}function zn(){const e=Qh.pop();fn=e===void 0?!0:e}function al(){ra++}function ll(){for(ra--;!ra&&sa.length;)sa.shift()()}function Yh(e,t,n){if(t.get(e)!==e._trackId){t.set(e,e._trackId);const r=e.deps[e._depsLength];r!==t?(r&&Wh(r,e),e.deps[e._depsLength++]=t):e._depsLength++}}const sa=[];function Xh(e,t,n){al();for(const r of e.keys())if(!(!r.allowRecurse&&r._runnings)&&r._dirtyLevel<t&&(!r._runnings||t!==2)){const s=r._dirtyLevel;r._dirtyLevel=t,s===0&&(!r._queryings||t!==2)&&(r.trigger(),r.scheduler&&sa.push(r.scheduler))}ll()}const Jh=(e,t)=>{const n=new Map;return n.cleanup=e,n.computed=t,n},ia=new WeakMap,Mn=Symbol(""),oa=Symbol("");function le(e,t,n){if(fn&&kn){let r=ia.get(e);r||ia.set(e,r=new Map);let s=r.get(n);s||r.set(n,s=Jh(()=>r.delete(n))),Yh(kn,s)}}function Ye(e,t,n,r,s,i){const o=ia.get(e);if(!o)return;let a=[];if(t==="clear")a=[...o.values()];else if(n==="length"&&K(e)){const l=Number(r);o.forEach((c,u)=>{(u==="length"||!Cr(u)&&u>=l)&&a.push(c)})}else switch(n!==void 0&&a.push(o.get(n)),t){case"add":K(e)?il(n)&&a.push(o.get("length")):(a.push(o.get(Mn)),sr(e)&&a.push(o.get(oa)));break;case"delete":K(e)||(a.push(o.get(Mn)),sr(e)&&a.push(o.get(oa)));break;case"set":sr(e)&&a.push(o.get(Mn));break}al();for(const l of a)l&&Xh(l,3);ll()}const kg=nl("__proto__,__v_isRef,__isVue"),Zh=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Cr)),Oc=Mg();function Mg(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...n){const r=ot(this);for(let i=0,o=this.length;i<o;i++)le(r,"get",i+"");const s=r[t](...n);return s===-1||s===!1?r[t](...n.map(ot)):s}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...n){Hn(),al();const r=ot(this)[t].apply(this,n);return ll(),zn(),r}}),e}function Lg(e){const t=ot(this);return le(t,"has",e),t.hasOwnProperty(e)}class tf{constructor(t=!1,n=!1){this._isReadonly=t,this._shallow=n}get(t,n,r){const s=this._isReadonly,i=this._shallow;if(n==="__v_isReactive")return!s;if(n==="__v_isReadonly")return s;if(n==="__v_isShallow")return i;if(n==="__v_raw")return r===(s?i?Yg:sf:i?rf:nf).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(r)?t:void 0;const o=K(t);if(!s){if(o&&rt(Oc,n))return Reflect.get(Oc,n,r);if(n==="hasOwnProperty")return Lg}const a=Reflect.get(t,n,r);return(Cr(n)?Zh.has(n):kg(n))||(s||le(t,"get",n),i)?a:te(a)?o&&il(n)?a:a.value:wt(a)?s?hl(a):ki(a):a}}class ef extends tf{constructor(t=!1){super(!1,t)}set(t,n,r,s){let i=t[n];if(!this._shallow){const l=dr(i);if(!er(r)&&!dr(r)&&(i=ot(i),r=ot(r)),!K(t)&&te(i)&&!te(r))return l?!1:(i.value=r,!0)}const o=K(t)&&il(n)?Number(n)<t.length:rt(t,n),a=Reflect.set(t,n,r,s);return t===ot(s)&&(o?_n(r,i)&&Ye(t,"set",n,r):Ye(t,"add",n,r)),a}deleteProperty(t,n){const r=rt(t,n);t[n];const s=Reflect.deleteProperty(t,n);return s&&r&&Ye(t,"delete",n,void 0),s}has(t,n){const r=Reflect.has(t,n);return(!Cr(n)||!Zh.has(n))&&le(t,"has",n),r}ownKeys(t){return le(t,"iterate",K(t)?"length":Mn),Reflect.ownKeys(t)}}class Fg extends tf{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const Bg=new ef,Ug=new Fg,$g=new ef(!0),cl=e=>e,Oi=e=>Reflect.getPrototypeOf(e);function $s(e,t,n=!1,r=!1){e=e.__v_raw;const s=ot(e),i=ot(t);n||(_n(t,i)&&le(s,"get",t),le(s,"get",i));const{has:o}=Oi(s),a=r?cl:n?dl:ss;if(o.call(s,t))return a(e.get(t));if(o.call(s,i))return a(e.get(i));e!==s&&e.get(t)}function js(e,t=!1){const n=this.__v_raw,r=ot(n),s=ot(e);return t||(_n(e,s)&&le(r,"has",e),le(r,"has",s)),e===s?n.has(e):n.has(e)||n.has(s)}function qs(e,t=!1){return e=e.__v_raw,!t&&le(ot(e),"iterate",Mn),Reflect.get(e,"size",e)}function kc(e){e=ot(e);const t=ot(this);return Oi(t).has.call(t,e)||(t.add(e),Ye(t,"add",e,e)),this}function Mc(e,t){t=ot(t);const n=ot(this),{has:r,get:s}=Oi(n);let i=r.call(n,e);i||(e=ot(e),i=r.call(n,e));const o=s.call(n,e);return n.set(e,t),i?_n(t,o)&&Ye(n,"set",e,t):Ye(n,"add",e,t),this}function Lc(e){const t=ot(this),{has:n,get:r}=Oi(t);let s=n.call(t,e);s||(e=ot(e),s=n.call(t,e)),r&&r.call(t,e);const i=t.delete(e);return s&&Ye(t,"delete",e,void 0),i}function Fc(){const e=ot(this),t=e.size!==0,n=e.clear();return t&&Ye(e,"clear",void 0,void 0),n}function Hs(e,t){return function(r,s){const i=this,o=i.__v_raw,a=ot(o),l=t?cl:e?dl:ss;return!e&&le(a,"iterate",Mn),o.forEach((c,u)=>r.call(s,l(c),l(u),i))}}function zs(e,t,n){return function(...r){const s=this.__v_raw,i=ot(s),o=sr(i),a=e==="entries"||e===Symbol.iterator&&o,l=e==="keys"&&o,c=s[e](...r),u=n?cl:t?dl:ss;return!t&&le(i,"iterate",l?oa:Mn),{next(){const{value:h,done:f}=c.next();return f?{value:h,done:f}:{value:a?[u(h[0]),u(h[1])]:u(h),done:f}},[Symbol.iterator](){return this}}}}function en(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function jg(){const e={get(i){return $s(this,i)},get size(){return qs(this)},has:js,add:kc,set:Mc,delete:Lc,clear:Fc,forEach:Hs(!1,!1)},t={get(i){return $s(this,i,!1,!0)},get size(){return qs(this)},has:js,add:kc,set:Mc,delete:Lc,clear:Fc,forEach:Hs(!1,!0)},n={get(i){return $s(this,i,!0)},get size(){return qs(this,!0)},has(i){return js.call(this,i,!0)},add:en("add"),set:en("set"),delete:en("delete"),clear:en("clear"),forEach:Hs(!0,!1)},r={get(i){return $s(this,i,!0,!0)},get size(){return qs(this,!0)},has(i){return js.call(this,i,!0)},add:en("add"),set:en("set"),delete:en("delete"),clear:en("clear"),forEach:Hs(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(i=>{e[i]=zs(i,!1,!1),n[i]=zs(i,!0,!1),t[i]=zs(i,!1,!0),r[i]=zs(i,!0,!0)}),[e,n,t,r]}const[qg,Hg,zg,Kg]=jg();function ul(e,t){const n=t?e?Kg:zg:e?Hg:qg;return(r,s,i)=>s==="__v_isReactive"?!e:s==="__v_isReadonly"?e:s==="__v_raw"?r:Reflect.get(rt(n,s)&&s in r?n:r,s,i)}const Gg={get:ul(!1,!1)},Wg={get:ul(!1,!0)},Qg={get:ul(!0,!1)},nf=new WeakMap,rf=new WeakMap,sf=new WeakMap,Yg=new WeakMap;function Xg(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Jg(e){return e.__v_skip||!Object.isExtensible(e)?0:Xg(Eg(e))}function ki(e){return dr(e)?e:fl(e,!1,Bg,Gg,nf)}function of(e){return fl(e,!1,$g,Wg,rf)}function hl(e){return fl(e,!0,Ug,Qg,sf)}function fl(e,t,n,r,s){if(!wt(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const i=s.get(e);if(i)return i;const o=Jg(e);if(o===0)return e;const a=new Proxy(e,o===2?r:n);return s.set(e,a),a}function ir(e){return dr(e)?ir(e.__v_raw):!!(e&&e.__v_isReactive)}function dr(e){return!!(e&&e.__v_isReadonly)}function er(e){return!!(e&&e.__v_isShallow)}function af(e){return ir(e)||dr(e)}function ot(e){const t=e&&e.__v_raw;return t?ot(t):e}function lf(e){return ui(e,"__v_skip",!0),e}const ss=e=>wt(e)?ki(e):e,dl=e=>wt(e)?hl(e):e;class cf{constructor(t,n,r,s){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new ol(()=>t(this._value),()=>aa(this,1)),this.effect.computed=this,this.effect.active=this._cacheable=!s,this.__v_isReadonly=r}get value(){const t=ot(this);return uf(t),(!t._cacheable||t.effect.dirty)&&_n(t._value,t._value=t.effect.run())&&aa(t,2),t._value}set value(t){this._setter(t)}get _dirty(){return this.effect.dirty}set _dirty(t){this.effect.dirty=t}}function Zg(e,t,n=!1){let r,s;const i=J(e);return i?(r=e,s=Ee):(r=e.get,s=e.set),new cf(r,s,i||!s,n)}function uf(e){fn&&kn&&(e=ot(e),Yh(kn,e.dep||(e.dep=Jh(()=>e.dep=void 0,e instanceof cf?e:void 0))))}function aa(e,t=3,n){e=ot(e);const r=e.dep;r&&Xh(r,t)}function te(e){return!!(e&&e.__v_isRef===!0)}function Rs(e){return hf(e,!1)}function tm(e){return hf(e,!0)}function hf(e,t){return te(e)?e:new em(e,t)}class em{constructor(t,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?t:ot(t),this._value=n?t:ss(t)}get value(){return uf(this),this._value}set value(t){const n=this.__v_isShallow||er(t)||dr(t);t=n?t:ot(t),_n(t,this._rawValue)&&(this._rawValue=t,this._value=n?t:ss(t),aa(this,3))}}function ae(e){return te(e)?e.value:e}const nm={get:(e,t,n)=>ae(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const s=e[t];return te(s)&&!te(n)?(s.value=n,!0):Reflect.set(e,t,n,r)}};function ff(e){return ir(e)?e:new Proxy(e,nm)}function dn(e,t,n,r){let s;try{s=r?e(...r):e()}catch(i){Mi(i,t,n)}return s}function Te(e,t,n,r){if(J(e)){const i=dn(e,t,n,r);return i&&$h(i)&&i.catch(o=>{Mi(o,t,n)}),i}const s=[];for(let i=0;i<e.length;i++)s.push(Te(e[i],t,n,r));return s}function Mi(e,t,n,r=!0){const s=t?t.vnode:null;if(t){let i=t.parent;const o=t.proxy,a=`https://vuejs.org/errors/#runtime-${n}`;for(;i;){const c=i.ec;if(c){for(let u=0;u<c.length;u++)if(c[u](e,o,a)===!1)return}i=i.parent}const l=t.appContext.config.errorHandler;if(l){dn(l,null,10,[e,o,a]);return}}rm(e,n,s,r)}function rm(e,t,n,r=!0){console.error(e)}let is=!1,la=!1;const Qt=[];let ke=0;const or=[];let Ge=null,Vn=0;const df=Promise.resolve();let pl=null;function pf(e){const t=pl||df;return e?t.then(this?e.bind(this):e):t}function sm(e){let t=ke+1,n=Qt.length;for(;t<n;){const r=t+n>>>1,s=Qt[r],i=os(s);i<e||i===e&&s.pre?t=r+1:n=r}return t}function gl(e){(!Qt.length||!Qt.includes(e,is&&e.allowRecurse?ke+1:ke))&&(e.id==null?Qt.push(e):Qt.splice(sm(e.id),0,e),gf())}function gf(){!is&&!la&&(la=!0,pl=df.then(_f))}function im(e){const t=Qt.indexOf(e);t>ke&&Qt.splice(t,1)}function om(e){K(e)?or.push(...e):(!Ge||!Ge.includes(e,e.allowRecurse?Vn+1:Vn))&&or.push(e),gf()}function Bc(e,t,n=is?ke+1:0){for(;n<Qt.length;n++){const r=Qt[n];if(r&&r.pre){if(e&&r.id!==e.uid)continue;Qt.splice(n,1),n--,r()}}}function mf(e){if(or.length){const t=[...new Set(or)];if(or.length=0,Ge){Ge.push(...t);return}for(Ge=t,Ge.sort((n,r)=>os(n)-os(r)),Vn=0;Vn<Ge.length;Vn++)Ge[Vn]();Ge=null,Vn=0}}const os=e=>e.id==null?1/0:e.id,am=(e,t)=>{const n=os(e)-os(t);if(n===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return n};function _f(e){la=!1,is=!0,Qt.sort(am);try{for(ke=0;ke<Qt.length;ke++){const t=Qt[ke];t&&t.active!==!1&&dn(t,null,14)}}finally{ke=0,Qt.length=0,mf(),is=!1,pl=null,(Qt.length||or.length)&&_f()}}function lm(e,t,...n){if(e.isUnmounted)return;const r=e.vnode.props||vt;let s=n;const i=t.startsWith("update:"),o=i&&t.slice(7);if(o&&o in r){const u=`${o==="modelValue"?"model":o}Modifiers`,{number:h,trim:f}=r[u]||vt;f&&(s=n.map(g=>xt(g)?g.trim():g)),h&&(s=n.map(Ig))}let a,l=r[a=Ao(t)]||r[a=Ao($e(t))];!l&&i&&(l=r[a=Ao(Sr(t))]),l&&Te(l,e,6,s);const c=r[a+"Once"];if(c){if(!e.emitted)e.emitted={};else if(e.emitted[a])return;e.emitted[a]=!0,Te(c,e,6,s)}}function yf(e,t,n=!1){const r=t.emitsCache,s=r.get(e);if(s!==void 0)return s;const i=e.emits;let o={},a=!1;if(!J(e)){const l=c=>{const u=yf(c,t,!0);u&&(a=!0,Ot(o,u))};!n&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!i&&!a?(wt(e)&&r.set(e,null),null):(K(i)?i.forEach(l=>o[l]=null):Ot(o,i),wt(e)&&r.set(e,o),o)}function Li(e,t){return!e||!bi(t)?!1:(t=t.slice(2).replace(/Once$/,""),rt(e,t[0].toLowerCase()+t.slice(1))||rt(e,Sr(t))||rt(e,t))}let de=null,Fi=null;function hi(e){const t=de;return de=e,Fi=e&&e.type.__scopeId||null,t}function ml(e){Fi=e}function _l(){Fi=null}function Ie(e,t=de,n){if(!t||e._n)return e;const r=(...s)=>{r._d&&Xc(-1);const i=hi(t);let o;try{o=e(...s)}finally{hi(i),r._d&&Xc(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function Po(e){const{type:t,vnode:n,proxy:r,withProxy:s,props:i,propsOptions:[o],slots:a,attrs:l,emit:c,render:u,renderCache:h,data:f,setupState:g,ctx:E,inheritAttrs:I}=e;let C,P;const M=hi(e);try{if(n.shapeFlag&4){const z=s||r,U=z;C=Oe(u.call(U,z,h,i,g,f,E)),P=l}else{const z=t;C=Oe(z.length>1?z(i,{attrs:l,slots:a,emit:c}):z(i,null)),P=t.props?l:cm(l)}}catch(z){Yr.length=0,Mi(z,e,1),C=et(Ce)}let F=C;if(P&&I!==!1){const z=Object.keys(P),{shapeFlag:U}=F;z.length&&U&7&&(o&&z.some(rl)&&(P=um(P,o)),F=yn(F,P))}return n.dirs&&(F=yn(F),F.dirs=F.dirs?F.dirs.concat(n.dirs):n.dirs),n.transition&&(F.transition=n.transition),C=F,hi(M),C}const cm=e=>{let t;for(const n in e)(n==="class"||n==="style"||bi(n))&&((t||(t={}))[n]=e[n]);return t},um=(e,t)=>{const n={};for(const r in e)(!rl(r)||!(r.slice(9)in t))&&(n[r]=e[r]);return n};function hm(e,t,n){const{props:r,children:s,component:i}=e,{props:o,children:a,patchFlag:l}=t,c=i.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return r?Uc(r,o,c):!!o;if(l&8){const u=t.dynamicProps;for(let h=0;h<u.length;h++){const f=u[h];if(o[f]!==r[f]&&!Li(c,f))return!0}}}else return(s||a)&&(!a||!a.$stable)?!0:r===o?!1:r?o?Uc(r,o,c):!0:!!o;return!1}function Uc(e,t,n){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let s=0;s<r.length;s++){const i=r[s];if(t[i]!==e[i]&&!Li(n,i))return!0}return!1}function fm({vnode:e,parent:t},n){if(n)for(;t;){const r=t.subTree;if(r.suspense&&r.suspense.activeBranch===e&&(r.el=e.el),r===e)(e=t.vnode).el=n,t=t.parent;else break}}const vf="components";function yl(e,t){return pm(vf,e,!0,t)||e}const dm=Symbol.for("v-ndc");function pm(e,t,n=!0,r=!1){const s=de||Lt;if(s){const i=s.type;if(e===vf){const a=h_(i,!1);if(a&&(a===t||a===$e(t)||a===xi($e(t))))return i}const o=$c(s[e]||i[e],t)||$c(s.appContext[e],t);return!o&&r?i:o}}function $c(e,t){return e&&(e[t]||e[$e(t)]||e[xi($e(t))])}const gm=e=>e.__isSuspense;function mm(e,t){t&&t.pendingBranch?K(e)?t.effects.push(...e):t.effects.push(e):om(e)}const _m=Symbol.for("v-scx"),ym=()=>Re(_m),Ks={};function Wr(e,t,n){return Ef(e,t,n)}function Ef(e,t,{immediate:n,deep:r,flush:s,once:i,onTrack:o,onTrigger:a}=vt){var l;if(t&&i){const U=t;t=(...ct)=>{U(...ct),z()}}const c=Gh()===((l=Lt)==null?void 0:l.scope)?Lt:null;let u,h=!1,f=!1;if(te(e)?(u=()=>e.value,h=er(e)):ir(e)?(u=er(e)||r===!1?()=>We(e,1):()=>We(e),h=!0):K(e)?(f=!0,h=e.some(U=>ir(U)||er(U)),u=()=>e.map(U=>{if(te(U))return U.value;if(ir(U))return We(U,er(U)||r===!1?1:void 0);if(J(U))return dn(U,c,2)})):J(e)?t?u=()=>dn(e,c,2):u=()=>{if(!(c&&c.isUnmounted))return g&&g(),Te(e,c,3,[E])}:u=Ee,t&&r){const U=u;u=()=>We(U())}let g,E=U=>{g=F.onStop=()=>{dn(U,c,4),g=F.onStop=void 0}},I;if(qi)if(E=Ee,t?n&&Te(t,c,3,[u(),f?[]:void 0,E]):u(),s==="sync"){const U=ym();I=U.__watcherHandles||(U.__watcherHandles=[])}else return Ee;let C=f?new Array(e.length).fill(Ks):Ks;const P=()=>{if(!(!F.active||!F.dirty))if(t){const U=F.run();(r||h||(f?U.some((ct,It)=>_n(ct,C[It])):_n(U,C)))&&(g&&g(),Te(t,c,3,[U,C===Ks?void 0:f&&C[0]===Ks?[]:C,E]),C=U)}else F.run()};P.allowRecurse=!!t;let M;s==="sync"?M=P:s==="post"?M=()=>oe(P,c&&c.suspense):(P.pre=!0,c&&(P.id=c.uid),M=()=>gl(P));const F=new ol(u,Ee,M),z=()=>{F.stop(),c&&c.scope&&sl(c.scope.effects,F)};return t?n?P():C=F.run():s==="post"?oe(F.run.bind(F),c&&c.suspense):F.run(),I&&I.push(z),z}function vm(e,t,n){const r=this.proxy,s=xt(e)?e.includes(".")?Tf(r,e):()=>r[e]:e.bind(r,r);let i;J(t)?i=t:(i=t.handler,n=t);const o=Lt;pr(this);const a=Ef(s,i.bind(r),n);return o?pr(o):Ln(),a}function Tf(e,t){const n=t.split(".");return()=>{let r=e;for(let s=0;s<n.length&&r;s++)r=r[n[s]];return r}}function We(e,t,n=0,r){if(!wt(e)||e.__v_skip)return e;if(t&&t>0){if(n>=t)return e;n++}if(r=r||new Set,r.has(e))return e;if(r.add(e),te(e))We(e.value,t,n,r);else if(K(e))for(let s=0;s<e.length;s++)We(e[s],t,n,r);else if(Uh(e)||sr(e))e.forEach(s=>{We(s,t,n,r)});else if(qh(e))for(const s in e)We(e[s],t,n,r);return e}function Em(e,t){const n=de;if(n===null)return e;const r=Hi(n)||n.proxy,s=e.dirs||(e.dirs=[]);for(let i=0;i<t.length;i++){let[o,a,l,c=vt]=t[i];o&&(J(o)&&(o={mounted:o,updated:o}),o.deep&&We(a),s.push({dir:o,instance:r,value:a,oldValue:void 0,arg:l,modifiers:c}))}return e}function Rn(e,t,n,r){const s=e.dirs,i=t&&t.dirs;for(let o=0;o<s.length;o++){const a=s[o];i&&(a.oldValue=i[o].value);let l=a.dir[r];l&&(Hn(),Te(l,n,8,[e.el,a,e,t]),zn())}}const on=Symbol("_leaveCb"),Gs=Symbol("_enterCb");function Tm(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Cf(()=>{e.isMounted=!0}),Sf(()=>{e.isUnmounting=!0}),e}const _e=[Function,Array],wf={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:_e,onEnter:_e,onAfterEnter:_e,onEnterCancelled:_e,onBeforeLeave:_e,onLeave:_e,onAfterLeave:_e,onLeaveCancelled:_e,onBeforeAppear:_e,onAppear:_e,onAfterAppear:_e,onAppearCancelled:_e},wm={name:"BaseTransition",props:wf,setup(e,{slots:t}){const n=o_(),r=Tm();let s;return()=>{const i=t.default&&Af(t.default(),!0);if(!i||!i.length)return;let o=i[0];if(i.length>1){for(const I of i)if(I.type!==Ce){o=I;break}}const a=ot(e),{mode:l}=a;if(r.isLeaving)return bo(o);const c=jc(o);if(!c)return bo(o);const u=ca(c,a,r,n);ua(c,u);const h=n.subTree,f=h&&jc(h);let g=!1;const{getTransitionKey:E}=c.type;if(E){const I=E();s===void 0?s=I:I!==s&&(s=I,g=!0)}if(f&&f.type!==Ce&&(!Dn(c,f)||g)){const I=ca(f,a,r,n);if(ua(f,I),l==="out-in")return r.isLeaving=!0,I.afterLeave=()=>{r.isLeaving=!1,n.update.active!==!1&&(n.effect.dirty=!0,n.update())},bo(o);l==="in-out"&&c.type!==Ce&&(I.delayLeave=(C,P,M)=>{const F=If(r,f);F[String(f.key)]=f,C[on]=()=>{P(),C[on]=void 0,delete u.delayedLeave},u.delayedLeave=M})}return o}}},Im=wm;function If(e,t){const{leavingVNodes:n}=e;let r=n.get(t.type);return r||(r=Object.create(null),n.set(t.type,r)),r}function ca(e,t,n,r){const{appear:s,mode:i,persisted:o=!1,onBeforeEnter:a,onEnter:l,onAfterEnter:c,onEnterCancelled:u,onBeforeLeave:h,onLeave:f,onAfterLeave:g,onLeaveCancelled:E,onBeforeAppear:I,onAppear:C,onAfterAppear:P,onAppearCancelled:M}=t,F=String(e.key),z=If(n,e),U=(X,yt)=>{X&&Te(X,r,9,yt)},ct=(X,yt)=>{const lt=yt[1];U(X,yt),K(X)?X.every(Nt=>Nt.length<=1)&&lt():X.length<=1&&lt()},It={mode:i,persisted:o,beforeEnter(X){let yt=a;if(!n.isMounted)if(s)yt=I||a;else return;X[on]&&X[on](!0);const lt=z[F];lt&&Dn(e,lt)&&lt.el[on]&&lt.el[on](),U(yt,[X])},enter(X){let yt=l,lt=c,Nt=u;if(!n.isMounted)if(s)yt=C||l,lt=P||c,Nt=M||u;else return;let B=!1;const dt=X[Gs]=ne=>{B||(B=!0,ne?U(Nt,[X]):U(lt,[X]),It.delayedLeave&&It.delayedLeave(),X[Gs]=void 0)};yt?ct(yt,[X,dt]):dt()},leave(X,yt){const lt=String(e.key);if(X[Gs]&&X[Gs](!0),n.isUnmounting)return yt();U(h,[X]);let Nt=!1;const B=X[on]=dt=>{Nt||(Nt=!0,yt(),dt?U(E,[X]):U(g,[X]),X[on]=void 0,z[lt]===e&&delete z[lt])};z[lt]=e,f?ct(f,[X,B]):B()},clone(X){return ca(X,t,n,r)}};return It}function bo(e){if(Bi(e))return e=yn(e),e.children=null,e}function jc(e){return Bi(e)?e.children?e.children[0]:void 0:e}function ua(e,t){e.shapeFlag&6&&e.component?ua(e.component.subTree,t):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function Af(e,t=!1,n){let r=[],s=0;for(let i=0;i<e.length;i++){let o=e[i];const a=n==null?o.key:String(n)+String(o.key!=null?o.key:i);o.type===fe?(o.patchFlag&128&&s++,r=r.concat(Af(o.children,t,a))):(t||o.type!==Ce)&&r.push(a!=null?yn(o,{key:a}):o)}if(s>1)for(let i=0;i<r.length;i++)r[i].patchFlag=-2;return r}/*! #__NO_SIDE_EFFECTS__ */function ce(e,t){return J(e)?Ot({name:e.name},t,{setup:e}):e}const ri=e=>!!e.type.__asyncLoader,Bi=e=>e.type.__isKeepAlive;function Am(e,t){Rf(e,"a",t)}function Rm(e,t){Rf(e,"da",t)}function Rf(e,t,n=Lt){const r=e.__wdc||(e.__wdc=()=>{let s=n;for(;s;){if(s.isDeactivated)return;s=s.parent}return e()});if(Ui(t,r,n),n){let s=n.parent;for(;s&&s.parent;)Bi(s.parent.vnode)&&Cm(r,t,n,s),s=s.parent}}function Cm(e,t,n,r){const s=Ui(t,e,r,!0);Pf(()=>{sl(r[t],s)},n)}function Ui(e,t,n=Lt,r=!1){if(n){const s=n[e]||(n[e]=[]),i=t.__weh||(t.__weh=(...o)=>{if(n.isUnmounted)return;Hn(),pr(n);const a=Te(t,n,e,o);return Ln(),zn(),a});return r?s.unshift(i):s.push(i),i}}const Ze=e=>(t,n=Lt)=>(!qi||e==="sp")&&Ui(e,(...r)=>t(...r),n),Sm=Ze("bm"),Cf=Ze("m"),Pm=Ze("bu"),bm=Ze("u"),Sf=Ze("bum"),Pf=Ze("um"),Vm=Ze("sp"),Dm=Ze("rtg"),xm=Ze("rtc");function Nm(e,t=Lt){Ui("ec",e,t)}function Om(e,t,n,r){let s;const i=n&&n[r];if(K(e)||xt(e)){s=new Array(e.length);for(let o=0,a=e.length;o<a;o++)s[o]=t(e[o],o,void 0,i&&i[o])}else if(typeof e=="number"){s=new Array(e);for(let o=0;o<e;o++)s[o]=t(o+1,o,void 0,i&&i[o])}else if(wt(e))if(e[Symbol.iterator])s=Array.from(e,(o,a)=>t(o,a,void 0,i&&i[a]));else{const o=Object.keys(e);s=new Array(o.length);for(let a=0,l=o.length;a<l;a++){const c=o[a];s[a]=t(e[c],c,a,i&&i[a])}}else s=[];return n&&(n[r]=s),s}const ha=e=>e?Uf(e)?Hi(e)||e.proxy:ha(e.parent):null,Qr=Ot(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>ha(e.parent),$root:e=>ha(e.root),$emit:e=>e.emit,$options:e=>vl(e),$forceUpdate:e=>e.f||(e.f=()=>{e.effect.dirty=!0,gl(e.update)}),$nextTick:e=>e.n||(e.n=pf.bind(e.proxy)),$watch:e=>vm.bind(e)}),Vo=(e,t)=>e!==vt&&!e.__isScriptSetup&&rt(e,t),km={get({_:e},t){const{ctx:n,setupState:r,data:s,props:i,accessCache:o,type:a,appContext:l}=e;let c;if(t[0]!=="$"){const g=o[t];if(g!==void 0)switch(g){case 1:return r[t];case 2:return s[t];case 4:return n[t];case 3:return i[t]}else{if(Vo(r,t))return o[t]=1,r[t];if(s!==vt&&rt(s,t))return o[t]=2,s[t];if((c=e.propsOptions[0])&&rt(c,t))return o[t]=3,i[t];if(n!==vt&&rt(n,t))return o[t]=4,n[t];fa&&(o[t]=0)}}const u=Qr[t];let h,f;if(u)return t==="$attrs"&&le(e,"get",t),u(e);if((h=a.__cssModules)&&(h=h[t]))return h;if(n!==vt&&rt(n,t))return o[t]=4,n[t];if(f=l.config.globalProperties,rt(f,t))return f[t]},set({_:e},t,n){const{data:r,setupState:s,ctx:i}=e;return Vo(s,t)?(s[t]=n,!0):r!==vt&&rt(r,t)?(r[t]=n,!0):rt(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(i[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:r,appContext:s,propsOptions:i}},o){let a;return!!n[o]||e!==vt&&rt(e,o)||Vo(t,o)||(a=i[0])&&rt(a,o)||rt(r,o)||rt(Qr,o)||rt(s.config.globalProperties,o)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:rt(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function qc(e){return K(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let fa=!0;function Mm(e){const t=vl(e),n=e.proxy,r=e.ctx;fa=!1,t.beforeCreate&&Hc(t.beforeCreate,e,"bc");const{data:s,computed:i,methods:o,watch:a,provide:l,inject:c,created:u,beforeMount:h,mounted:f,beforeUpdate:g,updated:E,activated:I,deactivated:C,beforeDestroy:P,beforeUnmount:M,destroyed:F,unmounted:z,render:U,renderTracked:ct,renderTriggered:It,errorCaptured:X,serverPrefetch:yt,expose:lt,inheritAttrs:Nt,components:B,directives:dt,filters:ne}=t;if(c&&Lm(c,r,null),o)for(const mt in o){const ut=o[mt];J(ut)&&(r[mt]=ut.bind(n))}if(s){const mt=s.call(n,n);wt(mt)&&(e.data=ki(mt))}if(fa=!0,i)for(const mt in i){const ut=i[mt],ze=J(ut)?ut.bind(n,n):J(ut.get)?ut.get.bind(n,n):Ee,tn=!J(ut)&&J(ut.set)?ut.set.bind(n):Ee,Ve=ye({get:ze,set:tn});Object.defineProperty(r,mt,{enumerable:!0,configurable:!0,get:()=>Ve.value,set:ie=>Ve.value=ie})}if(a)for(const mt in a)bf(a[mt],r,n,mt);if(l){const mt=J(l)?l.call(n):l;Reflect.ownKeys(mt).forEach(ut=>{si(ut,mt[ut])})}u&&Hc(u,e,"c");function Ct(mt,ut){K(ut)?ut.forEach(ze=>mt(ze.bind(n))):ut&&mt(ut.bind(n))}if(Ct(Sm,h),Ct(Cf,f),Ct(Pm,g),Ct(bm,E),Ct(Am,I),Ct(Rm,C),Ct(Nm,X),Ct(xm,ct),Ct(Dm,It),Ct(Sf,M),Ct(Pf,z),Ct(Vm,yt),K(lt))if(lt.length){const mt=e.exposed||(e.exposed={});lt.forEach(ut=>{Object.defineProperty(mt,ut,{get:()=>n[ut],set:ze=>n[ut]=ze})})}else e.exposed||(e.exposed={});U&&e.render===Ee&&(e.render=U),Nt!=null&&(e.inheritAttrs=Nt),B&&(e.components=B),dt&&(e.directives=dt)}function Lm(e,t,n=Ee){K(e)&&(e=da(e));for(const r in e){const s=e[r];let i;wt(s)?"default"in s?i=Re(s.from||r,s.default,!0):i=Re(s.from||r):i=Re(s),te(i)?Object.defineProperty(t,r,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):t[r]=i}}function Hc(e,t,n){Te(K(e)?e.map(r=>r.bind(t.proxy)):e.bind(t.proxy),t,n)}function bf(e,t,n,r){const s=r.includes(".")?Tf(n,r):()=>n[r];if(xt(e)){const i=t[e];J(i)&&Wr(s,i)}else if(J(e))Wr(s,e.bind(n));else if(wt(e))if(K(e))e.forEach(i=>bf(i,t,n,r));else{const i=J(e.handler)?e.handler.bind(n):t[e.handler];J(i)&&Wr(s,i,e)}}function vl(e){const t=e.type,{mixins:n,extends:r}=t,{mixins:s,optionsCache:i,config:{optionMergeStrategies:o}}=e.appContext,a=i.get(t);let l;return a?l=a:!s.length&&!n&&!r?l=t:(l={},s.length&&s.forEach(c=>fi(l,c,o,!0)),fi(l,t,o)),wt(t)&&i.set(t,l),l}function fi(e,t,n,r=!1){const{mixins:s,extends:i}=t;i&&fi(e,i,n,!0),s&&s.forEach(o=>fi(e,o,n,!0));for(const o in t)if(!(r&&o==="expose")){const a=Fm[o]||n&&n[o];e[o]=a?a(e[o],t[o]):t[o]}return e}const Fm={data:zc,props:Kc,emits:Kc,methods:jr,computed:jr,beforeCreate:re,created:re,beforeMount:re,mounted:re,beforeUpdate:re,updated:re,beforeDestroy:re,beforeUnmount:re,destroyed:re,unmounted:re,activated:re,deactivated:re,errorCaptured:re,serverPrefetch:re,components:jr,directives:jr,watch:Um,provide:zc,inject:Bm};function zc(e,t){return t?e?function(){return Ot(J(e)?e.call(this,this):e,J(t)?t.call(this,this):t)}:t:e}function Bm(e,t){return jr(da(e),da(t))}function da(e){if(K(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function re(e,t){return e?[...new Set([].concat(e,t))]:t}function jr(e,t){return e?Ot(Object.create(null),e,t):t}function Kc(e,t){return e?K(e)&&K(t)?[...new Set([...e,...t])]:Ot(Object.create(null),qc(e),qc(t??{})):t}function Um(e,t){if(!e)return t;if(!t)return e;const n=Ot(Object.create(null),e);for(const r in t)n[r]=re(e[r],t[r]);return n}function Vf(){return{app:null,config:{isNativeTag:yg,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let $m=0;function jm(e,t){return function(r,s=null){J(r)||(r=Ot({},r)),s!=null&&!wt(s)&&(s=null);const i=Vf(),o=new WeakSet;let a=!1;const l=i.app={_uid:$m++,_component:r,_props:s,_container:null,_context:i,_instance:null,version:d_,get config(){return i.config},set config(c){},use(c,...u){return o.has(c)||(c&&J(c.install)?(o.add(c),c.install(l,...u)):J(c)&&(o.add(c),c(l,...u))),l},mixin(c){return i.mixins.includes(c)||i.mixins.push(c),l},component(c,u){return u?(i.components[c]=u,l):i.components[c]},directive(c,u){return u?(i.directives[c]=u,l):i.directives[c]},mount(c,u,h){if(!a){const f=et(r,s);return f.appContext=i,h===!0?h="svg":h===!1&&(h=void 0),u&&t?t(f,c):e(f,c,h),a=!0,l._container=c,c.__vue_app__=l,Hi(f.component)||f.component.proxy}},unmount(){a&&(e(null,l._container),delete l._container.__vue_app__)},provide(c,u){return i.provides[c]=u,l},runWithContext(c){di=l;try{return c()}finally{di=null}}};return l}}let di=null;function si(e,t){if(Lt){let n=Lt.provides;const r=Lt.parent&&Lt.parent.provides;r===n&&(n=Lt.provides=Object.create(r)),n[e]=t}}function Re(e,t,n=!1){const r=Lt||de;if(r||di){const s=r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:di._context.provides;if(s&&e in s)return s[e];if(arguments.length>1)return n&&J(t)?t.call(r&&r.proxy):t}}function qm(e,t,n,r=!1){const s={},i={};ui(i,ji,1),e.propsDefaults=Object.create(null),Df(e,t,s,i);for(const o in e.propsOptions[0])o in s||(s[o]=void 0);n?e.props=r?s:of(s):e.type.props?e.props=s:e.props=i,e.attrs=i}function Hm(e,t,n,r){const{props:s,attrs:i,vnode:{patchFlag:o}}=e,a=ot(s),[l]=e.propsOptions;let c=!1;if((r||o>0)&&!(o&16)){if(o&8){const u=e.vnode.dynamicProps;for(let h=0;h<u.length;h++){let f=u[h];if(Li(e.emitsOptions,f))continue;const g=t[f];if(l)if(rt(i,f))g!==i[f]&&(i[f]=g,c=!0);else{const E=$e(f);s[E]=pa(l,a,E,g,e,!1)}else g!==i[f]&&(i[f]=g,c=!0)}}}else{Df(e,t,s,i)&&(c=!0);let u;for(const h in a)(!t||!rt(t,h)&&((u=Sr(h))===h||!rt(t,u)))&&(l?n&&(n[h]!==void 0||n[u]!==void 0)&&(s[h]=pa(l,a,h,void 0,e,!0)):delete s[h]);if(i!==a)for(const h in i)(!t||!rt(t,h))&&(delete i[h],c=!0)}c&&Ye(e,"set","$attrs")}function Df(e,t,n,r){const[s,i]=e.propsOptions;let o=!1,a;if(t)for(let l in t){if(ni(l))continue;const c=t[l];let u;s&&rt(s,u=$e(l))?!i||!i.includes(u)?n[u]=c:(a||(a={}))[u]=c:Li(e.emitsOptions,l)||(!(l in r)||c!==r[l])&&(r[l]=c,o=!0)}if(i){const l=ot(n),c=a||vt;for(let u=0;u<i.length;u++){const h=i[u];n[h]=pa(s,l,h,c[h],e,!rt(c,h))}}return o}function pa(e,t,n,r,s,i){const o=e[n];if(o!=null){const a=rt(o,"default");if(a&&r===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&J(l)){const{propsDefaults:c}=s;n in c?r=c[n]:(pr(s),r=c[n]=l.call(null,t),Ln())}else r=l}o[0]&&(i&&!a?r=!1:o[1]&&(r===""||r===Sr(n))&&(r=!0))}return r}function xf(e,t,n=!1){const r=t.propsCache,s=r.get(e);if(s)return s;const i=e.props,o={},a=[];let l=!1;if(!J(e)){const u=h=>{l=!0;const[f,g]=xf(h,t,!0);Ot(o,f),g&&a.push(...g)};!n&&t.mixins.length&&t.mixins.forEach(u),e.extends&&u(e.extends),e.mixins&&e.mixins.forEach(u)}if(!i&&!l)return wt(e)&&r.set(e,rr),rr;if(K(i))for(let u=0;u<i.length;u++){const h=$e(i[u]);Gc(h)&&(o[h]=vt)}else if(i)for(const u in i){const h=$e(u);if(Gc(h)){const f=i[u],g=o[h]=K(f)||J(f)?{type:f}:Ot({},f);if(g){const E=Yc(Boolean,g.type),I=Yc(String,g.type);g[0]=E>-1,g[1]=I<0||E<I,(E>-1||rt(g,"default"))&&a.push(h)}}}const c=[o,a];return wt(e)&&r.set(e,c),c}function Gc(e){return e[0]!=="$"}function Wc(e){const t=e&&e.toString().match(/^\s*(function|class) (\w+)/);return t?t[2]:e===null?"null":""}function Qc(e,t){return Wc(e)===Wc(t)}function Yc(e,t){return K(t)?t.findIndex(n=>Qc(n,e)):J(t)&&Qc(t,e)?0:-1}const Nf=e=>e[0]==="_"||e==="$stable",El=e=>K(e)?e.map(Oe):[Oe(e)],zm=(e,t,n)=>{if(t._n)return t;const r=Ie((...s)=>El(t(...s)),n);return r._c=!1,r},Of=(e,t,n)=>{const r=e._ctx;for(const s in e){if(Nf(s))continue;const i=e[s];if(J(i))t[s]=zm(s,i,r);else if(i!=null){const o=El(i);t[s]=()=>o}}},kf=(e,t)=>{const n=El(t);e.slots.default=()=>n},Km=(e,t)=>{if(e.vnode.shapeFlag&32){const n=t._;n?(e.slots=ot(t),ui(t,"_",n)):Of(t,e.slots={})}else e.slots={},t&&kf(e,t);ui(e.slots,ji,1)},Gm=(e,t,n)=>{const{vnode:r,slots:s}=e;let i=!0,o=vt;if(r.shapeFlag&32){const a=t._;a?n&&a===1?i=!1:(Ot(s,t),!n&&a===1&&delete s._):(i=!t.$stable,Of(t,s)),o=t}else t&&(kf(e,t),o={default:1});if(i)for(const a in s)!Nf(a)&&o[a]==null&&delete s[a]};function ga(e,t,n,r,s=!1){if(K(e)){e.forEach((f,g)=>ga(f,t&&(K(t)?t[g]:t),n,r,s));return}if(ri(r)&&!s)return;const i=r.shapeFlag&4?Hi(r.component)||r.component.proxy:r.el,o=s?null:i,{i:a,r:l}=e,c=t&&t.r,u=a.refs===vt?a.refs={}:a.refs,h=a.setupState;if(c!=null&&c!==l&&(xt(c)?(u[c]=null,rt(h,c)&&(h[c]=null)):te(c)&&(c.value=null)),J(l))dn(l,a,12,[o,u]);else{const f=xt(l),g=te(l);if(f||g){const E=()=>{if(e.f){const I=f?rt(h,l)?h[l]:u[l]:l.value;s?K(I)&&sl(I,i):K(I)?I.includes(i)||I.push(i):f?(u[l]=[i],rt(h,l)&&(h[l]=u[l])):(l.value=[i],e.k&&(u[e.k]=l.value))}else f?(u[l]=o,rt(h,l)&&(h[l]=o)):g&&(l.value=o,e.k&&(u[e.k]=o))};o?(E.id=-1,oe(E,n)):E()}}}const oe=mm;function Wm(e){return Qm(e)}function Qm(e,t){const n=Hh();n.__VUE__=!0;const{insert:r,remove:s,patchProp:i,createElement:o,createText:a,createComment:l,setText:c,setElementText:u,parentNode:h,nextSibling:f,setScopeId:g=Ee,insertStaticContent:E}=e,I=(d,p,m,_=null,v=null,T=null,x=void 0,S=null,b=!!p.dynamicChildren)=>{if(d===p)return;d&&!Dn(d,p)&&(_=y(d),ie(d,v,T,!0),d=null),p.patchFlag===-2&&(b=!1,p.dynamicChildren=null);const{type:A,ref:N,shapeFlag:H}=p;switch(A){case $i:C(d,p,m,_);break;case Ce:P(d,p,m,_);break;case xo:d==null&&M(p,m,_,x);break;case fe:B(d,p,m,_,v,T,x,S,b);break;default:H&1?U(d,p,m,_,v,T,x,S,b):H&6?dt(d,p,m,_,v,T,x,S,b):(H&64||H&128)&&A.process(d,p,m,_,v,T,x,S,b,V)}N!=null&&v&&ga(N,d&&d.ref,T,p||d,!p)},C=(d,p,m,_)=>{if(d==null)r(p.el=a(p.children),m,_);else{const v=p.el=d.el;p.children!==d.children&&c(v,p.children)}},P=(d,p,m,_)=>{d==null?r(p.el=l(p.children||""),m,_):p.el=d.el},M=(d,p,m,_)=>{[d.el,d.anchor]=E(d.children,p,m,_,d.el,d.anchor)},F=({el:d,anchor:p},m,_)=>{let v;for(;d&&d!==p;)v=f(d),r(d,m,_),d=v;r(p,m,_)},z=({el:d,anchor:p})=>{let m;for(;d&&d!==p;)m=f(d),s(d),d=m;s(p)},U=(d,p,m,_,v,T,x,S,b)=>{p.type==="svg"?x="svg":p.type==="math"&&(x="mathml"),d==null?ct(p,m,_,v,T,x,S,b):yt(d,p,v,T,x,S,b)},ct=(d,p,m,_,v,T,x,S)=>{let b,A;const{props:N,shapeFlag:H,transition:j,dirs:W}=d;if(b=d.el=o(d.type,T,N&&N.is,N),H&8?u(b,d.children):H&16&&X(d.children,b,null,_,v,Do(d,T),x,S),W&&Rn(d,null,_,"created"),It(b,d,d.scopeId,x,_),N){for(const _t in N)_t!=="value"&&!ni(_t)&&i(b,_t,null,N[_t],T,d.children,_,v,zt);"value"in N&&i(b,"value",null,N.value,T),(A=N.onVnodeBeforeMount)&&xe(A,_,d)}W&&Rn(d,null,_,"beforeMount");const tt=Ym(v,j);tt&&j.beforeEnter(b),r(b,p,m),((A=N&&N.onVnodeMounted)||tt||W)&&oe(()=>{A&&xe(A,_,d),tt&&j.enter(b),W&&Rn(d,null,_,"mounted")},v)},It=(d,p,m,_,v)=>{if(m&&g(d,m),_)for(let T=0;T<_.length;T++)g(d,_[T]);if(v){let T=v.subTree;if(p===T){const x=v.vnode;It(d,x,x.scopeId,x.slotScopeIds,v.parent)}}},X=(d,p,m,_,v,T,x,S,b=0)=>{for(let A=b;A<d.length;A++){const N=d[A]=S?an(d[A]):Oe(d[A]);I(null,N,p,m,_,v,T,x,S)}},yt=(d,p,m,_,v,T,x)=>{const S=p.el=d.el;let{patchFlag:b,dynamicChildren:A,dirs:N}=p;b|=d.patchFlag&16;const H=d.props||vt,j=p.props||vt;let W;if(m&&Cn(m,!1),(W=j.onVnodeBeforeUpdate)&&xe(W,m,p,d),N&&Rn(p,d,m,"beforeUpdate"),m&&Cn(m,!0),A?lt(d.dynamicChildren,A,S,m,_,Do(p,v),T):x||ut(d,p,S,null,m,_,Do(p,v),T,!1),b>0){if(b&16)Nt(S,p,H,j,m,_,v);else if(b&2&&H.class!==j.class&&i(S,"class",null,j.class,v),b&4&&i(S,"style",H.style,j.style,v),b&8){const tt=p.dynamicProps;for(let _t=0;_t<tt.length;_t++){const At=tt[_t],kt=H[At],we=j[At];(we!==kt||At==="value")&&i(S,At,kt,we,v,d.children,m,_,zt)}}b&1&&d.children!==p.children&&u(S,p.children)}else!x&&A==null&&Nt(S,p,H,j,m,_,v);((W=j.onVnodeUpdated)||N)&&oe(()=>{W&&xe(W,m,p,d),N&&Rn(p,d,m,"updated")},_)},lt=(d,p,m,_,v,T,x)=>{for(let S=0;S<p.length;S++){const b=d[S],A=p[S],N=b.el&&(b.type===fe||!Dn(b,A)||b.shapeFlag&70)?h(b.el):m;I(b,A,N,null,_,v,T,x,!0)}},Nt=(d,p,m,_,v,T,x)=>{if(m!==_){if(m!==vt)for(const S in m)!ni(S)&&!(S in _)&&i(d,S,m[S],null,x,p.children,v,T,zt);for(const S in _){if(ni(S))continue;const b=_[S],A=m[S];b!==A&&S!=="value"&&i(d,S,A,b,x,p.children,v,T,zt)}"value"in _&&i(d,"value",m.value,_.value,x)}},B=(d,p,m,_,v,T,x,S,b)=>{const A=p.el=d?d.el:a(""),N=p.anchor=d?d.anchor:a("");let{patchFlag:H,dynamicChildren:j,slotScopeIds:W}=p;W&&(S=S?S.concat(W):W),d==null?(r(A,m,_),r(N,m,_),X(p.children,m,N,v,T,x,S,b)):H>0&&H&64&&j&&d.dynamicChildren?(lt(d.dynamicChildren,j,m,v,T,x,S),(p.key!=null||v&&p===v.subTree)&&Mf(d,p,!0)):ut(d,p,m,N,v,T,x,S,b)},dt=(d,p,m,_,v,T,x,S,b)=>{p.slotScopeIds=S,d==null?p.shapeFlag&512?v.ctx.activate(p,m,_,x,b):ne(p,m,_,v,T,x,b):He(d,p,b)},ne=(d,p,m,_,v,T,x)=>{const S=d.component=i_(d,_,v);if(Bi(d)&&(S.ctx.renderer=V),a_(S),S.asyncDep){if(v&&v.registerDep(S,Ct),!d.el){const b=S.subTree=et(Ce);P(null,b,p,m)}}else Ct(S,d,p,m,v,T,x)},He=(d,p,m)=>{const _=p.component=d.component;if(hm(d,p,m))if(_.asyncDep&&!_.asyncResolved){mt(_,p,m);return}else _.next=p,im(_.update),_.effect.dirty=!0,_.update();else p.el=d.el,_.vnode=p},Ct=(d,p,m,_,v,T,x)=>{const S=()=>{if(d.isMounted){let{next:N,bu:H,u:j,parent:W,vnode:tt}=d;{const Qn=Lf(d);if(Qn){N&&(N.el=tt.el,mt(d,N,x)),Qn.asyncDep.then(()=>{d.isUnmounted||S()});return}}let _t=N,At;Cn(d,!1),N?(N.el=tt.el,mt(d,N,x)):N=tt,H&&Ro(H),(At=N.props&&N.props.onVnodeBeforeUpdate)&&xe(At,W,N,tt),Cn(d,!0);const kt=Po(d),we=d.subTree;d.subTree=kt,I(we,kt,h(we.el),y(we),d,v,T),N.el=kt.el,_t===null&&fm(d,kt.el),j&&oe(j,v),(At=N.props&&N.props.onVnodeUpdated)&&oe(()=>xe(At,W,N,tt),v)}else{let N;const{el:H,props:j}=p,{bm:W,m:tt,parent:_t}=d,At=ri(p);if(Cn(d,!1),W&&Ro(W),!At&&(N=j&&j.onVnodeBeforeMount)&&xe(N,_t,p),Cn(d,!0),H&&ht){const kt=()=>{d.subTree=Po(d),ht(H,d.subTree,d,v,null)};At?p.type.__asyncLoader().then(()=>!d.isUnmounted&&kt()):kt()}else{const kt=d.subTree=Po(d);I(null,kt,m,_,d,v,T),p.el=kt.el}if(tt&&oe(tt,v),!At&&(N=j&&j.onVnodeMounted)){const kt=p;oe(()=>xe(N,_t,kt),v)}(p.shapeFlag&256||_t&&ri(_t.vnode)&&_t.vnode.shapeFlag&256)&&d.a&&oe(d.a,v),d.isMounted=!0,p=m=_=null}},b=d.effect=new ol(S,Ee,()=>gl(A),d.scope),A=d.update=()=>{b.dirty&&b.run()};A.id=d.uid,Cn(d,!0),A()},mt=(d,p,m)=>{p.component=d;const _=d.vnode.props;d.vnode=p,d.next=null,Hm(d,p.props,_,m),Gm(d,p.children,m),Hn(),Bc(d),zn()},ut=(d,p,m,_,v,T,x,S,b=!1)=>{const A=d&&d.children,N=d?d.shapeFlag:0,H=p.children,{patchFlag:j,shapeFlag:W}=p;if(j>0){if(j&128){tn(A,H,m,_,v,T,x,S,b);return}else if(j&256){ze(A,H,m,_,v,T,x,S,b);return}}W&8?(N&16&&zt(A,v,T),H!==A&&u(m,H)):N&16?W&16?tn(A,H,m,_,v,T,x,S,b):zt(A,v,T,!0):(N&8&&u(m,""),W&16&&X(H,m,_,v,T,x,S,b))},ze=(d,p,m,_,v,T,x,S,b)=>{d=d||rr,p=p||rr;const A=d.length,N=p.length,H=Math.min(A,N);let j;for(j=0;j<H;j++){const W=p[j]=b?an(p[j]):Oe(p[j]);I(d[j],W,m,null,v,T,x,S,b)}A>N?zt(d,v,T,!0,!1,H):X(p,m,_,v,T,x,S,b,H)},tn=(d,p,m,_,v,T,x,S,b)=>{let A=0;const N=p.length;let H=d.length-1,j=N-1;for(;A<=H&&A<=j;){const W=d[A],tt=p[A]=b?an(p[A]):Oe(p[A]);if(Dn(W,tt))I(W,tt,m,null,v,T,x,S,b);else break;A++}for(;A<=H&&A<=j;){const W=d[H],tt=p[j]=b?an(p[j]):Oe(p[j]);if(Dn(W,tt))I(W,tt,m,null,v,T,x,S,b);else break;H--,j--}if(A>H){if(A<=j){const W=j+1,tt=W<N?p[W].el:_;for(;A<=j;)I(null,p[A]=b?an(p[A]):Oe(p[A]),m,tt,v,T,x,S,b),A++}}else if(A>j)for(;A<=H;)ie(d[A],v,T,!0),A++;else{const W=A,tt=A,_t=new Map;for(A=tt;A<=j;A++){const ue=p[A]=b?an(p[A]):Oe(p[A]);ue.key!=null&&_t.set(ue.key,A)}let At,kt=0;const we=j-tt+1;let Qn=!1,Pc=0;const kr=new Array(we);for(A=0;A<we;A++)kr[A]=0;for(A=W;A<=H;A++){const ue=d[A];if(kt>=we){ie(ue,v,T,!0);continue}let De;if(ue.key!=null)De=_t.get(ue.key);else for(At=tt;At<=j;At++)if(kr[At-tt]===0&&Dn(ue,p[At])){De=At;break}De===void 0?ie(ue,v,T,!0):(kr[De-tt]=A+1,De>=Pc?Pc=De:Qn=!0,I(ue,p[De],m,null,v,T,x,S,b),kt++)}const bc=Qn?Xm(kr):rr;for(At=bc.length-1,A=we-1;A>=0;A--){const ue=tt+A,De=p[ue],Vc=ue+1<N?p[ue+1].el:_;kr[A]===0?I(null,De,m,Vc,v,T,x,S,b):Qn&&(At<0||A!==bc[At]?Ve(De,m,Vc,2):At--)}}},Ve=(d,p,m,_,v=null)=>{const{el:T,type:x,transition:S,children:b,shapeFlag:A}=d;if(A&6){Ve(d.component.subTree,p,m,_);return}if(A&128){d.suspense.move(p,m,_);return}if(A&64){x.move(d,p,m,V);return}if(x===fe){r(T,p,m);for(let H=0;H<b.length;H++)Ve(b[H],p,m,_);r(d.anchor,p,m);return}if(x===xo){F(d,p,m);return}if(_!==2&&A&1&&S)if(_===0)S.beforeEnter(T),r(T,p,m),oe(()=>S.enter(T),v);else{const{leave:H,delayLeave:j,afterLeave:W}=S,tt=()=>r(T,p,m),_t=()=>{H(T,()=>{tt(),W&&W()})};j?j(T,tt,_t):_t()}else r(T,p,m)},ie=(d,p,m,_=!1,v=!1)=>{const{type:T,props:x,ref:S,children:b,dynamicChildren:A,shapeFlag:N,patchFlag:H,dirs:j}=d;if(S!=null&&ga(S,null,m,d,!0),N&256){p.ctx.deactivate(d);return}const W=N&1&&j,tt=!ri(d);let _t;if(tt&&(_t=x&&x.onVnodeBeforeUnmount)&&xe(_t,p,d),N&6)Us(d.component,m,_);else{if(N&128){d.suspense.unmount(m,_);return}W&&Rn(d,null,p,"beforeUnmount"),N&64?d.type.remove(d,p,m,v,V,_):A&&(T!==fe||H>0&&H&64)?zt(A,p,m,!1,!0):(T===fe&&H&384||!v&&N&16)&&zt(b,p,m),_&&Gn(d)}(tt&&(_t=x&&x.onVnodeUnmounted)||W)&&oe(()=>{_t&&xe(_t,p,d),W&&Rn(d,null,p,"unmounted")},m)},Gn=d=>{const{type:p,el:m,anchor:_,transition:v}=d;if(p===fe){Wn(m,_);return}if(p===xo){z(d);return}const T=()=>{s(m),v&&!v.persisted&&v.afterLeave&&v.afterLeave()};if(d.shapeFlag&1&&v&&!v.persisted){const{leave:x,delayLeave:S}=v,b=()=>x(m,T);S?S(d.el,T,b):b()}else T()},Wn=(d,p)=>{let m;for(;d!==p;)m=f(d),s(d),d=m;s(p)},Us=(d,p,m)=>{const{bum:_,scope:v,update:T,subTree:x,um:S}=d;_&&Ro(_),v.stop(),T&&(T.active=!1,ie(x,d,p,m)),S&&oe(S,p),oe(()=>{d.isUnmounted=!0},p),p&&p.pendingBranch&&!p.isUnmounted&&d.asyncDep&&!d.asyncResolved&&d.suspenseId===p.pendingId&&(p.deps--,p.deps===0&&p.resolve())},zt=(d,p,m,_=!1,v=!1,T=0)=>{for(let x=T;x<d.length;x++)ie(d[x],p,m,_,v)},y=d=>d.shapeFlag&6?y(d.component.subTree):d.shapeFlag&128?d.suspense.next():f(d.anchor||d.el),O=(d,p,m)=>{d==null?p._vnode&&ie(p._vnode,null,null,!0):I(p._vnode||null,d,p,null,null,null,m),Bc(),mf(),p._vnode=d},V={p:I,um:ie,m:Ve,r:Gn,mt:ne,mc:X,pc:ut,pbc:lt,n:y,o:e};let $,ht;return t&&([$,ht]=t(V)),{render:O,hydrate:$,createApp:jm(O,$)}}function Do({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function Cn({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function Ym(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function Mf(e,t,n=!1){const r=e.children,s=t.children;if(K(r)&&K(s))for(let i=0;i<r.length;i++){const o=r[i];let a=s[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=s[i]=an(s[i]),a.el=o.el),n||Mf(o,a)),a.type===$i&&(a.el=o.el)}}function Xm(e){const t=e.slice(),n=[0];let r,s,i,o,a;const l=e.length;for(r=0;r<l;r++){const c=e[r];if(c!==0){if(s=n[n.length-1],e[s]<c){t[r]=s,n.push(r);continue}for(i=0,o=n.length-1;i<o;)a=i+o>>1,e[n[a]]<c?i=a+1:o=a;c<e[n[i]]&&(i>0&&(t[r]=n[i-1]),n[i]=r)}}for(i=n.length,o=n[i-1];i-- >0;)n[i]=o,o=t[o];return n}function Lf(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:Lf(t)}const Jm=e=>e.__isTeleport,fe=Symbol.for("v-fgt"),$i=Symbol.for("v-txt"),Ce=Symbol.for("v-cmt"),xo=Symbol.for("v-stc"),Yr=[];let Ae=null;function Xt(e=!1){Yr.push(Ae=e?null:[])}function Zm(){Yr.pop(),Ae=Yr[Yr.length-1]||null}let as=1;function Xc(e){as+=e}function Ff(e){return e.dynamicChildren=as>0?Ae||rr:null,Zm(),as>0&&Ae&&Ae.push(e),e}function pe(e,t,n,r,s,i){return Ff(Y(e,t,n,r,s,i,!0))}function Tl(e,t,n,r,s){return Ff(et(e,t,n,r,s,!0))}function ma(e){return e?e.__v_isVNode===!0:!1}function Dn(e,t){return e.type===t.type&&e.key===t.key}const ji="__vInternal",Bf=({key:e})=>e??null,ii=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?xt(e)||te(e)||J(e)?{i:de,r:e,k:t,f:!!n}:e:null);function Y(e,t=null,n=null,r=0,s=null,i=e===fe?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Bf(t),ref:t&&ii(t),scopeId:Fi,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:r,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:de};return a?(wl(l,n),i&128&&e.normalize(l)):n&&(l.shapeFlag|=xt(n)?8:16),as>0&&!o&&Ae&&(l.patchFlag>0||i&6)&&l.patchFlag!==32&&Ae.push(l),l}const et=t_;function t_(e,t=null,n=null,r=0,s=null,i=!1){if((!e||e===dm)&&(e=Ce),ma(e)){const a=yn(e,t,!0);return n&&wl(a,n),as>0&&!i&&Ae&&(a.shapeFlag&6?Ae[Ae.indexOf(e)]=a:Ae.push(a)),a.patchFlag|=-2,a}if(f_(e)&&(e=e.__vccOpts),t){t=e_(t);let{class:a,style:l}=t;a&&!xt(a)&&(t.class=Ni(a)),wt(l)&&(af(l)&&!K(l)&&(l=Ot({},l)),t.style=je(l))}const o=xt(e)?1:gm(e)?128:Jm(e)?64:wt(e)?4:J(e)?2:0;return Y(e,t,n,r,s,o,i,!0)}function e_(e){return e?af(e)||ji in e?Ot({},e):e:null}function yn(e,t,n=!1){const{props:r,ref:s,patchFlag:i,children:o}=e,a=t?n_(r||{},t):r;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:a,key:a&&Bf(a),ref:t&&t.ref?n&&s?K(s)?s.concat(ii(t)):[s,ii(t)]:ii(t):s,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:o,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==fe?i===-1?16:i|16:i,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&yn(e.ssContent),ssFallback:e.ssFallback&&yn(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce}}function Ne(e=" ",t=0){return et($i,null,e,t)}function vA(e="",t=!1){return t?(Xt(),Tl(Ce,null,e)):et(Ce,null,e)}function Oe(e){return e==null||typeof e=="boolean"?et(Ce):K(e)?et(fe,null,e.slice()):typeof e=="object"?an(e):et($i,null,String(e))}function an(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:yn(e)}function wl(e,t){let n=0;const{shapeFlag:r}=e;if(t==null)t=null;else if(K(t))n=16;else if(typeof t=="object")if(r&65){const s=t.default;s&&(s._c&&(s._d=!1),wl(e,s()),s._c&&(s._d=!0));return}else{n=32;const s=t._;!s&&!(ji in t)?t._ctx=de:s===3&&de&&(de.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else J(t)?(t={default:t,_ctx:de},n=32):(t=String(t),r&64?(n=16,t=[Ne(t)]):n=8);e.children=t,e.shapeFlag|=n}function n_(...e){const t={};for(let n=0;n<e.length;n++){const r=e[n];for(const s in r)if(s==="class")t.class!==r.class&&(t.class=Ni([t.class,r.class]));else if(s==="style")t.style=je([t.style,r.style]);else if(bi(s)){const i=t[s],o=r[s];o&&i!==o&&!(K(i)&&i.includes(o))&&(t[s]=i?[].concat(i,o):o)}else s!==""&&(t[s]=r[s])}return t}function xe(e,t,n,r=null){Te(e,t,7,[n,r])}const r_=Vf();let s_=0;function i_(e,t,n){const r=e.type,s=(t?t.appContext:e.appContext)||r_,i={uid:s_++,vnode:e,type:r,parent:t,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,scope:new Dg(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(s.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:xf(r,s),emitsOptions:yf(r,s),emit:null,emitted:null,propsDefaults:vt,inheritAttrs:r.inheritAttrs,ctx:vt,data:vt,props:vt,attrs:vt,slots:vt,refs:vt,setupState:vt,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=t?t.root:i,i.emit=lm.bind(null,i),e.ce&&e.ce(i),i}let Lt=null;const o_=()=>Lt||de;let Il,_a;{const e=Hh(),t=(n,r)=>{let s;return(s=e[n])||(s=e[n]=[]),s.push(r),i=>{s.length>1?s.forEach(o=>o(i)):s[0](i)}};Il=t("__VUE_INSTANCE_SETTERS__",n=>Lt=n),_a=t("__VUE_SSR_SETTERS__",n=>qi=n)}const pr=e=>{Il(e),e.scope.on()},Ln=()=>{Lt&&Lt.scope.off(),Il(null)};function Uf(e){return e.vnode.shapeFlag&4}let qi=!1;function a_(e,t=!1){t&&_a(t);const{props:n,children:r}=e.vnode,s=Uf(e);qm(e,n,s,t),Km(e,r);const i=s?l_(e,t):void 0;return t&&_a(!1),i}function l_(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=lf(new Proxy(e.ctx,km));const{setup:r}=n;if(r){const s=e.setupContext=r.length>1?u_(e):null;pr(e),Hn();const i=dn(r,e,0,[e.props,s]);if(zn(),Ln(),$h(i)){if(i.then(Ln,Ln),t)return i.then(o=>{Jc(e,o,t)}).catch(o=>{Mi(o,e,0)});e.asyncDep=i}else Jc(e,i,t)}else $f(e,t)}function Jc(e,t,n){J(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:wt(t)&&(e.setupState=ff(t)),$f(e,n)}let Zc;function $f(e,t,n){const r=e.type;if(!e.render){if(!t&&Zc&&!r.render){const s=r.template||vl(e).template;if(s){const{isCustomElement:i,compilerOptions:o}=e.appContext.config,{delimiters:a,compilerOptions:l}=r,c=Ot(Ot({isCustomElement:i,delimiters:a},o),l);r.render=Zc(s,c)}}e.render=r.render||Ee}{pr(e),Hn();try{Mm(e)}finally{zn(),Ln()}}}function c_(e){return e.attrsProxy||(e.attrsProxy=new Proxy(e.attrs,{get(t,n){return le(e,"get","$attrs"),t[n]}}))}function u_(e){const t=n=>{e.exposed=n||{}};return{get attrs(){return c_(e)},slots:e.slots,emit:e.emit,expose:t}}function Hi(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(ff(lf(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in Qr)return Qr[n](e)},has(t,n){return n in t||n in Qr}}))}function h_(e,t=!0){return J(e)?e.displayName||e.name:e.name||t&&e.__name}function f_(e){return J(e)&&"__vccOpts"in e}const ye=(e,t)=>Zg(e,t,qi);function Al(e,t,n){const r=arguments.length;return r===2?wt(t)&&!K(t)?ma(t)?et(e,null,[t]):et(e,t):et(e,null,t):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&ma(n)&&(n=[n]),et(e,t,n))}const d_="3.4.3",p_="http://www.w3.org/2000/svg",g_="http://www.w3.org/1998/Math/MathML",ln=typeof document<"u"?document:null,tu=ln&&ln.createElement("template"),m_={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{const s=t==="svg"?ln.createElementNS(p_,e):t==="mathml"?ln.createElementNS(g_,e):ln.createElement(e,n?{is:n}:void 0);return e==="select"&&r&&r.multiple!=null&&s.setAttribute("multiple",r.multiple),s},createText:e=>ln.createTextNode(e),createComment:e=>ln.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>ln.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,r,s,i){const o=n?n.previousSibling:t.lastChild;if(s&&(s===i||s.nextSibling))for(;t.insertBefore(s.cloneNode(!0),n),!(s===i||!(s=s.nextSibling)););else{tu.innerHTML=r==="svg"?`<svg>${e}</svg>`:r==="mathml"?`<math>${e}</math>`:e;const a=tu.content;if(r==="svg"||r==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}t.insertBefore(a,n)}return[o?o.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},nn="transition",Mr="animation",ls=Symbol("_vtc"),Rl=(e,{slots:t})=>Al(Im,__(e),t);Rl.displayName="Transition";const jf={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};Rl.props=Ot({},wf,jf);const Sn=(e,t=[])=>{K(e)?e.forEach(n=>n(...t)):e&&e(...t)},eu=e=>e?K(e)?e.some(t=>t.length>1):e.length>1:!1;function __(e){const t={};for(const B in e)B in jf||(t[B]=e[B]);if(e.css===!1)return t;const{name:n="v",type:r,duration:s,enterFromClass:i=`${n}-enter-from`,enterActiveClass:o=`${n}-enter-active`,enterToClass:a=`${n}-enter-to`,appearFromClass:l=i,appearActiveClass:c=o,appearToClass:u=a,leaveFromClass:h=`${n}-leave-from`,leaveActiveClass:f=`${n}-leave-active`,leaveToClass:g=`${n}-leave-to`}=e,E=y_(s),I=E&&E[0],C=E&&E[1],{onBeforeEnter:P,onEnter:M,onEnterCancelled:F,onLeave:z,onLeaveCancelled:U,onBeforeAppear:ct=P,onAppear:It=M,onAppearCancelled:X=F}=t,yt=(B,dt,ne)=>{Pn(B,dt?u:a),Pn(B,dt?c:o),ne&&ne()},lt=(B,dt)=>{B._isLeaving=!1,Pn(B,h),Pn(B,g),Pn(B,f),dt&&dt()},Nt=B=>(dt,ne)=>{const He=B?It:M,Ct=()=>yt(dt,B,ne);Sn(He,[dt,Ct]),nu(()=>{Pn(dt,B?l:i),rn(dt,B?u:a),eu(He)||ru(dt,r,I,Ct)})};return Ot(t,{onBeforeEnter(B){Sn(P,[B]),rn(B,i),rn(B,o)},onBeforeAppear(B){Sn(ct,[B]),rn(B,l),rn(B,c)},onEnter:Nt(!1),onAppear:Nt(!0),onLeave(B,dt){B._isLeaving=!0;const ne=()=>lt(B,dt);rn(B,h),T_(),rn(B,f),nu(()=>{B._isLeaving&&(Pn(B,h),rn(B,g),eu(z)||ru(B,r,C,ne))}),Sn(z,[B,ne])},onEnterCancelled(B){yt(B,!1),Sn(F,[B])},onAppearCancelled(B){yt(B,!0),Sn(X,[B])},onLeaveCancelled(B){lt(B),Sn(U,[B])}})}function y_(e){if(e==null)return null;if(wt(e))return[No(e.enter),No(e.leave)];{const t=No(e);return[t,t]}}function No(e){return Ag(e)}function rn(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.add(n)),(e[ls]||(e[ls]=new Set)).add(t)}function Pn(e,t){t.split(/\s+/).forEach(r=>r&&e.classList.remove(r));const n=e[ls];n&&(n.delete(t),n.size||(e[ls]=void 0))}function nu(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let v_=0;function ru(e,t,n,r){const s=e._endId=++v_,i=()=>{s===e._endId&&r()};if(n)return setTimeout(i,n);const{type:o,timeout:a,propCount:l}=E_(e,t);if(!o)return r();const c=o+"end";let u=0;const h=()=>{e.removeEventListener(c,f),i()},f=g=>{g.target===e&&++u>=l&&h()};setTimeout(()=>{u<l&&h()},a+1),e.addEventListener(c,f)}function E_(e,t){const n=window.getComputedStyle(e),r=E=>(n[E]||"").split(", "),s=r(`${nn}Delay`),i=r(`${nn}Duration`),o=su(s,i),a=r(`${Mr}Delay`),l=r(`${Mr}Duration`),c=su(a,l);let u=null,h=0,f=0;t===nn?o>0&&(u=nn,h=o,f=i.length):t===Mr?c>0&&(u=Mr,h=c,f=l.length):(h=Math.max(o,c),u=h>0?o>c?nn:Mr:null,f=u?u===nn?i.length:l.length:0);const g=u===nn&&/\b(transform|all)(,|$)/.test(r(`${nn}Property`).toString());return{type:u,timeout:h,propCount:f,hasTransform:g}}function su(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((n,r)=>iu(n)+iu(e[r])))}function iu(e){return e==="auto"?0:Number(e.slice(0,-1).replace(",","."))*1e3}function T_(){return document.body.offsetHeight}function w_(e,t,n){const r=e[ls];r&&(t=(t?[t,...r]:[...r]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const Cl=Symbol("_vod"),I_={beforeMount(e,{value:t},{transition:n}){e[Cl]=e.style.display==="none"?"":e.style.display,n&&t?n.beforeEnter(e):Lr(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:r}){!t!=!n&&(r?t?(r.beforeEnter(e),Lr(e,!0),r.enter(e)):r.leave(e,()=>{Lr(e,!1)}):Lr(e,t))},beforeUnmount(e,{value:t}){Lr(e,t)}};function Lr(e,t){e.style.display=t?e[Cl]:"none"}const A_=Symbol("");function R_(e,t,n){const r=e.style,s=xt(n);if(n&&!s){if(t&&!xt(t))for(const i in t)n[i]==null&&ya(r,i,"");for(const i in n)ya(r,i,n[i])}else{const i=r.display;if(s){if(t!==n){const o=r[A_];o&&(n+=";"+o),r.cssText=n}}else t&&e.removeAttribute("style");Cl in e&&(r.display=i)}}const ou=/\s*!important$/;function ya(e,t,n){if(K(n))n.forEach(r=>ya(e,t,r));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const r=C_(e,t);ou.test(n)?e.setProperty(Sr(r),n.replace(ou,""),"important"):e[r]=n}}const au=["Webkit","Moz","ms"],Oo={};function C_(e,t){const n=Oo[t];if(n)return n;let r=$e(t);if(r!=="filter"&&r in e)return Oo[t]=r;r=xi(r);for(let s=0;s<au.length;s++){const i=au[s]+r;if(i in e)return Oo[t]=i}return t}const lu="http://www.w3.org/1999/xlink";function S_(e,t,n,r,s){if(r&&t.startsWith("xlink:"))n==null?e.removeAttributeNS(lu,t.slice(6,t.length)):e.setAttributeNS(lu,t,n);else{const i=Vg(t);n==null||i&&!zh(n)?e.removeAttribute(t):e.setAttribute(t,i?"":n)}}function P_(e,t,n,r,s,i,o){if(t==="innerHTML"||t==="textContent"){r&&o(r,s,i),e[t]=n??"";return}const a=e.tagName;if(t==="value"&&a!=="PROGRESS"&&!a.includes("-")){e._value=n;const c=a==="OPTION"?e.getAttribute("value"):e.value,u=n??"";c!==u&&(e.value=u),n==null&&e.removeAttribute(t);return}let l=!1;if(n===""||n==null){const c=typeof e[t];c==="boolean"?n=zh(n):n==null&&c==="string"?(n="",l=!0):c==="number"&&(n=0,l=!0)}try{e[t]=n}catch{}l&&e.removeAttribute(t)}function b_(e,t,n,r){e.addEventListener(t,n,r)}function V_(e,t,n,r){e.removeEventListener(t,n,r)}const cu=Symbol("_vei");function D_(e,t,n,r,s=null){const i=e[cu]||(e[cu]={}),o=i[t];if(r&&o)o.value=r;else{const[a,l]=x_(t);if(r){const c=i[t]=k_(r,s);b_(e,a,c,l)}else o&&(V_(e,a,o,l),i[t]=void 0)}}const uu=/(?:Once|Passive|Capture)$/;function x_(e){let t;if(uu.test(e)){t={};let r;for(;r=e.match(uu);)e=e.slice(0,e.length-r[0].length),t[r[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Sr(e.slice(2)),t]}let ko=0;const N_=Promise.resolve(),O_=()=>ko||(N_.then(()=>ko=0),ko=Date.now());function k_(e,t){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;Te(M_(r,n.value),t,5,[r])};return n.value=e,n.attached=O_(),n}function M_(e,t){if(K(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(r=>s=>!s._stopped&&r&&r(s))}else return t}const hu=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,L_=(e,t,n,r,s,i,o,a,l)=>{const c=s==="svg";t==="class"?w_(e,r,c):t==="style"?R_(e,n,r):bi(t)?rl(t)||D_(e,t,n,r,o):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):F_(e,t,r,c))?P_(e,t,r,i,o,a,l):(t==="true-value"?e._trueValue=r:t==="false-value"&&(e._falseValue=r),S_(e,t,r,c))};function F_(e,t,n,r){if(r)return!!(t==="innerHTML"||t==="textContent"||t in e&&hu(t)&&J(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const s=e.tagName;if(s==="IMG"||s==="VIDEO"||s==="CANVAS"||s==="SOURCE")return!1}return hu(t)&&xt(n)?!1:t in e}const B_=Ot({patchProp:L_},m_);let fu;function U_(){return fu||(fu=Wm(B_))}const $_=(...e)=>{const t=U_().createApp(...e),{mount:n}=t;return t.mount=r=>{const s=q_(r);if(!s)return;const i=t._component;!J(i)&&!i.render&&!i.template&&(i.template=s.innerHTML),s.innerHTML="";const o=n(s,!1,j_(s));return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),o},t};function j_(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function q_(e){return xt(e)?document.querySelector(e):e}/*!
  * vue-router v4.2.5
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */const Xn=typeof window<"u";function H_(e){return e.__esModule||e[Symbol.toStringTag]==="Module"}const pt=Object.assign;function Mo(e,t){const n={};for(const r in t){const s=t[r];n[r]=Se(s)?s.map(e):e(s)}return n}const Xr=()=>{},Se=Array.isArray,z_=/\/$/,K_=e=>e.replace(z_,"");function Lo(e,t,n="/"){let r,s={},i="",o="";const a=t.indexOf("#");let l=t.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(r=t.slice(0,l),i=t.slice(l+1,a>-1?a:t.length),s=e(i)),a>-1&&(r=r||t.slice(0,a),o=t.slice(a,t.length)),r=Y_(r??t,n),{fullPath:r+(i&&"?")+i+o,path:r,query:s,hash:o}}function G_(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function du(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function W_(e,t,n){const r=t.matched.length-1,s=n.matched.length-1;return r>-1&&r===s&&gr(t.matched[r],n.matched[s])&&qf(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function gr(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function qf(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!Q_(e[n],t[n]))return!1;return!0}function Q_(e,t){return Se(e)?pu(e,t):Se(t)?pu(t,e):e===t}function pu(e,t){return Se(t)?e.length===t.length&&e.every((n,r)=>n===t[r]):e.length===1&&e[0]===t}function Y_(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),r=e.split("/"),s=r[r.length-1];(s===".."||s===".")&&r.push("");let i=n.length-1,o,a;for(o=0;o<r.length;o++)if(a=r[o],a!==".")if(a==="..")i>1&&i--;else break;return n.slice(0,i).join("/")+"/"+r.slice(o-(o===r.length?1:0)).join("/")}var cs;(function(e){e.pop="pop",e.push="push"})(cs||(cs={}));var Jr;(function(e){e.back="back",e.forward="forward",e.unknown=""})(Jr||(Jr={}));function X_(e){if(!e)if(Xn){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),K_(e)}const J_=/^[^#]+#/;function Z_(e,t){return e.replace(J_,"#")+t}function ty(e,t){const n=document.documentElement.getBoundingClientRect(),r=e.getBoundingClientRect();return{behavior:t.behavior,left:r.left-n.left-(t.left||0),top:r.top-n.top-(t.top||0)}}const zi=()=>({left:window.pageXOffset,top:window.pageYOffset});function ey(e){let t;if("el"in e){const n=e.el,r=typeof n=="string"&&n.startsWith("#"),s=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!s)return;t=ty(s,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.pageXOffset,t.top!=null?t.top:window.pageYOffset)}function gu(e,t){return(history.state?history.state.position-t:-1)+e}const va=new Map;function ny(e,t){va.set(e,t)}function ry(e){const t=va.get(e);return va.delete(e),t}let sy=()=>location.protocol+"//"+location.host;function Hf(e,t){const{pathname:n,search:r,hash:s}=t,i=e.indexOf("#");if(i>-1){let a=s.includes(e.slice(i))?e.slice(i).length:1,l=s.slice(a);return l[0]!=="/"&&(l="/"+l),du(l,"")}return du(n,e)+r+s}function iy(e,t,n,r){let s=[],i=[],o=null;const a=({state:f})=>{const g=Hf(e,location),E=n.value,I=t.value;let C=0;if(f){if(n.value=g,t.value=f,o&&o===E){o=null;return}C=I?f.position-I.position:0}else r(g);s.forEach(P=>{P(n.value,E,{delta:C,type:cs.pop,direction:C?C>0?Jr.forward:Jr.back:Jr.unknown})})};function l(){o=n.value}function c(f){s.push(f);const g=()=>{const E=s.indexOf(f);E>-1&&s.splice(E,1)};return i.push(g),g}function u(){const{history:f}=window;f.state&&f.replaceState(pt({},f.state,{scroll:zi()}),"")}function h(){for(const f of i)f();i=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",u,{passive:!0}),{pauseListeners:l,listen:c,destroy:h}}function mu(e,t,n,r=!1,s=!1){return{back:e,current:t,forward:n,replaced:r,position:window.history.length,scroll:s?zi():null}}function oy(e){const{history:t,location:n}=window,r={value:Hf(e,n)},s={value:t.state};s.value||i(r.value,{back:null,current:r.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function i(l,c,u){const h=e.indexOf("#"),f=h>-1?(n.host&&document.querySelector("base")?e:e.slice(h))+l:sy()+e+l;try{t[u?"replaceState":"pushState"](c,"",f),s.value=c}catch(g){console.error(g),n[u?"replace":"assign"](f)}}function o(l,c){const u=pt({},t.state,mu(s.value.back,l,s.value.forward,!0),c,{position:s.value.position});i(l,u,!0),r.value=l}function a(l,c){const u=pt({},s.value,t.state,{forward:l,scroll:zi()});i(u.current,u,!0);const h=pt({},mu(r.value,l,null),{position:u.position+1},c);i(l,h,!1),r.value=l}return{location:r,state:s,push:a,replace:o}}function ay(e){e=X_(e);const t=oy(e),n=iy(e,t.state,t.location,t.replace);function r(i,o=!0){o||n.pauseListeners(),history.go(i)}const s=pt({location:"",base:e,go:r,createHref:Z_.bind(null,e)},t,n);return Object.defineProperty(s,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(s,"state",{enumerable:!0,get:()=>t.state.value}),s}function ly(e){return typeof e=="string"||e&&typeof e=="object"}function zf(e){return typeof e=="string"||typeof e=="symbol"}const sn={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},Kf=Symbol("");var _u;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(_u||(_u={}));function mr(e,t){return pt(new Error,{type:e,[Kf]:!0},t)}function Ke(e,t){return e instanceof Error&&Kf in e&&(t==null||!!(e.type&t))}const yu="[^/]+?",cy={sensitive:!1,strict:!1,start:!0,end:!0},uy=/[.+*?^${}()[\]/\\]/g;function hy(e,t){const n=pt({},cy,t),r=[];let s=n.start?"^":"";const i=[];for(const c of e){const u=c.length?[]:[90];n.strict&&!c.length&&(s+="/");for(let h=0;h<c.length;h++){const f=c[h];let g=40+(n.sensitive?.25:0);if(f.type===0)h||(s+="/"),s+=f.value.replace(uy,"\\$&"),g+=40;else if(f.type===1){const{value:E,repeatable:I,optional:C,regexp:P}=f;i.push({name:E,repeatable:I,optional:C});const M=P||yu;if(M!==yu){g+=10;try{new RegExp(`(${M})`)}catch(z){throw new Error(`Invalid custom RegExp for param "${E}" (${M}): `+z.message)}}let F=I?`((?:${M})(?:/(?:${M}))*)`:`(${M})`;h||(F=C&&c.length<2?`(?:/${F})`:"/"+F),C&&(F+="?"),s+=F,g+=20,C&&(g+=-8),I&&(g+=-20),M===".*"&&(g+=-50)}u.push(g)}r.push(u)}if(n.strict&&n.end){const c=r.length-1;r[c][r[c].length-1]+=.7000000000000001}n.strict||(s+="/?"),n.end?s+="$":n.strict&&(s+="(?:/|$)");const o=new RegExp(s,n.sensitive?"":"i");function a(c){const u=c.match(o),h={};if(!u)return null;for(let f=1;f<u.length;f++){const g=u[f]||"",E=i[f-1];h[E.name]=g&&E.repeatable?g.split("/"):g}return h}function l(c){let u="",h=!1;for(const f of e){(!h||!u.endsWith("/"))&&(u+="/"),h=!1;for(const g of f)if(g.type===0)u+=g.value;else if(g.type===1){const{value:E,repeatable:I,optional:C}=g,P=E in c?c[E]:"";if(Se(P)&&!I)throw new Error(`Provided param "${E}" is an array but it is not repeatable (* or + modifiers)`);const M=Se(P)?P.join("/"):P;if(!M)if(C)f.length<2&&(u.endsWith("/")?u=u.slice(0,-1):h=!0);else throw new Error(`Missing required param "${E}"`);u+=M}}return u||"/"}return{re:o,score:r,keys:i,parse:a,stringify:l}}function fy(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=t[n]-e[n];if(r)return r;n++}return e.length<t.length?e.length===1&&e[0]===80?-1:1:e.length>t.length?t.length===1&&t[0]===80?1:-1:0}function dy(e,t){let n=0;const r=e.score,s=t.score;for(;n<r.length&&n<s.length;){const i=fy(r[n],s[n]);if(i)return i;n++}if(Math.abs(s.length-r.length)===1){if(vu(r))return 1;if(vu(s))return-1}return s.length-r.length}function vu(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const py={type:0,value:""},gy=/[a-zA-Z0-9_]/;function my(e){if(!e)return[[]];if(e==="/")return[[py]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(g){throw new Error(`ERR (${n})/"${c}": ${g}`)}let n=0,r=n;const s=[];let i;function o(){i&&s.push(i),i=[]}let a=0,l,c="",u="";function h(){c&&(n===0?i.push({type:0,value:c}):n===1||n===2||n===3?(i.length>1&&(l==="*"||l==="+")&&t(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:c,regexp:u,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):t("Invalid state to consume buffer"),c="")}function f(){c+=l}for(;a<e.length;){if(l=e[a++],l==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:l==="/"?(c&&h(),o()):l===":"?(h(),n=1):f();break;case 4:f(),n=r;break;case 1:l==="("?n=2:gy.test(l)?f():(h(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+l:n=3:u+=l;break;case 3:h(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,u="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${c}"`),h(),o(),s}function _y(e,t,n){const r=hy(my(e.path),n),s=pt(r,{record:e,parent:t,children:[],alias:[]});return t&&!s.record.aliasOf==!t.record.aliasOf&&t.children.push(s),s}function yy(e,t){const n=[],r=new Map;t=wu({strict:!1,end:!0,sensitive:!1},t);function s(u){return r.get(u)}function i(u,h,f){const g=!f,E=vy(u);E.aliasOf=f&&f.record;const I=wu(t,u),C=[E];if("alias"in u){const F=typeof u.alias=="string"?[u.alias]:u.alias;for(const z of F)C.push(pt({},E,{components:f?f.record.components:E.components,path:z,aliasOf:f?f.record:E}))}let P,M;for(const F of C){const{path:z}=F;if(h&&z[0]!=="/"){const U=h.record.path,ct=U[U.length-1]==="/"?"":"/";F.path=h.record.path+(z&&ct+z)}if(P=_y(F,h,I),f?f.alias.push(P):(M=M||P,M!==P&&M.alias.push(P),g&&u.name&&!Tu(P)&&o(u.name)),E.children){const U=E.children;for(let ct=0;ct<U.length;ct++)i(U[ct],P,f&&f.children[ct])}f=f||P,(P.record.components&&Object.keys(P.record.components).length||P.record.name||P.record.redirect)&&l(P)}return M?()=>{o(M)}:Xr}function o(u){if(zf(u)){const h=r.get(u);h&&(r.delete(u),n.splice(n.indexOf(h),1),h.children.forEach(o),h.alias.forEach(o))}else{const h=n.indexOf(u);h>-1&&(n.splice(h,1),u.record.name&&r.delete(u.record.name),u.children.forEach(o),u.alias.forEach(o))}}function a(){return n}function l(u){let h=0;for(;h<n.length&&dy(u,n[h])>=0&&(u.record.path!==n[h].record.path||!Gf(u,n[h]));)h++;n.splice(h,0,u),u.record.name&&!Tu(u)&&r.set(u.record.name,u)}function c(u,h){let f,g={},E,I;if("name"in u&&u.name){if(f=r.get(u.name),!f)throw mr(1,{location:u});I=f.record.name,g=pt(Eu(h.params,f.keys.filter(M=>!M.optional).map(M=>M.name)),u.params&&Eu(u.params,f.keys.map(M=>M.name))),E=f.stringify(g)}else if("path"in u)E=u.path,f=n.find(M=>M.re.test(E)),f&&(g=f.parse(E),I=f.record.name);else{if(f=h.name?r.get(h.name):n.find(M=>M.re.test(h.path)),!f)throw mr(1,{location:u,currentLocation:h});I=f.record.name,g=pt({},h.params,u.params),E=f.stringify(g)}const C=[];let P=f;for(;P;)C.unshift(P.record),P=P.parent;return{name:I,path:E,params:g,matched:C,meta:Ty(C)}}return e.forEach(u=>i(u)),{addRoute:i,resolve:c,removeRoute:o,getRoutes:a,getRecordMatcher:s}}function Eu(e,t){const n={};for(const r of t)r in e&&(n[r]=e[r]);return n}function vy(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:Ey(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}}}function Ey(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const r in e.components)t[r]=typeof n=="object"?n[r]:n;return t}function Tu(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function Ty(e){return e.reduce((t,n)=>pt(t,n.meta),{})}function wu(e,t){const n={};for(const r in e)n[r]=r in t?t[r]:e[r];return n}function Gf(e,t){return t.children.some(n=>n===e||Gf(e,n))}const Wf=/#/g,wy=/&/g,Iy=/\//g,Ay=/=/g,Ry=/\?/g,Qf=/\+/g,Cy=/%5B/g,Sy=/%5D/g,Yf=/%5E/g,Py=/%60/g,Xf=/%7B/g,by=/%7C/g,Jf=/%7D/g,Vy=/%20/g;function Sl(e){return encodeURI(""+e).replace(by,"|").replace(Cy,"[").replace(Sy,"]")}function Dy(e){return Sl(e).replace(Xf,"{").replace(Jf,"}").replace(Yf,"^")}function Ea(e){return Sl(e).replace(Qf,"%2B").replace(Vy,"+").replace(Wf,"%23").replace(wy,"%26").replace(Py,"`").replace(Xf,"{").replace(Jf,"}").replace(Yf,"^")}function xy(e){return Ea(e).replace(Ay,"%3D")}function Ny(e){return Sl(e).replace(Wf,"%23").replace(Ry,"%3F")}function Oy(e){return e==null?"":Ny(e).replace(Iy,"%2F")}function pi(e){try{return decodeURIComponent(""+e)}catch{}return""+e}function ky(e){const t={};if(e===""||e==="?")return t;const r=(e[0]==="?"?e.slice(1):e).split("&");for(let s=0;s<r.length;++s){const i=r[s].replace(Qf," "),o=i.indexOf("="),a=pi(o<0?i:i.slice(0,o)),l=o<0?null:pi(i.slice(o+1));if(a in t){let c=t[a];Se(c)||(c=t[a]=[c]),c.push(l)}else t[a]=l}return t}function Iu(e){let t="";for(let n in e){const r=e[n];if(n=xy(n),r==null){r!==void 0&&(t+=(t.length?"&":"")+n);continue}(Se(r)?r.map(i=>i&&Ea(i)):[r&&Ea(r)]).forEach(i=>{i!==void 0&&(t+=(t.length?"&":"")+n,i!=null&&(t+="="+i))})}return t}function My(e){const t={};for(const n in e){const r=e[n];r!==void 0&&(t[n]=Se(r)?r.map(s=>s==null?null:""+s):r==null?r:""+r)}return t}const Ly=Symbol(""),Au=Symbol(""),Ki=Symbol(""),Pl=Symbol(""),Ta=Symbol("");function Fr(){let e=[];function t(r){return e.push(r),()=>{const s=e.indexOf(r);s>-1&&e.splice(s,1)}}function n(){e=[]}return{add:t,list:()=>e.slice(),reset:n}}function cn(e,t,n,r,s){const i=r&&(r.enterCallbacks[s]=r.enterCallbacks[s]||[]);return()=>new Promise((o,a)=>{const l=h=>{h===!1?a(mr(4,{from:n,to:t})):h instanceof Error?a(h):ly(h)?a(mr(2,{from:t,to:h})):(i&&r.enterCallbacks[s]===i&&typeof h=="function"&&i.push(h),o())},c=e.call(r&&r.instances[s],t,n,l);let u=Promise.resolve(c);e.length<3&&(u=u.then(l)),u.catch(h=>a(h))})}function Fo(e,t,n,r){const s=[];for(const i of e)for(const o in i.components){let a=i.components[o];if(!(t!=="beforeRouteEnter"&&!i.instances[o]))if(Fy(a)){const c=(a.__vccOpts||a)[t];c&&s.push(cn(c,n,r,i,o))}else{let l=a();s.push(()=>l.then(c=>{if(!c)return Promise.reject(new Error(`Couldn't resolve component "${o}" at "${i.path}"`));const u=H_(c)?c.default:c;i.components[o]=u;const f=(u.__vccOpts||u)[t];return f&&cn(f,n,r,i,o)()}))}}return s}function Fy(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function Ru(e){const t=Re(Ki),n=Re(Pl),r=ye(()=>t.resolve(ae(e.to))),s=ye(()=>{const{matched:l}=r.value,{length:c}=l,u=l[c-1],h=n.matched;if(!u||!h.length)return-1;const f=h.findIndex(gr.bind(null,u));if(f>-1)return f;const g=Cu(l[c-2]);return c>1&&Cu(u)===g&&h[h.length-1].path!==g?h.findIndex(gr.bind(null,l[c-2])):f}),i=ye(()=>s.value>-1&&jy(n.params,r.value.params)),o=ye(()=>s.value>-1&&s.value===n.matched.length-1&&qf(n.params,r.value.params));function a(l={}){return $y(l)?t[ae(e.replace)?"replace":"push"](ae(e.to)).catch(Xr):Promise.resolve()}return{route:r,href:ye(()=>r.value.href),isActive:i,isExactActive:o,navigate:a}}const By=ce({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:Ru,setup(e,{slots:t}){const n=ki(Ru(e)),{options:r}=Re(Ki),s=ye(()=>({[Su(e.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[Su(e.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const i=t.default&&t.default(n);return e.custom?i:Al("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:s.value},i)}}}),Uy=By;function $y(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function jy(e,t){for(const n in t){const r=t[n],s=e[n];if(typeof r=="string"){if(r!==s)return!1}else if(!Se(s)||s.length!==r.length||r.some((i,o)=>i!==s[o]))return!1}return!0}function Cu(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const Su=(e,t,n)=>e??t??n,qy=ce({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const r=Re(Ta),s=ye(()=>e.route||r.value),i=Re(Au,0),o=ye(()=>{let c=ae(i);const{matched:u}=s.value;let h;for(;(h=u[c])&&!h.components;)c++;return c}),a=ye(()=>s.value.matched[o.value]);si(Au,ye(()=>o.value+1)),si(Ly,a),si(Ta,s);const l=Rs();return Wr(()=>[l.value,a.value,e.name],([c,u,h],[f,g,E])=>{u&&(u.instances[h]=c,g&&g!==u&&c&&c===f&&(u.leaveGuards.size||(u.leaveGuards=g.leaveGuards),u.updateGuards.size||(u.updateGuards=g.updateGuards))),c&&u&&(!g||!gr(u,g)||!f)&&(u.enterCallbacks[h]||[]).forEach(I=>I(c))},{flush:"post"}),()=>{const c=s.value,u=e.name,h=a.value,f=h&&h.components[u];if(!f)return Pu(n.default,{Component:f,route:c});const g=h.props[u],E=g?g===!0?c.params:typeof g=="function"?g(c):g:null,C=Al(f,pt({},E,t,{onVnodeUnmounted:P=>{P.component.isUnmounted&&(h.instances[u]=null)},ref:l}));return Pu(n.default,{Component:C,route:c})||C}}});function Pu(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const Zf=qy;function Hy(e){const t=yy(e.routes,e),n=e.parseQuery||ky,r=e.stringifyQuery||Iu,s=e.history,i=Fr(),o=Fr(),a=Fr(),l=tm(sn);let c=sn;Xn&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=Mo.bind(null,y=>""+y),h=Mo.bind(null,Oy),f=Mo.bind(null,pi);function g(y,O){let V,$;return zf(y)?(V=t.getRecordMatcher(y),$=O):$=y,t.addRoute($,V)}function E(y){const O=t.getRecordMatcher(y);O&&t.removeRoute(O)}function I(){return t.getRoutes().map(y=>y.record)}function C(y){return!!t.getRecordMatcher(y)}function P(y,O){if(O=pt({},O||l.value),typeof y=="string"){const m=Lo(n,y,O.path),_=t.resolve({path:m.path},O),v=s.createHref(m.fullPath);return pt(m,_,{params:f(_.params),hash:pi(m.hash),redirectedFrom:void 0,href:v})}let V;if("path"in y)V=pt({},y,{path:Lo(n,y.path,O.path).path});else{const m=pt({},y.params);for(const _ in m)m[_]==null&&delete m[_];V=pt({},y,{params:h(m)}),O.params=h(O.params)}const $=t.resolve(V,O),ht=y.hash||"";$.params=u(f($.params));const d=G_(r,pt({},y,{hash:Dy(ht),path:$.path})),p=s.createHref(d);return pt({fullPath:d,hash:ht,query:r===Iu?My(y.query):y.query||{}},$,{redirectedFrom:void 0,href:p})}function M(y){return typeof y=="string"?Lo(n,y,l.value.path):pt({},y)}function F(y,O){if(c!==y)return mr(8,{from:O,to:y})}function z(y){return It(y)}function U(y){return z(pt(M(y),{replace:!0}))}function ct(y){const O=y.matched[y.matched.length-1];if(O&&O.redirect){const{redirect:V}=O;let $=typeof V=="function"?V(y):V;return typeof $=="string"&&($=$.includes("?")||$.includes("#")?$=M($):{path:$},$.params={}),pt({query:y.query,hash:y.hash,params:"path"in $?{}:y.params},$)}}function It(y,O){const V=c=P(y),$=l.value,ht=y.state,d=y.force,p=y.replace===!0,m=ct(V);if(m)return It(pt(M(m),{state:typeof m=="object"?pt({},ht,m.state):ht,force:d,replace:p}),O||V);const _=V;_.redirectedFrom=O;let v;return!d&&W_(r,$,V)&&(v=mr(16,{to:_,from:$}),Ve($,$,!0,!1)),(v?Promise.resolve(v):lt(_,$)).catch(T=>Ke(T)?Ke(T,2)?T:tn(T):ut(T,_,$)).then(T=>{if(T){if(Ke(T,2))return It(pt({replace:p},M(T.to),{state:typeof T.to=="object"?pt({},ht,T.to.state):ht,force:d}),O||_)}else T=B(_,$,!0,p,ht);return Nt(_,$,T),T})}function X(y,O){const V=F(y,O);return V?Promise.reject(V):Promise.resolve()}function yt(y){const O=Wn.values().next().value;return O&&typeof O.runWithContext=="function"?O.runWithContext(y):y()}function lt(y,O){let V;const[$,ht,d]=zy(y,O);V=Fo($.reverse(),"beforeRouteLeave",y,O);for(const m of $)m.leaveGuards.forEach(_=>{V.push(cn(_,y,O))});const p=X.bind(null,y,O);return V.push(p),zt(V).then(()=>{V=[];for(const m of i.list())V.push(cn(m,y,O));return V.push(p),zt(V)}).then(()=>{V=Fo(ht,"beforeRouteUpdate",y,O);for(const m of ht)m.updateGuards.forEach(_=>{V.push(cn(_,y,O))});return V.push(p),zt(V)}).then(()=>{V=[];for(const m of d)if(m.beforeEnter)if(Se(m.beforeEnter))for(const _ of m.beforeEnter)V.push(cn(_,y,O));else V.push(cn(m.beforeEnter,y,O));return V.push(p),zt(V)}).then(()=>(y.matched.forEach(m=>m.enterCallbacks={}),V=Fo(d,"beforeRouteEnter",y,O),V.push(p),zt(V))).then(()=>{V=[];for(const m of o.list())V.push(cn(m,y,O));return V.push(p),zt(V)}).catch(m=>Ke(m,8)?m:Promise.reject(m))}function Nt(y,O,V){a.list().forEach($=>yt(()=>$(y,O,V)))}function B(y,O,V,$,ht){const d=F(y,O);if(d)return d;const p=O===sn,m=Xn?history.state:{};V&&($||p?s.replace(y.fullPath,pt({scroll:p&&m&&m.scroll},ht)):s.push(y.fullPath,ht)),l.value=y,Ve(y,O,V,p),tn()}let dt;function ne(){dt||(dt=s.listen((y,O,V)=>{if(!Us.listening)return;const $=P(y),ht=ct($);if(ht){It(pt(ht,{replace:!0}),$).catch(Xr);return}c=$;const d=l.value;Xn&&ny(gu(d.fullPath,V.delta),zi()),lt($,d).catch(p=>Ke(p,12)?p:Ke(p,2)?(It(p.to,$).then(m=>{Ke(m,20)&&!V.delta&&V.type===cs.pop&&s.go(-1,!1)}).catch(Xr),Promise.reject()):(V.delta&&s.go(-V.delta,!1),ut(p,$,d))).then(p=>{p=p||B($,d,!1),p&&(V.delta&&!Ke(p,8)?s.go(-V.delta,!1):V.type===cs.pop&&Ke(p,20)&&s.go(-1,!1)),Nt($,d,p)}).catch(Xr)}))}let He=Fr(),Ct=Fr(),mt;function ut(y,O,V){tn(y);const $=Ct.list();return $.length?$.forEach(ht=>ht(y,O,V)):console.error(y),Promise.reject(y)}function ze(){return mt&&l.value!==sn?Promise.resolve():new Promise((y,O)=>{He.add([y,O])})}function tn(y){return mt||(mt=!y,ne(),He.list().forEach(([O,V])=>y?V(y):O()),He.reset()),y}function Ve(y,O,V,$){const{scrollBehavior:ht}=e;if(!Xn||!ht)return Promise.resolve();const d=!V&&ry(gu(y.fullPath,0))||($||!V)&&history.state&&history.state.scroll||null;return pf().then(()=>ht(y,O,d)).then(p=>p&&ey(p)).catch(p=>ut(p,y,O))}const ie=y=>s.go(y);let Gn;const Wn=new Set,Us={currentRoute:l,listening:!0,addRoute:g,removeRoute:E,hasRoute:C,getRoutes:I,resolve:P,options:e,push:z,replace:U,go:ie,back:()=>ie(-1),forward:()=>ie(1),beforeEach:i.add,beforeResolve:o.add,afterEach:a.add,onError:Ct.add,isReady:ze,install(y){const O=this;y.component("RouterLink",Uy),y.component("RouterView",Zf),y.config.globalProperties.$router=O,Object.defineProperty(y.config.globalProperties,"$route",{enumerable:!0,get:()=>ae(l)}),Xn&&!Gn&&l.value===sn&&(Gn=!0,z(s.location).catch(ht=>{}));const V={};for(const ht in sn)Object.defineProperty(V,ht,{get:()=>l.value[ht],enumerable:!0});y.provide(Ki,O),y.provide(Pl,of(V)),y.provide(Ta,l);const $=y.unmount;Wn.add(y),y.unmount=function(){Wn.delete(y),Wn.size<1&&(c=sn,dt&&dt(),dt=null,l.value=sn,Gn=!1,mt=!1),$()}}};function zt(y){return y.reduce((O,V)=>O.then(()=>yt(V)),Promise.resolve())}return Us}function zy(e,t){const n=[],r=[],s=[],i=Math.max(t.matched.length,e.matched.length);for(let o=0;o<i;o++){const a=t.matched[o];a&&(e.matched.find(c=>gr(c,a))?r.push(a):n.push(a));const l=e.matched[o];l&&(t.matched.find(c=>gr(c,l))||s.push(l))}return[n,r,s]}function Ky(){return Re(Ki)}function EA(){return Re(Pl)}const Gy=Y("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M48.854 0C21.839 0 0 22 0 49.217c0 21.756 13.993 40.172 33.405 46.69 2.427.49 3.316-1.059 3.316-2.362 0-1.141-.08-5.052-.08-9.127-13.59 2.934-16.42-5.867-16.42-5.867-2.184-5.704-5.42-7.17-5.42-7.17-4.448-3.015.324-3.015.324-3.015 4.934.326 7.523 5.052 7.523 5.052 4.367 7.496 11.404 5.378 14.235 4.074.404-3.178 1.699-5.378 3.074-6.6-10.839-1.141-22.243-5.378-22.243-24.283 0-5.378 1.94-9.778 5.014-13.2-.485-1.222-2.184-6.275.486-13.038 0 0 4.125-1.304 13.426 5.052a46.97 46.97 0 0 1 12.214-1.63c4.125 0 8.33.571 12.213 1.63 9.302-6.356 13.427-5.052 13.427-5.052 2.67 6.763.97 11.816.485 13.038 3.155 3.422 5.015 7.822 5.015 13.2 0 18.905-11.404 23.06-22.324 24.283 1.78 1.548 3.316 4.481 3.316 9.126 0 6.6-.08 11.897-.08 13.526 0 1.304.89 2.853 3.316 2.364 19.412-6.52 33.405-24.935 33.405-46.691C97.707 22 75.788 0 48.854 0z"},null,-1),Wy=[Gy],td=ce({__name:"IconGithub",props:{color:{}},setup(e){return(t,n)=>(Xt(),pe("svg",{style:je({fill:t.color??"#fff"}),viewBox:"0 0 98 96",xmlns:"http://www.w3.org/2000/svg"},Wy,4))}}),Qy=ce({__name:"IconHome",props:{color:{}},setup(e){return(t,n)=>(Xt(),pe("svg",{style:je({fill:t.color??"#fff"}),viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},[Y("path",{style:je({fill:t.color??"#fff"}),d:"M512 128 128 447.936V896h255.936V640H640v256h255.936V447.936z"},null,4)],4))}}),Yy={viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Xy=ce({__name:"IconMenu",props:{color:{}},setup(e){return(t,n)=>(Xt(),pe("svg",Yy,[Y("path",{style:je({stroke:t.color??"#fff"}),id:"Vector",d:"M11 17H19M5 12H19M11 7H19","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},null,4)]))}}),bl=e=>(ml("data-v-65c2ff7b"),e=e(),_l(),e),Jy={class:"bar"},Zy=bl(()=>Y("span",{id:"bingo"},"BINGO",-1)),tv={class:"mobile-menu-container"},ev={class:"menu-container"},nv={target:"_blank",rel:"noopener noreferrer",href:"https://github.com/BelgianNoise",class:"github"},rv={class:"mobile-menu-slide-in"},sv=bl(()=>Y("hr",null,null,-1)),iv=bl(()=>Y("hr",null,null,-1)),ov=ce({__name:"HeaderComponent",setup(e){Ky().afterEach((r,s)=>{r.fullPath!==s.fullPath&&(n.value=!1)});let n=Rs(!1);return(r,s)=>{const i=yl("RouterLink");return Xt(),pe("header",{class:Ni({mobileSlideOutVisible:ae(n)})},[Y("div",Jy,[Zy,Y("div",tv,[et(i,{to:"/"},{default:Ie(()=>[et(Qy,{color:"var(--color-foreground)",class:"icon"})]),_:1}),Y("button",{onClick:s[0]||(s[0]=o=>te(n)?n.value=!ae(n):n=!ae(n))},[et(Xy,{color:"var(--color-foreground)",class:"icon"})])]),Y("div",ev,[et(i,{to:"/"},{default:Ie(()=>[Ne(" Home ")]),_:1}),et(i,{to:"/pricing"},{default:Ie(()=>[Ne(" Pricing ")]),_:1}),et(i,{to:"/create"},{default:Ie(()=>[Ne(" Create New ")]),_:1}),Y("a",nv,[et(td,{class:"icon",color:"var(--color-foreground)"})])])]),et(Rl,{name:"slide"},{default:Ie(()=>[Em(Y("div",rv,[et(i,{to:"/"},{default:Ie(()=>[Ne(" Home ")]),_:1}),sv,et(i,{to:"/pricing"},{default:Ie(()=>[Ne(" Pricing ")]),_:1}),iv,et(i,{to:"/create"},{default:Ie(()=>[Ne(" Create New ")]),_:1})],512),[[I_,ae(n)]])]),_:1})],2)}}}),Cs=(e,t)=>{const n=e.__vccOpts||e;for(const[r,s]of t)n[r]=s;return n},av=Cs(ov,[["__scopeId","data-v-65c2ff7b"]]),lv="/linkedin.png",cv={viewBox:"0 -28.5 256 256",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",preserveAspectRatio:"xMidYMid",fill:"transparent"},uv=ce({__name:"IconDiscord",props:{color:{}},setup(e){return(t,n)=>(Xt(),pe("svg",cv,[Y("g",null,[Y("path",{style:je({fill:t.color??"#5865F2"}),d:"M216.856339,16.5966031 C200.285002,8.84328665 182.566144,3.2084988 164.041564,0 C161.766523,4.11318106 159.108624,9.64549908 157.276099,14.0464379 C137.583995,11.0849896 118.072967,11.0849896 98.7430163,14.0464379 C96.9108417,9.64549908 94.1925838,4.11318106 91.8971895,0 C73.3526068,3.2084988 55.6133949,8.86399117 39.0420583,16.6376612 C5.61752293,67.146514 -3.4433191,116.400813 1.08711069,164.955721 C23.2560196,181.510915 44.7403634,191.567697 65.8621325,198.148576 C71.0772151,190.971126 75.7283628,183.341335 79.7352139,175.300261 C72.104019,172.400575 64.7949724,168.822202 57.8887866,164.667963 C59.7209612,163.310589 61.5131304,161.891452 63.2445898,160.431257 C105.36741,180.133187 151.134928,180.133187 192.754523,160.431257 C194.506336,161.891452 196.298154,163.310589 198.110326,164.667963 C191.183787,168.842556 183.854737,172.420929 176.223542,175.320965 C180.230393,183.341335 184.861538,190.991831 190.096624,198.16893 C211.238746,191.588051 232.743023,181.531619 254.911949,164.955721 C260.227747,108.668201 245.831087,59.8662432 216.856339,16.5966031 Z M85.4738752,135.09489 C72.8290281,135.09489 62.4592217,123.290155 62.4592217,108.914901 C62.4592217,94.5396472 72.607595,82.7145587 85.4738752,82.7145587 C98.3405064,82.7145587 108.709962,94.5189427 108.488529,108.914901 C108.508531,123.290155 98.3405064,135.09489 85.4738752,135.09489 Z M170.525237,135.09489 C157.88039,135.09489 147.510584,123.290155 147.510584,108.914901 C147.510584,94.5396472 157.658606,82.7145587 170.525237,82.7145587 C183.391518,82.7145587 193.761324,94.5189427 193.539891,108.914901 C193.539891,123.290155 183.391518,135.09489 170.525237,135.09489 Z","fill-rule":"nonzero"},null,4)])]))}}),Gi=e=>(ml("data-v-4de5ad3e"),e=e(),_l(),e),hv=Gi(()=>Y("hr",null,null,-1)),fv=Gi(()=>Y("p",{class:"disclaimer"}," Since you do not require an account to use this app, all data is public in some way or another. Please do not keep any sensitive data in your games, and do not try to circumvent the makeshift security and ruin the fun for others. ",-1)),dv=Gi(()=>Y("p",null,[Ne(" made by "),Y("span",{class:"name"},"Arthur Joppart"),Ne(" using "),Y("a",{class:"vue-green",href:"https://vuejs.org/",target:"_blank",rel:"noreferrer"},"Vue.js")],-1)),pv={class:"socials"},gv={href:"https://github.com/BelgianNoise",target:"_blank",rel:"noreferrer"},mv=Gi(()=>Y("a",{href:"https://www.linkedin.com/in/arthur-joppart-728a7817a/",target:"_blank",rel:"noreferrer"},[Y("img",{src:lv,alt:"linkedin"})],-1)),_v={href:"https://discordapp.com/users/125339040613531648",target:"_blank",rel:"noreferrer"},yv=ce({__name:"FooterComponent",setup(e){return(t,n)=>(Xt(),pe("footer",null,[hv,fv,dv,Y("div",pv,[Y("a",gv,[et(td)]),mv,Y("a",_v,[et(uv,{color:"var(--color-foreground-light)"})])])]))}}),vv=Cs(yv,[["__scopeId","data-v-4de5ad3e"]]),Ev=ce({__name:"App",setup(e){return(t,n)=>(Xt(),pe(fe,null,[et(av),Y("main",null,[et(ae(Zf))]),et(vv)],64))}}),Tv=Cs(Ev,[["__scopeId","data-v-b64a8fb7"]]),wv="modulepreload",Iv=function(e){return"/"+e},bu={},Bo=function(t,n,r){let s=Promise.resolve();if(n&&n.length>0){const i=document.getElementsByTagName("link");s=Promise.all(n.map(o=>{if(o=Iv(o),o in bu)return;bu[o]=!0;const a=o.endsWith(".css"),l=a?'[rel="stylesheet"]':"";if(!!r)for(let h=i.length-1;h>=0;h--){const f=i[h];if(f.href===o&&(!a||f.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${o}"]${l}`))return;const u=document.createElement("link");if(u.rel=a?"stylesheet":wv,a||(u.as="script",u.crossOrigin=""),u.href=o,document.head.appendChild(u),a)return new Promise((h,f)=>{u.addEventListener("load",h),u.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${o}`)))})}))}return s.then(()=>t()).catch(i=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=i,window.dispatchEvent(o),!o.defaultPrevented)throw i})};var Vu={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ed=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let s=e.charCodeAt(r);s<128?t[n++]=s:s<2048?(t[n++]=s>>6|192,t[n++]=s&63|128):(s&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=s>>18|240,t[n++]=s>>12&63|128,t[n++]=s>>6&63|128,t[n++]=s&63|128):(t[n++]=s>>12|224,t[n++]=s>>6&63|128,t[n++]=s&63|128)}return t},Av=function(e){const t=[];let n=0,r=0;for(;n<e.length;){const s=e[n++];if(s<128)t[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=e[n++];t[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=e[n++],o=e[n++],a=e[n++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;t[r++]=String.fromCharCode(55296+(l>>10)),t[r++]=String.fromCharCode(56320+(l&1023))}else{const i=e[n++],o=e[n++];t[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return t.join("")},nd={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<e.length;s+=3){const i=e[s],o=s+1<e.length,a=o?e[s+1]:0,l=s+2<e.length,c=l?e[s+2]:0,u=i>>2,h=(i&3)<<4|a>>4;let f=(a&15)<<2|c>>6,g=c&63;l||(g=64,o||(f=64)),r.push(n[u],n[h],n[f],n[g])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(ed(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):Av(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<e.length;){const i=n[e.charAt(s++)],a=s<e.length?n[e.charAt(s)]:0;++s;const c=s<e.length?n[e.charAt(s)]:64;++s;const h=s<e.length?n[e.charAt(s)]:64;if(++s,i==null||a==null||c==null||h==null)throw new Rv;const f=i<<2|a>>4;if(r.push(f),c!==64){const g=a<<4&240|c>>2;if(r.push(g),h!==64){const E=c<<6&192|h;r.push(E)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class Rv extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Cv=function(e){const t=ed(e);return nd.encodeByteArray(t,!0)},gi=function(e){return Cv(e).replace(/\./g,"")},Sv=function(e){try{return nd.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pv(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bv=()=>Pv().__FIREBASE_DEFAULTS__,Vv=()=>{if(typeof process>"u"||typeof Vu>"u")return;const e=Vu.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},Dv=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&Sv(e[1]);return t&&JSON.parse(t)},rd=()=>{try{return bv()||Vv()||Dv()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},xv=e=>{var t,n;return(n=(t=rd())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},Nv=e=>{const t=xv(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},sd=()=>{var e;return(e=rd())===null||e===void 0?void 0:e.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ov{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kv(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",s=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[gi(JSON.stringify(n)),gi(JSON.stringify(o)),""].join(".")}function Mv(){try{return typeof indexedDB=="object"}catch{return!1}}function Lv(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;t(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fv="FirebaseError";class Pr extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=Fv,Object.setPrototypeOf(this,Pr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,id.prototype.create)}}class id{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},s=`${this.service}/${t}`,i=this.errors[t],o=i?Bv(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new Pr(s,a,r)}}function Bv(e,t){return e.replace(Uv,(n,r)=>{const s=t[r];return s!=null?String(s):`<${r}?>`})}const Uv=/\{\$([^}]+)}/g;function wa(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const s of n){if(!r.includes(s))return!1;const i=e[s],o=t[s];if(Du(i)&&Du(o)){if(!wa(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function Du(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _r(e){return e&&e._delegate?e._delegate:e}class us{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bn="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $v{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new Ov;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),s=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(qv(t))try{this.getOrInitializeService({instanceIdentifier:bn})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(t=bn){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=bn){return this.instances.has(t)}getOptions(t=bn){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(t,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(t),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&t(o,s),()=>{i.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:jv(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=bn){return this.component?this.component.multipleInstances?t:bn:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function jv(e){return e===bn?void 0:e}function qv(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hv{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new $v(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var st;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(st||(st={}));const zv={debug:st.DEBUG,verbose:st.VERBOSE,info:st.INFO,warn:st.WARN,error:st.ERROR,silent:st.SILENT},Kv=st.INFO,Gv={[st.DEBUG]:"log",[st.VERBOSE]:"log",[st.INFO]:"info",[st.WARN]:"warn",[st.ERROR]:"error"},Wv=(e,t,...n)=>{if(t<e.logLevel)return;const r=new Date().toISOString(),s=Gv[t];if(s)console[s](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class od{constructor(t){this.name=t,this._logLevel=Kv,this._logHandler=Wv,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in st))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?zv[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,st.DEBUG,...t),this._logHandler(this,st.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,st.VERBOSE,...t),this._logHandler(this,st.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,st.INFO,...t),this._logHandler(this,st.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,st.WARN,...t),this._logHandler(this,st.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,st.ERROR,...t),this._logHandler(this,st.ERROR,...t)}}const Qv=(e,t)=>t.some(n=>e instanceof n);let xu,Nu;function Yv(){return xu||(xu=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Xv(){return Nu||(Nu=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ad=new WeakMap,Ia=new WeakMap,ld=new WeakMap,Uo=new WeakMap,Vl=new WeakMap;function Jv(e){const t=new Promise((n,r)=>{const s=()=>{e.removeEventListener("success",i),e.removeEventListener("error",o)},i=()=>{n(pn(e.result)),s()},o=()=>{r(e.error),s()};e.addEventListener("success",i),e.addEventListener("error",o)});return t.then(n=>{n instanceof IDBCursor&&ad.set(n,e)}).catch(()=>{}),Vl.set(t,e),t}function Zv(e){if(Ia.has(e))return;const t=new Promise((n,r)=>{const s=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",o),e.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(e.error||new DOMException("AbortError","AbortError")),s()};e.addEventListener("complete",i),e.addEventListener("error",o),e.addEventListener("abort",o)});Ia.set(e,t)}let Aa={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return Ia.get(e);if(t==="objectStoreNames")return e.objectStoreNames||ld.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return pn(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function tE(e){Aa=e(Aa)}function eE(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call($o(this),t,...n);return ld.set(r,t.sort?t.sort():[t]),pn(r)}:Xv().includes(e)?function(...t){return e.apply($o(this),t),pn(ad.get(this))}:function(...t){return pn(e.apply($o(this),t))}}function nE(e){return typeof e=="function"?eE(e):(e instanceof IDBTransaction&&Zv(e),Qv(e,Yv())?new Proxy(e,Aa):e)}function pn(e){if(e instanceof IDBRequest)return Jv(e);if(Uo.has(e))return Uo.get(e);const t=nE(e);return t!==e&&(Uo.set(e,t),Vl.set(t,e)),t}const $o=e=>Vl.get(e);function rE(e,t,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(e,t),a=pn(o);return r&&o.addEventListener("upgradeneeded",l=>{r(pn(o.result),l.oldVersion,l.newVersion,pn(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const sE=["get","getKey","getAll","getAllKeys","count"],iE=["put","add","delete","clear"],jo=new Map;function Ou(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(jo.get(t))return jo.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,s=iE.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||sE.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),s&&l.done]))[0]};return jo.set(t,i),i}tE(e=>({...e,get:(t,n,r)=>Ou(t,n)||e.get(t,n,r),has:(t,n)=>!!Ou(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oE{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(aE(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function aE(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Ra="@firebase/app",ku="0.9.25";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Un=new od("@firebase/app"),lE="@firebase/app-compat",cE="@firebase/analytics-compat",uE="@firebase/analytics",hE="@firebase/app-check-compat",fE="@firebase/app-check",dE="@firebase/auth",pE="@firebase/auth-compat",gE="@firebase/database",mE="@firebase/database-compat",_E="@firebase/functions",yE="@firebase/functions-compat",vE="@firebase/installations",EE="@firebase/installations-compat",TE="@firebase/messaging",wE="@firebase/messaging-compat",IE="@firebase/performance",AE="@firebase/performance-compat",RE="@firebase/remote-config",CE="@firebase/remote-config-compat",SE="@firebase/storage",PE="@firebase/storage-compat",bE="@firebase/firestore",VE="@firebase/firestore-compat",DE="firebase",xE="10.7.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ca="[DEFAULT]",NE={[Ra]:"fire-core",[lE]:"fire-core-compat",[uE]:"fire-analytics",[cE]:"fire-analytics-compat",[fE]:"fire-app-check",[hE]:"fire-app-check-compat",[dE]:"fire-auth",[pE]:"fire-auth-compat",[gE]:"fire-rtdb",[mE]:"fire-rtdb-compat",[_E]:"fire-fn",[yE]:"fire-fn-compat",[vE]:"fire-iid",[EE]:"fire-iid-compat",[TE]:"fire-fcm",[wE]:"fire-fcm-compat",[IE]:"fire-perf",[AE]:"fire-perf-compat",[RE]:"fire-rc",[CE]:"fire-rc-compat",[SE]:"fire-gcs",[PE]:"fire-gcs-compat",[bE]:"fire-fst",[VE]:"fire-fst-compat","fire-js":"fire-js",[DE]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mi=new Map,Sa=new Map;function OE(e,t){try{e.container.addComponent(t)}catch(n){Un.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function _i(e){const t=e.name;if(Sa.has(t))return Un.debug(`There were multiple attempts to register component ${t}.`),!1;Sa.set(t,e);for(const n of mi.values())OE(n,e);return!0}function kE(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ME={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},gn=new id("app","Firebase",ME);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LE{constructor(t,n,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new us("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw gn.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FE=xE;function cd(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const r=Object.assign({name:Ca,automaticDataCollectionEnabled:!1},t),s=r.name;if(typeof s!="string"||!s)throw gn.create("bad-app-name",{appName:String(s)});if(n||(n=sd()),!n)throw gn.create("no-options");const i=mi.get(s);if(i){if(wa(n,i.options)&&wa(r,i.config))return i;throw gn.create("duplicate-app",{appName:s})}const o=new Hv(s);for(const l of Sa.values())o.addComponent(l);const a=new LE(n,r,o);return mi.set(s,a),a}function BE(e=Ca){const t=mi.get(e);if(!t&&e===Ca&&sd())return cd();if(!t)throw gn.create("no-app",{appName:e});return t}function ar(e,t,n){var r;let s=(r=NE[e])!==null&&r!==void 0?r:e;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=t.match(/\s|\//);if(i||o){const a=[`Unable to register library "${s}" with version "${t}":`];i&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Un.warn(a.join(" "));return}_i(new us(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UE="firebase-heartbeat-database",$E=1,hs="firebase-heartbeat-store";let qo=null;function ud(){return qo||(qo=rE(UE,$E,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(hs)}}}).catch(e=>{throw gn.create("idb-open",{originalErrorMessage:e.message})})),qo}async function jE(e){try{return await(await ud()).transaction(hs).objectStore(hs).get(hd(e))}catch(t){if(t instanceof Pr)Un.warn(t.message);else{const n=gn.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Un.warn(n.message)}}}async function Mu(e,t){try{const r=(await ud()).transaction(hs,"readwrite");await r.objectStore(hs).put(t,hd(e)),await r.done}catch(n){if(n instanceof Pr)Un.warn(n.message);else{const r=gn.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Un.warn(r.message)}}}function hd(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qE=1024,HE=30*24*60*60*1e3;class zE{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new GE(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var t,n;const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Lu();if(!(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i)))return this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=HE}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var t;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Lu(),{heartbeatsToSend:r,unsentEntries:s}=KE(this._heartbeatsCache.heartbeats),i=gi(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function Lu(){return new Date().toISOString().substring(0,10)}function KE(e,t=qE){const n=[];let r=e.slice();for(const s of e){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),Fu(n)>t){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Fu(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class GE{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Mv()?Lv().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await jE(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Mu(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Mu(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function Fu(e){return gi(JSON.stringify({version:2,heartbeats:e})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WE(e){_i(new us("platform-logger",t=>new oE(t),"PRIVATE")),_i(new us("heartbeat",t=>new zE(t),"PRIVATE")),ar(Ra,ku,e),ar(Ra,ku,"esm2017"),ar("fire-js","")}WE("");var QE="firebase",YE="10.7.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ar(QE,YE,"app");var XE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},D,Dl=Dl||{},G=XE||self;function Wi(e){var t=typeof e;return t=t!="object"?t:e?Array.isArray(e)?"array":t:"null",t=="array"||t=="object"&&typeof e.length=="number"}function Ss(e){var t=typeof e;return t=="object"&&e!=null||t=="function"}function JE(e){return Object.prototype.hasOwnProperty.call(e,Ho)&&e[Ho]||(e[Ho]=++ZE)}var Ho="closure_uid_"+(1e9*Math.random()>>>0),ZE=0;function t0(e,t,n){return e.call.apply(e.bind,arguments)}function e0(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var s=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(s,r),e.apply(t,s)}}return function(){return e.apply(t,arguments)}}function Jt(e,t,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Jt=t0:Jt=e0,Jt.apply(null,arguments)}function Ws(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),e.apply(this,r)}}function Ut(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(r,s,i){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return t.prototype[s].apply(r,o)}}function wn(){this.s=this.s,this.o=this.o}var n0=0;wn.prototype.s=!1;wn.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),n0!=0)&&JE(this)};wn.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const fd=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(typeof e=="string")return typeof t!="string"||t.length!=1?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function xl(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function Bu(e,t){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Wi(r)){const s=e.length||0,i=r.length||0;e.length=s+i;for(let o=0;o<i;o++)e[s+o]=r[o]}else e.push(r)}}function Zt(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}Zt.prototype.h=function(){this.defaultPrevented=!0};var r0=function(){if(!G.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const n=()=>{};G.addEventListener("test",n,t),G.removeEventListener("test",n,t)}catch{}return e}();function fs(e){return/^[\s\xa0]*$/.test(e)}function Qi(){var e=G.navigator;return e&&(e=e.userAgent)?e:""}function Me(e){return Qi().indexOf(e)!=-1}function Nl(e){return Nl[" "](e),e}Nl[" "]=function(){};function s0(e,t){var n=Y0;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}var i0=Me("Opera"),yr=Me("Trident")||Me("MSIE"),dd=Me("Edge"),Pa=dd||yr,pd=Me("Gecko")&&!(Qi().toLowerCase().indexOf("webkit")!=-1&&!Me("Edge"))&&!(Me("Trident")||Me("MSIE"))&&!Me("Edge"),o0=Qi().toLowerCase().indexOf("webkit")!=-1&&!Me("Edge");function gd(){var e=G.document;return e?e.documentMode:void 0}var ba;t:{var zo="",Ko=function(){var e=Qi();if(pd)return/rv:([^\);]+)(\)|;)/.exec(e);if(dd)return/Edge\/([\d\.]+)/.exec(e);if(yr)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e);if(o0)return/WebKit\/(\S+)/.exec(e);if(i0)return/(?:Version)[ \/]?(\S+)/.exec(e)}();if(Ko&&(zo=Ko?Ko[1]:""),yr){var Go=gd();if(Go!=null&&Go>parseFloat(zo)){ba=String(Go);break t}}ba=zo}var Va;if(G.document&&yr){var Uu=gd();Va=Uu||parseInt(ba,10)||void 0}else Va=void 0;var a0=Va;function ds(e,t){if(Zt.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(pd){t:{try{Nl(t.nodeName);var s=!0;break t}catch{}s=!1}s||(t=null)}}else n=="mouseover"?t=e.fromElement:n=="mouseout"&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=e.clientX!==void 0?e.clientX:e.pageX,this.clientY=e.clientY!==void 0?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=typeof e.pointerType=="string"?e.pointerType:l0[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&ds.$.h.call(this)}}Ut(ds,Zt);var l0={2:"touch",3:"pen",4:"mouse"};ds.prototype.h=function(){ds.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Ps="closure_listenable_"+(1e6*Math.random()|0),c0=0;function u0(e,t,n,r,s){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=s,this.key=++c0,this.fa=this.ia=!1}function Yi(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function Ol(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function h0(e,t){for(const n in e)t.call(void 0,e[n],n,e)}function md(e){const t={};for(const n in e)t[n]=e[n];return t}const $u="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function _d(e,t){let n,r;for(let s=1;s<arguments.length;s++){r=arguments[s];for(n in r)e[n]=r[n];for(let i=0;i<$u.length;i++)n=$u[i],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Xi(e){this.src=e,this.g={},this.h=0}Xi.prototype.add=function(e,t,n,r,s){var i=e.toString();e=this.g[i],e||(e=this.g[i]=[],this.h++);var o=xa(e,t,r,s);return-1<o?(t=e[o],n||(t.ia=!1)):(t=new u0(t,this.src,i,!!r,s),t.ia=n,e.push(t)),t};function Da(e,t){var n=t.type;if(n in e.g){var r=e.g[n],s=fd(r,t),i;(i=0<=s)&&Array.prototype.splice.call(r,s,1),i&&(Yi(t),e.g[n].length==0&&(delete e.g[n],e.h--))}}function xa(e,t,n,r){for(var s=0;s<e.length;++s){var i=e[s];if(!i.fa&&i.listener==t&&i.capture==!!n&&i.la==r)return s}return-1}var kl="closure_lm_"+(1e6*Math.random()|0),Wo={};function yd(e,t,n,r,s){if(r&&r.once)return Ed(e,t,n,r,s);if(Array.isArray(t)){for(var i=0;i<t.length;i++)yd(e,t[i],n,r,s);return null}return n=Fl(n),e&&e[Ps]?e.O(t,n,Ss(r)?!!r.capture:!!r,s):vd(e,t,n,!1,r,s)}function vd(e,t,n,r,s,i){if(!t)throw Error("Invalid event type");var o=Ss(s)?!!s.capture:!!s,a=Ll(e);if(a||(e[kl]=a=new Xi(e)),n=a.add(t,n,r,o,i),n.proxy)return n;if(r=f0(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)r0||(s=o),s===void 0&&(s=!1),e.addEventListener(t.toString(),r,s);else if(e.attachEvent)e.attachEvent(wd(t.toString()),r);else if(e.addListener&&e.removeListener)e.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function f0(){function e(n){return t.call(e.src,e.listener,n)}const t=d0;return e}function Ed(e,t,n,r,s){if(Array.isArray(t)){for(var i=0;i<t.length;i++)Ed(e,t[i],n,r,s);return null}return n=Fl(n),e&&e[Ps]?e.P(t,n,Ss(r)?!!r.capture:!!r,s):vd(e,t,n,!0,r,s)}function Td(e,t,n,r,s){if(Array.isArray(t))for(var i=0;i<t.length;i++)Td(e,t[i],n,r,s);else r=Ss(r)?!!r.capture:!!r,n=Fl(n),e&&e[Ps]?(e=e.i,t=String(t).toString(),t in e.g&&(i=e.g[t],n=xa(i,n,r,s),-1<n&&(Yi(i[n]),Array.prototype.splice.call(i,n,1),i.length==0&&(delete e.g[t],e.h--)))):e&&(e=Ll(e))&&(t=e.g[t.toString()],e=-1,t&&(e=xa(t,n,r,s)),(n=-1<e?t[e]:null)&&Ml(n))}function Ml(e){if(typeof e!="number"&&e&&!e.fa){var t=e.src;if(t&&t[Ps])Da(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(wd(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Ll(t))?(Da(n,e),n.h==0&&(n.src=null,t[kl]=null)):Yi(e)}}}function wd(e){return e in Wo?Wo[e]:Wo[e]="on"+e}function d0(e,t){if(e.fa)e=!0;else{t=new ds(t,this);var n=e.listener,r=e.la||e.src;e.ia&&Ml(e),e=n.call(r,t)}return e}function Ll(e){return e=e[kl],e instanceof Xi?e:null}var Qo="__closure_events_fn_"+(1e9*Math.random()>>>0);function Fl(e){return typeof e=="function"?e:(e[Qo]||(e[Qo]=function(t){return e.handleEvent(t)}),e[Qo])}function Bt(){wn.call(this),this.i=new Xi(this),this.S=this,this.J=null}Ut(Bt,wn);Bt.prototype[Ps]=!0;Bt.prototype.removeEventListener=function(e,t,n,r){Td(this,e,t,n,r)};function qt(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,typeof t=="string")t=new Zt(t,e);else if(t instanceof Zt)t.target=t.target||e;else{var s=t;t=new Zt(r,e),_d(t,s)}if(s=!0,n)for(var i=n.length-1;0<=i;i--){var o=t.g=n[i];s=Qs(o,r,!0,t)&&s}if(o=t.g=e,s=Qs(o,r,!0,t)&&s,s=Qs(o,r,!1,t)&&s,n)for(i=0;i<n.length;i++)o=t.g=n[i],s=Qs(o,r,!1,t)&&s}Bt.prototype.N=function(){if(Bt.$.N.call(this),this.i){var e=this.i,t;for(t in e.g){for(var n=e.g[t],r=0;r<n.length;r++)Yi(n[r]);delete e.g[t],e.h--}}this.J=null};Bt.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)};Bt.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};function Qs(e,t,n,r){if(t=e.i.g[String(t)],!t)return!0;t=t.concat();for(var s=!0,i=0;i<t.length;++i){var o=t[i];if(o&&!o.fa&&o.capture==n){var a=o.listener,l=o.la||o.src;o.ia&&Da(e.i,o),s=a.call(l,r)!==!1&&s}}return s&&!r.defaultPrevented}var Bl=G.JSON.stringify;class p0{constructor(t,n){this.i=t,this.j=n,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}function g0(){var e=Ul;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}class m0{constructor(){this.h=this.g=null}add(t,n){const r=Id.get();r.set(t,n),this.h?this.h.next=r:this.g=r,this.h=r}}var Id=new p0(()=>new _0,e=>e.reset());class _0{constructor(){this.next=this.g=this.h=null}set(t,n){this.h=t,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function y0(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function v0(e){G.setTimeout(()=>{throw e},0)}let ps,gs=!1,Ul=new m0,Ad=()=>{const e=G.Promise.resolve(void 0);ps=()=>{e.then(E0)}};var E0=()=>{for(var e;e=g0();){try{e.h.call(e.g)}catch(n){v0(n)}var t=Id;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}gs=!1};function Ji(e,t){Bt.call(this),this.h=e||1,this.g=t||G,this.j=Jt(this.qb,this),this.l=Date.now()}Ut(Ji,Bt);D=Ji.prototype;D.ga=!1;D.T=null;D.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),qt(this,"tick"),this.ga&&($l(this),this.start()))}};D.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function $l(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}D.N=function(){Ji.$.N.call(this),$l(this),delete this.g};function jl(e,t,n){if(typeof e=="function")n&&(e=Jt(e,n));else if(e&&typeof e.handleEvent=="function")e=Jt(e.handleEvent,e);else throw Error("Invalid listener argument");return 2147483647<Number(t)?-1:G.setTimeout(e,t||0)}function Rd(e){e.g=jl(()=>{e.g=null,e.i&&(e.i=!1,Rd(e))},e.j);const t=e.h;e.h=null,e.m.apply(null,t)}class T0 extends wn{constructor(t,n){super(),this.m=t,this.j=n,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:Rd(this)}N(){super.N(),this.g&&(G.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ms(e){wn.call(this),this.h=e,this.g={}}Ut(ms,wn);var ju=[];function Cd(e,t,n,r){Array.isArray(n)||(n&&(ju[0]=n.toString()),n=ju);for(var s=0;s<n.length;s++){var i=yd(t,n[s],r||e.handleEvent,!1,e.h||e);if(!i)break;e.g[i.key]=i}}function Sd(e){Ol(e.g,function(t,n){this.g.hasOwnProperty(n)&&Ml(t)},e),e.g={}}ms.prototype.N=function(){ms.$.N.call(this),Sd(this)};ms.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Zi(){this.g=!0}Zi.prototype.Ea=function(){this.g=!1};function w0(e,t,n,r,s,i){e.info(function(){if(e.g)if(i)for(var o="",a=i.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var h=u.split("_");o=2<=h.length&&h[1]=="type"?o+(u+"="+c+"&"):o+(u+"=redacted&")}}else o=null;else o=i;return"XMLHTTP REQ ("+r+") [attempt "+s+"]: "+t+`
`+n+`
`+o})}function I0(e,t,n,r,s,i,o){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+s+"]: "+t+`
`+n+`
`+i+" "+o})}function nr(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+R0(e,n)+(r?" "+r:"")})}function A0(e,t){e.info(function(){return"TIMEOUT: "+t})}Zi.prototype.info=function(){};function R0(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n){for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var s=r[1];if(Array.isArray(s)&&!(1>s.length)){var i=s[0];if(i!="noop"&&i!="stop"&&i!="close")for(var o=1;o<s.length;o++)s[o]=""}}}}return Bl(n)}catch{return t}}var Kn={},qu=null;function to(){return qu=qu||new Bt}Kn.Ta="serverreachability";function Pd(e){Zt.call(this,Kn.Ta,e)}Ut(Pd,Zt);function _s(e){const t=to();qt(t,new Pd(t))}Kn.STAT_EVENT="statevent";function bd(e,t){Zt.call(this,Kn.STAT_EVENT,e),this.stat=t}Ut(bd,Zt);function se(e){const t=to();qt(t,new bd(t,e))}Kn.Ua="timingevent";function Vd(e,t){Zt.call(this,Kn.Ua,e),this.size=t}Ut(Vd,Zt);function bs(e,t){if(typeof e!="function")throw Error("Fn must not be null and must be a function");return G.setTimeout(function(){e()},t)}var eo={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Dd={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function ql(){}ql.prototype.h=null;function Hu(e){return e.h||(e.h=e.i())}function xd(){}var Vs={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Hl(){Zt.call(this,"d")}Ut(Hl,Zt);function zl(){Zt.call(this,"c")}Ut(zl,Zt);var Na;function no(){}Ut(no,ql);no.prototype.g=function(){return new XMLHttpRequest};no.prototype.i=function(){return{}};Na=new no;function Ds(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new ms(this),this.P=C0,e=Pa?125:void 0,this.V=new Ji(e),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Nd}function Nd(){this.i=null,this.g="",this.h=!1}var C0=45e3,Od={},Oa={};D=Ds.prototype;D.setTimeout=function(e){this.P=e};function ka(e,t,n){e.L=1,e.A=so(Xe(t)),e.u=n,e.S=!0,kd(e,null)}function kd(e,t){e.G=Date.now(),xs(e),e.B=Xe(e.A);var n=e.B,r=e.W;Array.isArray(r)||(r=[String(r)]),qd(n.i,"t",r),e.o=0,n=e.l.J,e.h=new Nd,e.g=up(e.l,n?t:null,!e.u),0<e.O&&(e.M=new T0(Jt(e.Pa,e,e.g),e.O)),Cd(e.U,e.g,"readystatechange",e.nb),t=e.I?md(e.I):{},e.u?(e.v||(e.v="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.B,e.v,e.u,t)):(e.v="GET",e.g.ha(e.B,e.v,null,t)),_s(),w0(e.j,e.v,e.B,e.m,e.W,e.u)}D.nb=function(e){e=e.target;const t=this.M;t&&Fe(e)==3?t.l():this.Pa(e)};D.Pa=function(e){try{if(e==this.g)t:{const u=Fe(this.g);var t=this.g.Ia();const h=this.g.da();if(!(3>u)&&(u!=3||Pa||this.g&&(this.h.h||this.g.ja()||Wu(this.g)))){this.J||u!=4||t==7||(t==8||0>=h?_s(3):_s(2)),ro(this);var n=this.g.da();this.ca=n;e:if(Md(this)){var r=Wu(this.g);e="";var s=r.length,i=Fe(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){xn(this),Zr(this);var o="";break e}this.h.i=new G.TextDecoder}for(t=0;t<s;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:i&&t==s-1});r.length=0,this.h.g+=e,this.o=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,I0(this.j,this.v,this.B,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){e:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!fs(a)){var c=a;break e}}c=null}if(n=c)nr(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ma(this,n);else{this.i=!1,this.s=3,se(12),xn(this),Zr(this);break t}}this.S?(Ld(this,u,o),Pa&&this.i&&u==3&&(Cd(this.U,this.V,"tick",this.mb),this.V.start())):(nr(this.j,this.m,o,null),Ma(this,o)),u==4&&xn(this),this.i&&!this.J&&(u==4?op(this.l,this):(this.i=!1,xs(this)))}else G0(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.s=3,se(12)):(this.s=0,se(13)),xn(this),Zr(this)}}}catch{}finally{}};function Md(e){return e.g?e.v=="GET"&&e.L!=2&&e.l.Ha:!1}function Ld(e,t,n){let r=!0,s;for(;!e.J&&e.o<n.length;)if(s=S0(e,n),s==Oa){t==4&&(e.s=4,se(14),r=!1),nr(e.j,e.m,null,"[Incomplete Response]");break}else if(s==Od){e.s=4,se(15),nr(e.j,e.m,n,"[Invalid Chunk]"),r=!1;break}else nr(e.j,e.m,s,null),Ma(e,s);Md(e)&&e.o!=0&&(e.h.g=e.h.g.slice(e.o),e.o=0),t!=4||n.length!=0||e.h.h||(e.s=1,se(16),r=!1),e.i=e.i&&r,r?0<n.length&&!e.ba&&(e.ba=!0,t=e.l,t.g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Xl(t),t.M=!0,se(11))):(nr(e.j,e.m,n,"[Invalid Chunked Response]"),xn(e),Zr(e))}D.mb=function(){if(this.g){var e=Fe(this.g),t=this.g.ja();this.o<t.length&&(ro(this),Ld(this,e,t),this.i&&e!=4&&xs(this))}};function S0(e,t){var n=e.o,r=t.indexOf(`
`,n);return r==-1?Oa:(n=Number(t.substring(n,r)),isNaN(n)?Od:(r+=1,r+n>t.length?Oa:(t=t.slice(r,r+n),e.o=r+n,t)))}D.cancel=function(){this.J=!0,xn(this)};function xs(e){e.Y=Date.now()+e.P,Fd(e,e.P)}function Fd(e,t){if(e.C!=null)throw Error("WatchDog timer not null");e.C=bs(Jt(e.lb,e),t)}function ro(e){e.C&&(G.clearTimeout(e.C),e.C=null)}D.lb=function(){this.C=null;const e=Date.now();0<=e-this.Y?(A0(this.j,this.B),this.L!=2&&(_s(),se(17)),xn(this),this.s=2,Zr(this)):Fd(this,this.Y-e)};function Zr(e){e.l.H==0||e.J||op(e.l,e)}function xn(e){ro(e);var t=e.M;t&&typeof t.sa=="function"&&t.sa(),e.M=null,$l(e.V),Sd(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function Ma(e,t){try{var n=e.l;if(n.H!=0&&(n.g==e||La(n.i,e))){if(!e.K&&La(n.i,e)&&n.H==3){try{var r=n.Ja.g.parse(t)}catch{r=null}if(Array.isArray(r)&&r.length==3){var s=r;if(s[0]==0){t:if(!n.u){if(n.g)if(n.g.G+3e3<e.G)Ei(n),lo(n);else break t;Yl(n),se(18)}}else n.Fa=s[1],0<n.Fa-n.V&&37500>s[2]&&n.G&&n.A==0&&!n.v&&(n.v=bs(Jt(n.ib,n),6e3));if(1>=Kd(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Nn(n,11)}else if((e.K||n.g==e)&&Ei(n),!fs(t))for(s=n.Ja.g.parse(t),t=0;t<s.length;t++){let c=s[t];if(n.V=c[0],c=c[1],n.H==2)if(c[0]=="c"){n.K=c[1],n.pa=c[2];const u=c[3];u!=null&&(n.ra=u,n.l.info("VER="+n.ra));const h=c[4];h!=null&&(n.Ga=h,n.l.info("SVER="+n.Ga));const f=c[5];f!=null&&typeof f=="number"&&0<f&&(r=1.5*f,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const g=e.g;if(g){const E=g.g?g.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(E){var i=r.i;i.g||E.indexOf("spdy")==-1&&E.indexOf("quic")==-1&&E.indexOf("h2")==-1||(i.j=i.l,i.g=new Set,i.h&&(Kl(i,i.h),i.h=null))}if(r.F){const I=g.g?g.g.getResponseHeader("X-HTTP-Session-Id"):null;I&&(r.Da=I,Et(r.I,r.F,I))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=e;if(r.wa=cp(r,r.J?r.pa:null,r.Y),o.K){Gd(r.i,o);var a=o,l=r.L;l&&a.setTimeout(l),a.C&&(ro(a),xs(a)),r.g=o}else sp(r);0<n.j.length&&co(n)}else c[0]!="stop"&&c[0]!="close"||Nn(n,7);else n.H==3&&(c[0]=="stop"||c[0]=="close"?c[0]=="stop"?Nn(n,7):Ql(n):c[0]!="noop"&&n.h&&n.h.Aa(c),n.A=0)}}_s(4)}catch{}}function P0(e){if(e.Z&&typeof e.Z=="function")return e.Z();if(typeof Map<"u"&&e instanceof Map||typeof Set<"u"&&e instanceof Set)return Array.from(e.values());if(typeof e=="string")return e.split("");if(Wi(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}t=[],n=0;for(r in e)t[n++]=e[r];return t}function b0(e){if(e.ta&&typeof e.ta=="function")return e.ta();if(!e.Z||typeof e.Z!="function"){if(typeof Map<"u"&&e instanceof Map)return Array.from(e.keys());if(!(typeof Set<"u"&&e instanceof Set)){if(Wi(e)||typeof e=="string"){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}function Bd(e,t){if(e.forEach&&typeof e.forEach=="function")e.forEach(t,void 0);else if(Wi(e)||typeof e=="string")Array.prototype.forEach.call(e,t,void 0);else for(var n=b0(e),r=P0(e),s=r.length,i=0;i<s;i++)t.call(void 0,r[i],n&&n[i],e)}var Ud=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function V0(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),s=null;if(0<=r){var i=e[n].substring(0,r);s=e[n].substring(r+1)}else i=e[n];t(i,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}function Fn(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof Fn){this.h=e.h,yi(this,e.j),this.s=e.s,this.g=e.g,vi(this,e.m),this.l=e.l;var t=e.i,n=new ys;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),zu(this,n),this.o=e.o}else e&&(t=String(e).match(Ud))?(this.h=!1,yi(this,t[1]||"",!0),this.s=qr(t[2]||""),this.g=qr(t[3]||"",!0),vi(this,t[4]),this.l=qr(t[5]||"",!0),zu(this,t[6]||"",!0),this.o=qr(t[7]||"")):(this.h=!1,this.i=new ys(null,this.h))}Fn.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Hr(t,Ku,!0),":");var n=this.g;return(n||t=="file")&&(e.push("//"),(t=this.s)&&e.push(Hr(t,Ku,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&e.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&e.push("/"),e.push(Hr(n,n.charAt(0)=="/"?N0:x0,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Hr(n,k0)),e.join("")};function Xe(e){return new Fn(e)}function yi(e,t,n){e.j=n?qr(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function vi(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function zu(e,t,n){t instanceof ys?(e.i=t,M0(e.i,e.h)):(n||(t=Hr(t,O0)),e.i=new ys(t,e.h))}function Et(e,t,n){e.i.set(t,n)}function so(e){return Et(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function qr(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Hr(e,t,n){return typeof e=="string"?(e=encodeURI(e).replace(t,D0),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function D0(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(e&15).toString(16)}var Ku=/[#\/\?@]/g,x0=/[#\?:]/g,N0=/[#\?]/g,O0=/[#\?@]/g,k0=/#/g;function ys(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function In(e){e.g||(e.g=new Map,e.h=0,e.i&&V0(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}D=ys.prototype;D.add=function(e,t){In(this),this.i=null,e=br(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this};function $d(e,t){In(e),t=br(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function jd(e,t){return In(e),t=br(e,t),e.g.has(t)}D.forEach=function(e,t){In(this),this.g.forEach(function(n,r){n.forEach(function(s){e.call(t,s,r,this)},this)},this)};D.ta=function(){In(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const s=e[r];for(let i=0;i<s.length;i++)n.push(t[r])}return n};D.Z=function(e){In(this);let t=[];if(typeof e=="string")jd(this,e)&&(t=t.concat(this.g.get(br(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t};D.set=function(e,t){return In(this),this.i=null,e=br(this,e),jd(this,e)&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this};D.get=function(e,t){return e?(e=this.Z(e),0<e.length?String(e[0]):t):t};function qd(e,t,n){$d(e,t),0<n.length&&(e.i=null,e.g.set(br(e,t),xl(n)),e.h+=n.length)}D.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const i=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var s=i;o[r]!==""&&(s+="="+encodeURIComponent(String(o[r]))),e.push(s)}}return this.i=e.join("&")};function br(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function M0(e,t){t&&!e.j&&(In(e),e.i=null,e.g.forEach(function(n,r){var s=r.toLowerCase();r!=s&&($d(this,r),qd(this,s,n))},e)),e.j=t}var L0=class{constructor(e,t){this.g=e,this.map=t}};function Hd(e){this.l=e||F0,G.PerformanceNavigationTiming?(e=G.performance.getEntriesByType("navigation"),e=0<e.length&&(e[0].nextHopProtocol=="hq"||e[0].nextHopProtocol=="h2")):e=!!(G.g&&G.g.Ka&&G.g.Ka()&&G.g.Ka().dc),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var F0=10;function zd(e){return e.h?!0:e.g?e.g.size>=e.j:!1}function Kd(e){return e.h?1:e.g?e.g.size:0}function La(e,t){return e.h?e.h==t:e.g?e.g.has(t):!1}function Kl(e,t){e.g?e.g.add(t):e.h=t}function Gd(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}Hd.prototype.cancel=function(){if(this.i=Wd(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const e of this.g.values())e.cancel();this.g.clear()}};function Wd(e){if(e.h!=null)return e.i.concat(e.h.F);if(e.g!=null&&e.g.size!==0){let t=e.i;for(const n of e.g.values())t=t.concat(n.F);return t}return xl(e.i)}var B0=class{stringify(e){return G.JSON.stringify(e,void 0)}parse(e){return G.JSON.parse(e,void 0)}};function U0(){this.g=new B0}function $0(e,t,n){const r=n||"";try{Bd(e,function(s,i){let o=s;Ss(s)&&(o=Bl(s)),t.push(r+i+"="+encodeURIComponent(o))})}catch(s){throw t.push(r+"type="+encodeURIComponent("_badmap")),s}}function j0(e,t){const n=new Zi;if(G.Image){const r=new Image;r.onload=Ws(Ys,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Ws(Ys,n,r,"TestLoadImage: error",!1,t),r.onabort=Ws(Ys,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Ws(Ys,n,r,"TestLoadImage: timeout",!1,t),G.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}function Ys(e,t,n,r,s){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,s(r)}catch{}}function io(e){this.l=e.ec||null,this.j=e.ob||!1}Ut(io,ql);io.prototype.g=function(){return new oo(this.l,this.j)};io.prototype.i=function(e){return function(){return e}}({});function oo(e,t){Bt.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=Gl,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ut(oo,Bt);var Gl=0;D=oo.prototype;D.open=function(e,t){if(this.readyState!=Gl)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,vs(this)};D.send=function(e){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||G).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))};D.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ns(this)),this.readyState=Gl};D.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,vs(this)),this.g&&(this.readyState=3,vs(this),this.g)))if(this.responseType==="arraybuffer")e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof G.ReadableStream<"u"&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Qd(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))};function Qd(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}D.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Ns(this):vs(this),this.readyState==3&&Qd(this)}};D.Za=function(e){this.g&&(this.response=this.responseText=e,Ns(this))};D.Ya=function(e){this.g&&(this.response=e,Ns(this))};D.ka=function(){this.g&&Ns(this)};function Ns(e){e.readyState=4,e.l=null,e.j=null,e.A=null,vs(e)}D.setRequestHeader=function(e,t){this.v.append(e,t)};D.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""};D.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join(`\r
`)};function vs(e){e.onreadystatechange&&e.onreadystatechange.call(e)}Object.defineProperty(oo.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(e){this.m=e?"include":"same-origin"}});var q0=G.JSON.parse;function Rt(e){Bt.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Yd,this.L=this.M=!1}Ut(Rt,Bt);var Yd="",H0=/^https?$/i,z0=["POST","PUT"];D=Rt.prototype;D.Oa=function(e){this.M=e};D.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Na.g(),this.C=this.u?Hu(this.u):Hu(Na),this.g.onreadystatechange=Jt(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(i){Gu(this,i);return}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var s in r)n.set(s,r[s]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const i of r.keys())n.set(i,r.get(i));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(i=>i.toLowerCase()=="content-type"),s=G.FormData&&e instanceof G.FormData,!(0<=fd(z0,t))||r||s||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,o]of n)this.g.setRequestHeader(i,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Zd(this),0<this.B&&((this.L=K0(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Jt(this.ua,this)):this.A=jl(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(i){Gu(this,i)}};function K0(e){return yr&&typeof e.timeout=="number"&&e.ontimeout!==void 0}D.ua=function(){typeof Dl<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,qt(this,"timeout"),this.abort(8))};function Gu(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Xd(e),ao(e)}function Xd(e){e.F||(e.F=!0,qt(e,"complete"),qt(e,"error"))}D.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,qt(this,"complete"),qt(this,"abort"),ao(this))};D.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),ao(this,!0)),Rt.$.N.call(this)};D.La=function(){this.s||(this.G||this.v||this.l?Jd(this):this.kb())};D.kb=function(){Jd(this)};function Jd(e){if(e.h&&typeof Dl<"u"&&(!e.C[1]||Fe(e)!=4||e.da()!=2)){if(e.v&&Fe(e)==4)jl(e.La,0,e);else if(qt(e,"readystatechange"),Fe(e)==4){e.h=!1;try{const o=e.da();t:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break t;default:t=!1}var n;if(!(n=t)){var r;if(r=o===0){var s=String(e.I).match(Ud)[1]||null;!s&&G.self&&G.self.location&&(s=G.self.location.protocol.slice(0,-1)),r=!H0.test(s?s.toLowerCase():"")}n=r}if(n)qt(e,"complete"),qt(e,"success");else{e.m=6;try{var i=2<Fe(e)?e.g.statusText:""}catch{i=""}e.j=i+" ["+e.da()+"]",Xd(e)}}finally{ao(e)}}}}function ao(e,t){if(e.g){Zd(e);const n=e.g,r=e.C[0]?()=>{}:null;e.g=null,e.C=null,t||qt(e,"ready");try{n.onreadystatechange=r}catch{}}}function Zd(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(G.clearTimeout(e.A),e.A=null)}D.isActive=function(){return!!this.g};function Fe(e){return e.g?e.g.readyState:0}D.da=function(){try{return 2<Fe(this)?this.g.status:-1}catch{return-1}};D.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};D.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&t.indexOf(e)==0&&(t=t.substring(e.length)),q0(t)}};function Wu(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case Yd:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch{return null}}function G0(e){const t={};e=(e.g&&2<=Fe(e)&&e.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<e.length;r++){if(fs(e[r]))continue;var n=y0(e[r]);const s=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const i=t[s]||[];t[s]=i,i.push(n)}h0(t,function(r){return r.join(", ")})}D.Ia=function(){return this.m};D.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function tp(e){let t="";return Ol(e,function(n,r){t+=r,t+=":",t+=n,t+=`\r
`}),t}function Wl(e,t,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=tp(n),typeof e=="string"?n!=null&&encodeURIComponent(String(n)):Et(e,t,n))}function Br(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function ep(e){this.Ga=0,this.j=[],this.l=new Zi,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Br("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Br("baseRetryDelayMs",5e3,e),this.hb=Br("retryDelaySeedMs",1e4,e),this.eb=Br("forwardChannelMaxRetries",2,e),this.xa=Br("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new Hd(e&&e.concurrentRequestLimit),this.Ja=new U0,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}D=ep.prototype;D.ra=8;D.H=1;function Ql(e){if(np(e),e.H==3){var t=e.W++,n=Xe(e.I);if(Et(n,"SID",e.K),Et(n,"RID",t),Et(n,"TYPE","terminate"),Os(e,n),t=new Ds(e,e.l,t),t.L=2,t.A=so(Xe(n)),n=!1,G.navigator&&G.navigator.sendBeacon)try{n=G.navigator.sendBeacon(t.A.toString(),"")}catch{}!n&&G.Image&&(new Image().src=t.A,n=!0),n||(t.g=up(t.l,null),t.g.ha(t.A)),t.G=Date.now(),xs(t)}lp(e)}function lo(e){e.g&&(Xl(e),e.g.cancel(),e.g=null)}function np(e){lo(e),e.u&&(G.clearTimeout(e.u),e.u=null),Ei(e),e.i.cancel(),e.m&&(typeof e.m=="number"&&G.clearTimeout(e.m),e.m=null)}function co(e){if(!zd(e.i)&&!e.m){e.m=!0;var t=e.Na;ps||Ad(),gs||(ps(),gs=!0),Ul.add(t,e),e.C=0}}function W0(e,t){return Kd(e.i)>=e.i.j-(e.m?1:0)?!1:e.m?(e.j=t.F.concat(e.j),!0):e.H==1||e.H==2||e.C>=(e.cb?0:e.eb)?!1:(e.m=bs(Jt(e.Na,e,t),ap(e,e.C)),e.C++,!0)}D.Na=function(e){if(this.m)if(this.m=null,this.H==1){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;const s=new Ds(this,this.l,e);let i=this.s;if(this.U&&(i?(i=md(i),_d(i,this.U)):i=this.U),this.o!==null||this.O||(s.I=i,i=null),this.P)t:{for(var t=0,n=0;n<this.j.length;n++){e:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break e}r=void 0}if(r===void 0)break;if(t+=r,4096<t){t=n;break t}if(t===4096||n===this.j.length-1){t=n+1;break t}}t=1e3}else t=1e3;t=rp(this,s,t),n=Xe(this.I),Et(n,"RID",e),Et(n,"CVER",22),this.F&&Et(n,"X-HTTP-Session-Id",this.F),Os(this,n),i&&(this.O?t="headers="+encodeURIComponent(String(tp(i)))+"&"+t:this.o&&Wl(n,this.o,i)),Kl(this.i,s),this.bb&&Et(n,"TYPE","init"),this.P?(Et(n,"$req",t),Et(n,"SID","null"),s.aa=!0,ka(s,n,null)):ka(s,n,t),this.H=2}}else this.H==3&&(e?Qu(this,e):this.j.length==0||zd(this.i)||Qu(this))};function Qu(e,t){var n;t?n=t.m:n=e.W++;const r=Xe(e.I);Et(r,"SID",e.K),Et(r,"RID",n),Et(r,"AID",e.V),Os(e,r),e.o&&e.s&&Wl(r,e.o,e.s),n=new Ds(e,e.l,n,e.C+1),e.o===null&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=rp(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),Kl(e.i,n),ka(n,r,t)}function Os(e,t){e.na&&Ol(e.na,function(n,r){Et(t,r,n)}),e.h&&Bd({},function(n,r){Et(t,r,n)})}function rp(e,t,n){n=Math.min(e.j.length,n);var r=e.h?Jt(e.h.Va,e.h,e):null;t:{var s=e.j;let i=-1;for(;;){const o=["count="+n];i==-1?0<n?(i=s[0].g,o.push("ofs="+i)):i=0:o.push("ofs="+i);let a=!0;for(let l=0;l<n;l++){let c=s[l].g;const u=s[l].map;if(c-=i,0>c)i=Math.max(0,s[l].g-100),a=!1;else try{$0(u,o,"req"+c+"_")}catch{r&&r(u)}}if(a){r=o.join("&");break t}}}return e=e.j.splice(0,n),t.F=e,r}function sp(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;ps||Ad(),gs||(ps(),gs=!0),Ul.add(t,e),e.A=0}}function Yl(e){return e.g||e.u||3<=e.A?!1:(e.ba++,e.u=bs(Jt(e.Ma,e),ap(e,e.A)),e.A++,!0)}D.Ma=function(){if(this.u=null,ip(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=bs(Jt(this.jb,this),e)}};D.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,se(10),lo(this),ip(this))};function Xl(e){e.B!=null&&(G.clearTimeout(e.B),e.B=null)}function ip(e){e.g=new Ds(e,e.l,"rpc",e.ba),e.o===null&&(e.g.I=e.s),e.g.O=0;var t=Xe(e.wa);Et(t,"RID","rpc"),Et(t,"SID",e.K),Et(t,"AID",e.V),Et(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&Et(t,"TO",e.qa),Et(t,"TYPE","xmlhttp"),Os(e,t),e.o&&e.s&&Wl(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.A=so(Xe(t)),n.u=null,n.S=!0,kd(n,e)}D.ib=function(){this.v!=null&&(this.v=null,lo(this),Yl(this),se(19))};function Ei(e){e.v!=null&&(G.clearTimeout(e.v),e.v=null)}function op(e,t){var n=null;if(e.g==t){Ei(e),Xl(e),e.g=null;var r=2}else if(La(e.i,t))n=t.F,Gd(e.i,t),r=1;else return;if(e.H!=0){if(t.i)if(r==1){n=t.u?t.u.length:0,t=Date.now()-t.G;var s=e.C;r=to(),qt(r,new Vd(r,n)),co(e)}else sp(e);else if(s=t.s,s==3||s==0&&0<t.ca||!(r==1&&W0(e,t)||r==2&&Yl(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),s){case 1:Nn(e,5);break;case 4:Nn(e,10);break;case 3:Nn(e,6);break;default:Nn(e,2)}}}function ap(e,t){let n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function Nn(e,t){if(e.l.info("Error code "+t),t==2){var n=null;e.h&&(n=null);var r=Jt(e.pb,e);n||(n=new Fn("//www.google.com/images/cleardot.gif"),G.location&&G.location.protocol=="http"||yi(n,"https"),so(n)),j0(n.toString(),r)}else se(2);e.H=0,e.h&&e.h.za(t),lp(e),np(e)}D.pb=function(e){e?(this.l.info("Successfully pinged google.com"),se(2)):(this.l.info("Failed to ping google.com"),se(1))};function lp(e){if(e.H=0,e.ma=[],e.h){const t=Wd(e.i);(t.length!=0||e.j.length!=0)&&(Bu(e.ma,t),Bu(e.ma,e.j),e.i.i.length=0,xl(e.j),e.j.length=0),e.h.ya()}}function cp(e,t,n){var r=n instanceof Fn?Xe(n):new Fn(n);if(r.g!="")t&&(r.g=t+"."+r.g),vi(r,r.m);else{var s=G.location;r=s.protocol,t=t?t+"."+s.hostname:s.hostname,s=+s.port;var i=new Fn(null);r&&yi(i,r),t&&(i.g=t),s&&vi(i,s),n&&(i.l=n),r=i}return n=e.F,t=e.Da,n&&t&&Et(r,n,t),Et(r,"VER",e.ra),Os(e,r),r}function up(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return t=e.Ha&&!e.va?new Rt(new io({ob:n})):new Rt(e.va),t.Oa(e.J),t}D.isActive=function(){return!!this.h&&this.h.isActive(this)};function hp(){}D=hp.prototype;D.Ba=function(){};D.Aa=function(){};D.za=function(){};D.ya=function(){};D.isActive=function(){return!0};D.Va=function(){};function Ti(){if(yr&&!(10<=Number(a0)))throw Error("Environmental error: no available transport.")}Ti.prototype.g=function(e,t){return new me(e,t)};function me(e,t){Bt.call(this),this.g=new ep(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!fs(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!fs(t)&&(this.g.F=t,e=this.h,e!==null&&t in e&&(e=this.h,t in e&&delete e[t])),this.j=new Vr(this)}Ut(me,Bt);me.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;se(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=cp(e,null,e.Y),co(e)};me.prototype.close=function(){Ql(this.g)};me.prototype.u=function(e){var t=this.g;if(typeof e=="string"){var n={};n.__data__=e,e=n}else this.v&&(n={},n.__data__=Bl(e),e=n);t.j.push(new L0(t.fb++,e)),t.H==3&&co(t)};me.prototype.N=function(){this.g.h=null,delete this.j,Ql(this.g),delete this.g,me.$.N.call(this)};function fp(e){Hl.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){t:{for(const n in t){e=n;break t}e=void 0}(this.i=e)&&(e=this.i,t=t!==null&&e in t?t[e]:void 0),this.data=t}else this.data=e}Ut(fp,Hl);function dp(){zl.call(this),this.status=1}Ut(dp,zl);function Vr(e){this.g=e}Ut(Vr,hp);Vr.prototype.Ba=function(){qt(this.g,"a")};Vr.prototype.Aa=function(e){qt(this.g,new fp(e))};Vr.prototype.za=function(e){qt(this.g,new dp)};Vr.prototype.ya=function(){qt(this.g,"b")};function Q0(){this.blockSize=-1}function Pe(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}Ut(Pe,Q0);Pe.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function Yo(e,t,n){n||(n=0);var r=Array(16);if(typeof t=="string")for(var s=0;16>s;++s)r[s]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(s=0;16>s;++s)r[s]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],s=e.g[2];var i=e.g[3],o=t+(i^n&(s^i))+r[0]+3614090360&4294967295;t=n+(o<<7&4294967295|o>>>25),o=i+(s^t&(n^s))+r[1]+3905402710&4294967295,i=t+(o<<12&4294967295|o>>>20),o=s+(n^i&(t^n))+r[2]+606105819&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(t^s&(i^t))+r[3]+3250441966&4294967295,n=s+(o<<22&4294967295|o>>>10),o=t+(i^n&(s^i))+r[4]+4118548399&4294967295,t=n+(o<<7&4294967295|o>>>25),o=i+(s^t&(n^s))+r[5]+1200080426&4294967295,i=t+(o<<12&4294967295|o>>>20),o=s+(n^i&(t^n))+r[6]+2821735955&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(t^s&(i^t))+r[7]+4249261313&4294967295,n=s+(o<<22&4294967295|o>>>10),o=t+(i^n&(s^i))+r[8]+1770035416&4294967295,t=n+(o<<7&4294967295|o>>>25),o=i+(s^t&(n^s))+r[9]+2336552879&4294967295,i=t+(o<<12&4294967295|o>>>20),o=s+(n^i&(t^n))+r[10]+4294925233&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(t^s&(i^t))+r[11]+2304563134&4294967295,n=s+(o<<22&4294967295|o>>>10),o=t+(i^n&(s^i))+r[12]+1804603682&4294967295,t=n+(o<<7&4294967295|o>>>25),o=i+(s^t&(n^s))+r[13]+4254626195&4294967295,i=t+(o<<12&4294967295|o>>>20),o=s+(n^i&(t^n))+r[14]+2792965006&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(t^s&(i^t))+r[15]+1236535329&4294967295,n=s+(o<<22&4294967295|o>>>10),o=t+(s^i&(n^s))+r[1]+4129170786&4294967295,t=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(t^n))+r[6]+3225465664&4294967295,i=t+(o<<9&4294967295|o>>>23),o=s+(t^n&(i^t))+r[11]+643717713&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^t&(s^i))+r[0]+3921069994&4294967295,n=s+(o<<20&4294967295|o>>>12),o=t+(s^i&(n^s))+r[5]+3593408605&4294967295,t=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(t^n))+r[10]+38016083&4294967295,i=t+(o<<9&4294967295|o>>>23),o=s+(t^n&(i^t))+r[15]+3634488961&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^t&(s^i))+r[4]+3889429448&4294967295,n=s+(o<<20&4294967295|o>>>12),o=t+(s^i&(n^s))+r[9]+568446438&4294967295,t=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(t^n))+r[14]+3275163606&4294967295,i=t+(o<<9&4294967295|o>>>23),o=s+(t^n&(i^t))+r[3]+4107603335&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^t&(s^i))+r[8]+1163531501&4294967295,n=s+(o<<20&4294967295|o>>>12),o=t+(s^i&(n^s))+r[13]+2850285829&4294967295,t=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(t^n))+r[2]+4243563512&4294967295,i=t+(o<<9&4294967295|o>>>23),o=s+(t^n&(i^t))+r[7]+1735328473&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^t&(s^i))+r[12]+2368359562&4294967295,n=s+(o<<20&4294967295|o>>>12),o=t+(n^s^i)+r[5]+4294588738&4294967295,t=n+(o<<4&4294967295|o>>>28),o=i+(t^n^s)+r[8]+2272392833&4294967295,i=t+(o<<11&4294967295|o>>>21),o=s+(i^t^n)+r[11]+1839030562&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^t)+r[14]+4259657740&4294967295,n=s+(o<<23&4294967295|o>>>9),o=t+(n^s^i)+r[1]+2763975236&4294967295,t=n+(o<<4&4294967295|o>>>28),o=i+(t^n^s)+r[4]+1272893353&4294967295,i=t+(o<<11&4294967295|o>>>21),o=s+(i^t^n)+r[7]+4139469664&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^t)+r[10]+3200236656&4294967295,n=s+(o<<23&4294967295|o>>>9),o=t+(n^s^i)+r[13]+681279174&4294967295,t=n+(o<<4&4294967295|o>>>28),o=i+(t^n^s)+r[0]+3936430074&4294967295,i=t+(o<<11&4294967295|o>>>21),o=s+(i^t^n)+r[3]+3572445317&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^t)+r[6]+76029189&4294967295,n=s+(o<<23&4294967295|o>>>9),o=t+(n^s^i)+r[9]+3654602809&4294967295,t=n+(o<<4&4294967295|o>>>28),o=i+(t^n^s)+r[12]+3873151461&4294967295,i=t+(o<<11&4294967295|o>>>21),o=s+(i^t^n)+r[15]+530742520&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^t)+r[2]+3299628645&4294967295,n=s+(o<<23&4294967295|o>>>9),o=t+(s^(n|~i))+r[0]+4096336452&4294967295,t=n+(o<<6&4294967295|o>>>26),o=i+(n^(t|~s))+r[7]+1126891415&4294967295,i=t+(o<<10&4294967295|o>>>22),o=s+(t^(i|~n))+r[14]+2878612391&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~t))+r[5]+4237533241&4294967295,n=s+(o<<21&4294967295|o>>>11),o=t+(s^(n|~i))+r[12]+1700485571&4294967295,t=n+(o<<6&4294967295|o>>>26),o=i+(n^(t|~s))+r[3]+2399980690&4294967295,i=t+(o<<10&4294967295|o>>>22),o=s+(t^(i|~n))+r[10]+4293915773&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~t))+r[1]+2240044497&4294967295,n=s+(o<<21&4294967295|o>>>11),o=t+(s^(n|~i))+r[8]+1873313359&4294967295,t=n+(o<<6&4294967295|o>>>26),o=i+(n^(t|~s))+r[15]+4264355552&4294967295,i=t+(o<<10&4294967295|o>>>22),o=s+(t^(i|~n))+r[6]+2734768916&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~t))+r[13]+1309151649&4294967295,n=s+(o<<21&4294967295|o>>>11),o=t+(s^(n|~i))+r[4]+4149444226&4294967295,t=n+(o<<6&4294967295|o>>>26),o=i+(n^(t|~s))+r[11]+3174756917&4294967295,i=t+(o<<10&4294967295|o>>>22),o=s+(t^(i|~n))+r[2]+718787259&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(s+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+s&4294967295,e.g[3]=e.g[3]+i&4294967295}Pe.prototype.j=function(e,t){t===void 0&&(t=e.length);for(var n=t-this.blockSize,r=this.m,s=this.h,i=0;i<t;){if(s==0)for(;i<=n;)Yo(this,e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<t;)if(r[s++]=e.charCodeAt(i++),s==this.blockSize){Yo(this,r),s=0;break}}else for(;i<t;)if(r[s++]=e[i++],s==this.blockSize){Yo(this,r),s=0;break}}this.h=s,this.i+=t};Pe.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=n&255,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};function gt(e,t){this.h=t;for(var n=[],r=!0,s=e.length-1;0<=s;s--){var i=e[s]|0;r&&i==t||(n[s]=i,r=!1)}this.g=n}var Y0={};function Jl(e){return-128<=e&&128>e?s0(e,function(t){return new gt([t|0],0>t?-1:0)}):new gt([e|0],0>e?-1:0)}function Be(e){if(isNaN(e)||!isFinite(e))return lr;if(0>e)return jt(Be(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=Fa;return new gt(t,0)}function pp(e,t){if(e.length==0)throw Error("number format error: empty string");if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(e.charAt(0)=="-")return jt(pp(e.substring(1),t));if(0<=e.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Be(Math.pow(t,8)),r=lr,s=0;s<e.length;s+=8){var i=Math.min(8,e.length-s),o=parseInt(e.substring(s,s+i),t);8>i?(i=Be(Math.pow(t,i)),r=r.R(i).add(Be(o))):(r=r.R(n),r=r.add(Be(o)))}return r}var Fa=4294967296,lr=Jl(0),Ba=Jl(1),Yu=Jl(16777216);D=gt.prototype;D.ea=function(){if(ve(this))return-jt(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:Fa+r)*t,t*=Fa}return e};D.toString=function(e){if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(Qe(this))return"0";if(ve(this))return"-"+jt(this).toString(e);for(var t=Be(Math.pow(e,6)),n=this,r="";;){var s=Ii(n,t).g;n=wi(n,s.R(t));var i=((0<n.g.length?n.g[0]:n.h)>>>0).toString(e);if(n=s,Qe(n))return i+r;for(;6>i.length;)i="0"+i;r=i+r}};D.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h};function Qe(e){if(e.h!=0)return!1;for(var t=0;t<e.g.length;t++)if(e.g[t]!=0)return!1;return!0}function ve(e){return e.h==-1}D.X=function(e){return e=wi(this,e),ve(e)?-1:Qe(e)?0:1};function jt(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new gt(n,~e.h).add(Ba)}D.abs=function(){return ve(this)?jt(this):this};D.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,s=0;s<=t;s++){var i=r+(this.D(s)&65535)+(e.D(s)&65535),o=(i>>>16)+(this.D(s)>>>16)+(e.D(s)>>>16);r=o>>>16,i&=65535,o&=65535,n[s]=o<<16|i}return new gt(n,n[n.length-1]&-2147483648?-1:0)};function wi(e,t){return e.add(jt(t))}D.R=function(e){if(Qe(this)||Qe(e))return lr;if(ve(this))return ve(e)?jt(this).R(jt(e)):jt(jt(this).R(e));if(ve(e))return jt(this.R(jt(e)));if(0>this.X(Yu)&&0>e.X(Yu))return Be(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var s=0;s<e.g.length;s++){var i=this.D(r)>>>16,o=this.D(r)&65535,a=e.D(s)>>>16,l=e.D(s)&65535;n[2*r+2*s]+=o*l,Xs(n,2*r+2*s),n[2*r+2*s+1]+=i*l,Xs(n,2*r+2*s+1),n[2*r+2*s+1]+=o*a,Xs(n,2*r+2*s+1),n[2*r+2*s+2]+=i*a,Xs(n,2*r+2*s+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new gt(n,0)};function Xs(e,t){for(;(e[t]&65535)!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function Ur(e,t){this.g=e,this.h=t}function Ii(e,t){if(Qe(t))throw Error("division by zero");if(Qe(e))return new Ur(lr,lr);if(ve(e))return t=Ii(jt(e),t),new Ur(jt(t.g),jt(t.h));if(ve(t))return t=Ii(e,jt(t)),new Ur(jt(t.g),t.h);if(30<e.g.length){if(ve(e)||ve(t))throw Error("slowDivide_ only works with positive integers.");for(var n=Ba,r=t;0>=r.X(e);)n=Xu(n),r=Xu(r);var s=Yn(n,1),i=Yn(r,1);for(r=Yn(r,2),n=Yn(n,2);!Qe(r);){var o=i.add(r);0>=o.X(e)&&(s=s.add(n),i=o),r=Yn(r,1),n=Yn(n,1)}return t=wi(e,s.R(t)),new Ur(s,t)}for(s=lr;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),i=Be(n),o=i.R(t);ve(o)||0<o.X(e);)n-=r,i=Be(n),o=i.R(t);Qe(i)&&(i=Ba),s=s.add(i),e=wi(e,o)}return new Ur(s,e)}D.gb=function(e){return Ii(this,e).h};D.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new gt(n,this.h&e.h)};D.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new gt(n,this.h|e.h)};D.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new gt(n,this.h^e.h)};function Xu(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new gt(n,e.h)}function Yn(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,s=[],i=0;i<r;i++)s[i]=0<t?e.D(i+n)>>>t|e.D(i+n+1)<<32-t:e.D(i+n);return new gt(s,e.h)}Ti.prototype.createWebChannel=Ti.prototype.g;me.prototype.send=me.prototype.u;me.prototype.open=me.prototype.m;me.prototype.close=me.prototype.close;eo.NO_ERROR=0;eo.TIMEOUT=8;eo.HTTP_ERROR=6;Dd.COMPLETE="complete";xd.EventType=Vs;Vs.OPEN="a";Vs.CLOSE="b";Vs.ERROR="c";Vs.MESSAGE="d";Bt.prototype.listen=Bt.prototype.O;Rt.prototype.listenOnce=Rt.prototype.P;Rt.prototype.getLastError=Rt.prototype.Sa;Rt.prototype.getLastErrorCode=Rt.prototype.Ia;Rt.prototype.getStatus=Rt.prototype.da;Rt.prototype.getResponseJson=Rt.prototype.Wa;Rt.prototype.getResponseText=Rt.prototype.ja;Rt.prototype.send=Rt.prototype.ha;Rt.prototype.setWithCredentials=Rt.prototype.Oa;Pe.prototype.digest=Pe.prototype.l;Pe.prototype.reset=Pe.prototype.reset;Pe.prototype.update=Pe.prototype.j;gt.prototype.add=gt.prototype.add;gt.prototype.multiply=gt.prototype.R;gt.prototype.modulo=gt.prototype.gb;gt.prototype.compare=gt.prototype.X;gt.prototype.toNumber=gt.prototype.ea;gt.prototype.toString=gt.prototype.toString;gt.prototype.getBits=gt.prototype.D;gt.fromNumber=Be;gt.fromString=pp;var X0=function(){return new Ti},J0=function(){return to()},Xo=eo,Z0=Dd,tT=Kn,Ju={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Js=xd,eT=Rt,nT=Pe,cr=gt;const Zu="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Gt.UNAUTHENTICATED=new Gt(null),Gt.GOOGLE_CREDENTIALS=new Gt("google-credentials-uid"),Gt.FIRST_PARTY=new Gt("first-party-uid"),Gt.MOCK_USER=new Gt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dr="10.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $n=new od("@firebase/firestore");function $r(){return $n.logLevel}function L(e,...t){if($n.logLevel<=st.DEBUG){const n=t.map(Zl);$n.debug(`Firestore (${Dr}): ${e}`,...n)}}function Je(e,...t){if($n.logLevel<=st.ERROR){const n=t.map(Zl);$n.error(`Firestore (${Dr}): ${e}`,...n)}}function vr(e,...t){if($n.logLevel<=st.WARN){const n=t.map(Zl);$n.warn(`Firestore (${Dr}): ${e}`,...n)}}function Zl(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z(e="Unexpected state"){const t=`FIRESTORE (${Dr}) INTERNAL ASSERTION FAILED: `+e;throw Je(t),new Error(t)}function Dt(e,t){e||Z()}function at(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class k extends Pr{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ur{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gp{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class rT{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(Gt.UNAUTHENTICATED))}shutdown(){}}class sT{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class iT{constructor(t){this.t=t,this.currentUser=Gt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){let r=this.i;const s=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let i=new ur;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new ur,t.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const l=i;t.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},a=l=>{L("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(L("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new ur)}},0),o()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==t?(L("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Dt(typeof r.accessToken=="string"),new gp(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return Dt(t===null||typeof t=="string"),new Gt(t)}}class oT{constructor(t,n,r){this.l=t,this.h=n,this.P=r,this.type="FirstParty",this.user=Gt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const t=this.T();return t&&this.I.set("Authorization",t),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class aT{constructor(t,n,r){this.l=t,this.h=n,this.P=r}getToken(){return Promise.resolve(new oT(this.l,this.h,this.P))}start(t,n){t.enqueueRetryable(()=>n(Gt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class lT{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class cT{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,n){const r=i=>{i.error!=null&&L("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.R;return this.R=i.token,L("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{t.enqueueRetryable(()=>r(i))};const s=i=>{L("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.appCheck.addTokenListener(this.o)};this.A.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.A.getImmediate({optional:!0});i?s(i):L("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(Dt(typeof n.token=="string"),this.R=n.token,new lT(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uT(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mp{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/t.length)*t.length;let r="";for(;r.length<20;){const s=uT(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=t.charAt(s[i]%t.length))}return r}}function ft(e,t){return e<t?-1:e>t?1:0}function Er(e,t,n){return e.length===t.length&&e.every((r,s)=>n(r,t[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new k(R.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new k(R.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new k(R.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new k(R.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return Ft.fromMillis(Date.now())}static fromDate(t){return Ft.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),r=Math.floor(1e6*(t-1e3*n));return new Ft(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?ft(this.nanoseconds,t.nanoseconds):ft(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q{constructor(t){this.timestamp=t}static fromTimestamp(t){return new Q(t)}static min(){return new Q(new Ft(0,0))}static max(){return new Q(new Ft(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es{constructor(t,n,r){n===void 0?n=0:n>t.length&&Z(),r===void 0?r=t.length-n:r>t.length-n&&Z(),this.segments=t,this.offset=n,this.len=r}get length(){return this.len}isEqual(t){return Es.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Es?t.forEach(r=>{n.push(r)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const r=Math.min(t.length,n.length);for(let s=0;s<r;s++){const i=t.get(s),o=n.get(s);if(i<o)return-1;if(i>o)return 1}return t.length<n.length?-1:t.length>n.length?1:0}}class Tt extends Es{construct(t,n,r){return new Tt(t,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const n=[];for(const r of t){if(r.indexOf("//")>=0)throw new k(R.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Tt(n)}static emptyPath(){return new Tt([])}}const hT=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Yt extends Es{construct(t,n,r){return new Yt(t,n,r)}static isValidIdentifier(t){return hT.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Yt.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Yt(["__name__"])}static fromServerFormat(t){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new k(R.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<t.length;){const a=t[s];if(a==="\\"){if(s+1===t.length)throw new k(R.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const l=t[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new k(R.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=l,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new k(R.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Yt(n)}static emptyPath(){return new Yt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q{constructor(t){this.path=t}static fromPath(t){return new q(Tt.fromString(t))}static fromName(t){return new q(Tt.fromString(t).popFirst(5))}static empty(){return new q(Tt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Tt.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return Tt.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new q(new Tt(t.slice()))}}function fT(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,s=Q.fromTimestamp(r===1e9?new Ft(n+1,0):new Ft(n,r));return new vn(s,q.empty(),t)}function dT(e){return new vn(e.readTime,e.key,-1)}class vn{constructor(t,n,r){this.readTime=t,this.documentKey=n,this.largestBatchId=r}static min(){return new vn(Q.min(),q.empty(),-1)}static max(){return new vn(Q.max(),q.empty(),-1)}}function pT(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=q.comparator(e.documentKey,t.documentKey),n!==0?n:ft(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gT="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class mT{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tc(e){if(e.code!==R.FAILED_PRECONDITION||e.message!==gT)throw e;L("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&Z(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new w((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(t,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof w?n:w.resolve(n)}catch(n){return w.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):w.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):w.reject(n)}static resolve(t){return new w((n,r)=>{n(t)})}static reject(t){return new w((n,r)=>{r(t)})}static waitFor(t){return new w((n,r)=>{let s=0,i=0,o=!1;t.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},l=>r(l))}),o=!0,i===s&&n()})}static or(t){let n=w.resolve(!1);for(const r of t)n=n.next(s=>s?w.resolve(s):r());return n}static forEach(t,n){const r=[];return t.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(t,n){return new w((r,s)=>{const i=t.length,o=new Array(i);let a=0;for(let l=0;l<i;l++){const c=l;n(t[c]).next(u=>{o[c]=u,++a,a===i&&r(o)},u=>s(u))}})}static doWhile(t,n){return new w((r,s)=>{const i=()=>{t()===!0?n().next(()=>{i()},s):r()};i()})}}function ks(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ec{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=r=>this.se(r),this.oe=r=>n.writeSequenceNumber(r))}se(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.oe&&this.oe(t),t}}ec._e=-1;function uo(e){return e==null}function Ai(e){return e===0&&1/e==-1/0}function _T(e){return typeof e=="number"&&Number.isInteger(e)&&!Ai(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function th(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Ms(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function _p(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{constructor(t,n){this.comparator=t,this.root=n||$t.EMPTY}insert(t,n){return new St(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,$t.BLACK,null,null))}remove(t){return new St(this.comparator,this.root.remove(t,this.comparator).copy(null,null,$t.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(t){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(t,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,r)=>(t(n,r),!1))}toString(){const t=[];return this.inorderTraversal((n,r)=>(t.push(`${n}:${r}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Zs(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Zs(this.root,t,this.comparator,!1)}getReverseIterator(){return new Zs(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Zs(this.root,t,this.comparator,!0)}}class Zs{constructor(t,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!t.isEmpty();)if(i=n?r(t.key,n):1,n&&s&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(i===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class $t{constructor(t,n,r,s,i){this.key=t,this.value=n,this.color=r??$t.RED,this.left=s??$t.EMPTY,this.right=i??$t.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,r,s,i){return new $t(t??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let s=this;const i=r(t,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(t,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(t,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return $t.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let r,s=this;if(n(t,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(t,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(t,s.key)===0){if(s.right.isEmpty())return $t.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(t,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,$t.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,$t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Z();const t=this.left.check();if(t!==this.right.check())throw Z();return t+(this.isRed()?0:1)}}$t.EMPTY=null,$t.RED=!0,$t.BLACK=!1;$t.EMPTY=new class{constructor(){this.size=0}get key(){throw Z()}get value(){throw Z()}get color(){throw Z()}get left(){throw Z()}get right(){throw Z()}copy(t,n,r,s,i){return this}insert(t,n,r){return new $t(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(t){this.comparator=t,this.data=new St(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,r)=>(t(n),!1))}forEachInRange(t,n){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,t[1])>=0)return;n(s.key)}}forEachWhile(t,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new eh(this.data.getIterator())}getIteratorFrom(t){return new eh(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(r=>{n=n.add(r)}),n}isEqual(t){if(!(t instanceof Ht)||this.size!==t.size)return!1;const n=this.data.getIterator(),r=t.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new Ht(this.comparator);return n.data=t,n}}class eh{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(t){this.fields=t,t.sort(Yt.comparator)}static empty(){return new un([])}unionWith(t){let n=new Ht(Yt.comparator);for(const r of this.fields)n=n.add(r);for(const r of t)n=n.add(r);return new un(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Er(this.fields,t.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yp extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new yp("Invalid base64 string: "+i):i}}(t);return new ee(n)}static fromUint8Array(t){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(t);return new ee(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return ft(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}ee.EMPTY_BYTE_STRING=new ee("");const yT=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function En(e){if(Dt(!!e),typeof e=="string"){let t=0;const n=yT.exec(e);if(Dt(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),t=Number(s)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:bt(e.seconds),nanos:bt(e.nanos)}}function bt(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function jn(e){return typeof e=="string"?ee.fromBase64String(e):ee.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nc(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function rc(e){const t=e.mapValue.fields.__previous_value__;return nc(t)?rc(t):t}function Ts(e){const t=En(e.mapValue.fields.__local_write_time__.timestampValue);return new Ft(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vT{constructor(t,n,r,s,i,o,a,l,c){this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class ws{constructor(t,n){this.projectId=t,this.database=n||"(default)"}static empty(){return new ws("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(t){return t instanceof ws&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ti={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function qn(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?nc(e)?4:ET(e)?9007199254740991:10:Z()}function qe(e,t){if(e===t)return!0;const n=qn(e);if(n!==qn(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Ts(e).isEqual(Ts(t));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=En(s.timestampValue),a=En(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(s,i){return jn(s.bytesValue).isEqual(jn(i.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(s,i){return bt(s.geoPointValue.latitude)===bt(i.geoPointValue.latitude)&&bt(s.geoPointValue.longitude)===bt(i.geoPointValue.longitude)}(e,t);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return bt(s.integerValue)===bt(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=bt(s.doubleValue),a=bt(i.doubleValue);return o===a?Ai(o)===Ai(a):isNaN(o)&&isNaN(a)}return!1}(e,t);case 9:return Er(e.arrayValue.values||[],t.arrayValue.values||[],qe);case 10:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(th(o)!==th(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!qe(o[l],a[l])))return!1;return!0}(e,t);default:return Z()}}function Is(e,t){return(e.values||[]).find(n=>qe(n,t))!==void 0}function Tr(e,t){if(e===t)return 0;const n=qn(e),r=qn(t);if(n!==r)return ft(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ft(e.booleanValue,t.booleanValue);case 2:return function(i,o){const a=bt(i.integerValue||i.doubleValue),l=bt(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(e,t);case 3:return nh(e.timestampValue,t.timestampValue);case 4:return nh(Ts(e),Ts(t));case 5:return ft(e.stringValue,t.stringValue);case 6:return function(i,o){const a=jn(i),l=jn(o);return a.compareTo(l)}(e.bytesValue,t.bytesValue);case 7:return function(i,o){const a=i.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const u=ft(a[c],l[c]);if(u!==0)return u}return ft(a.length,l.length)}(e.referenceValue,t.referenceValue);case 8:return function(i,o){const a=ft(bt(i.latitude),bt(o.latitude));return a!==0?a:ft(bt(i.longitude),bt(o.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(i,o){const a=i.values||[],l=o.values||[];for(let c=0;c<a.length&&c<l.length;++c){const u=Tr(a[c],l[c]);if(u)return u}return ft(a.length,l.length)}(e.arrayValue,t.arrayValue);case 10:return function(i,o){if(i===ti.mapValue&&o===ti.mapValue)return 0;if(i===ti.mapValue)return 1;if(o===ti.mapValue)return-1;const a=i.fields||{},l=Object.keys(a),c=o.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let h=0;h<l.length&&h<u.length;++h){const f=ft(l[h],u[h]);if(f!==0)return f;const g=Tr(a[l[h]],c[u[h]]);if(g!==0)return g}return ft(l.length,u.length)}(e.mapValue,t.mapValue);default:throw Z()}}function nh(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return ft(e,t);const n=En(e),r=En(t),s=ft(n.seconds,r.seconds);return s!==0?s:ft(n.nanos,r.nanos)}function wr(e){return Ua(e)}function Ua(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(n){const r=En(n);return`time(${r.seconds},${r.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(n){return jn(n).toBase64()}(e.bytesValue):"referenceValue"in e?function(n){return q.fromName(n).toString()}(e.referenceValue):"geoPointValue"in e?function(n){return`geo(${n.latitude},${n.longitude})`}(e.geoPointValue):"arrayValue"in e?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=Ua(i);return r+"]"}(e.arrayValue):"mapValue"in e?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${Ua(n.fields[o])}`;return s+"}"}(e.mapValue):Z()}function rh(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function $a(e){return!!e&&"integerValue"in e}function sc(e){return!!e&&"arrayValue"in e}function sh(e){return!!e&&"nullValue"in e}function ih(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Jo(e){return!!e&&"mapValue"in e}function ts(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Ms(e.mapValue.fields,(n,r)=>t.mapValue.fields[n]=ts(r)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=ts(e.arrayValue.values[n]);return t}return Object.assign({},e)}function ET(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Le{constructor(t){this.value=t}static empty(){return new Le({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let r=0;r<t.length-1;++r)if(n=(n.mapValue.fields||{})[t.get(r)],!Jo(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=ts(n)}setAll(t){let n=Yt.emptyPath(),r={},s=[];t.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=ts(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(t){const n=this.field(t.popLast());Jo(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return qe(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<t.length;++r){let s=n.mapValue.fields[t.get(r)];Jo(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(t,n,r){Ms(n,(s,i)=>t[s]=i);for(const s of r)delete t[s]}clone(){return new Le(ts(this.value))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(t,n,r,s,i,o,a){this.key=t,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(t){return new Wt(t,0,Q.min(),Q.min(),Q.min(),Le.empty(),0)}static newFoundDocument(t,n,r,s){return new Wt(t,1,n,Q.min(),r,s,0)}static newNoDocument(t,n){return new Wt(t,2,n,Q.min(),Q.min(),Le.empty(),0)}static newUnknownDocument(t,n){return new Wt(t,3,n,Q.min(),Q.min(),Le.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(Q.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Le.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Le.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Q.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Wt&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Wt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ri{constructor(t,n){this.position=t,this.inclusive=n}}function oh(e,t,n){let r=0;for(let s=0;s<e.position.length;s++){const i=t[s],o=e.position[s];if(i.field.isKeyField()?r=q.comparator(q.fromName(o.referenceValue),n.key):r=Tr(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function ah(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!qe(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As{constructor(t,n="asc"){this.field=t,this.dir=n}}function TT(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vp{}class Vt extends vp{constructor(t,n,r){super(),this.field=t,this.op=n,this.value=r}static create(t,n,r){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,r):new IT(t,n,r):n==="array-contains"?new CT(t,r):n==="in"?new ST(t,r):n==="not-in"?new PT(t,r):n==="array-contains-any"?new bT(t,r):new Vt(t,n,r)}static createKeyFieldInFilter(t,n,r){return n==="in"?new AT(t,r):new RT(t,r)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Tr(n,this.value)):n!==null&&qn(this.value)===qn(n)&&this.matchesComparison(Tr(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Z()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class be extends vp{constructor(t,n){super(),this.filters=t,this.op=n,this.ue=null}static create(t,n){return new be(t,n)}matches(t){return Ep(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function Ep(e){return e.op==="and"}function Tp(e){return wT(e)&&Ep(e)}function wT(e){for(const t of e.filters)if(t instanceof be)return!1;return!0}function ja(e){if(e instanceof Vt)return e.field.canonicalString()+e.op.toString()+wr(e.value);if(Tp(e))return e.filters.map(t=>ja(t)).join(",");{const t=e.filters.map(n=>ja(n)).join(",");return`${e.op}(${t})`}}function wp(e,t){return e instanceof Vt?function(r,s){return s instanceof Vt&&r.op===s.op&&r.field.isEqual(s.field)&&qe(r.value,s.value)}(e,t):e instanceof be?function(r,s){return s instanceof be&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&wp(o,s.filters[a]),!0):!1}(e,t):void Z()}function Ip(e){return e instanceof Vt?function(n){return`${n.field.canonicalString()} ${n.op} ${wr(n.value)}`}(e):e instanceof be?function(n){return n.op.toString()+" {"+n.getFilters().map(Ip).join(" ,")+"}"}(e):"Filter"}class IT extends Vt{constructor(t,n,r){super(t,n,r),this.key=q.fromName(r.referenceValue)}matches(t){const n=q.comparator(t.key,this.key);return this.matchesComparison(n)}}class AT extends Vt{constructor(t,n){super(t,"in",n),this.keys=Ap("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class RT extends Vt{constructor(t,n){super(t,"not-in",n),this.keys=Ap("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function Ap(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>q.fromName(r.referenceValue))}class CT extends Vt{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return sc(n)&&Is(n.arrayValue,this.value)}}class ST extends Vt{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Is(this.value.arrayValue,n)}}class PT extends Vt{constructor(t,n){super(t,"not-in",n)}matches(t){if(Is(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&!Is(this.value.arrayValue,n)}}class bT extends Vt{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!sc(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Is(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VT{constructor(t,n=null,r=[],s=[],i=null,o=null,a=null){this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.ce=null}}function lh(e,t=null,n=[],r=[],s=null,i=null,o=null){return new VT(e,t,n,r,s,i,o)}function ic(e){const t=at(e);if(t.ce===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(r=>ja(r)).join(","),n+="|ob:",n+=t.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),uo(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(r=>wr(r)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(r=>wr(r)).join(",")),t.ce=n}return t.ce}function oc(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!TT(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!wp(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!ah(e.startAt,t.startAt)&&ah(e.endAt,t.endAt)}function qa(e){return q.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr{constructor(t,n=null,r=[],s=[],i=null,o="F",a=null,l=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=l,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function DT(e,t,n,r,s,i,o,a){return new xr(e,t,n,r,s,i,o,a)}function ac(e){return new xr(e)}function ch(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function Rp(e){return e.collectionGroup!==null}function es(e){const t=at(e);if(t.le===null){t.le=[];const n=new Set;for(const i of t.explicitOrderBy)t.le.push(i),n.add(i.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Ht(Yt.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(t).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||t.le.push(new As(i,r))}),n.has(Yt.keyField().canonicalString())||t.le.push(new As(Yt.keyField(),r))}return t.le}function Ue(e){const t=at(e);return t.he||(t.he=xT(t,es(e))),t.he}function xT(e,t){if(e.limitType==="F")return lh(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new As(s.field,i)});const n=e.endAt?new Ri(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Ri(e.startAt.position,e.startAt.inclusive):null;return lh(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function Ha(e,t){const n=e.filters.concat([t]);return new xr(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Ci(e,t,n){return new xr(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function ho(e,t){return oc(Ue(e),Ue(t))&&e.limitType===t.limitType}function Cp(e){return`${ic(Ue(e))}|lt:${e.limitType}`}function Jn(e){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>Ip(s)).join(", ")}]`),uo(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>wr(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>wr(s)).join(",")),`Target(${r})`}(Ue(e))}; limitType=${e.limitType})`}function fo(e,t){return t.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):q.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(e,t)&&function(r,s){for(const i of es(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(e,t)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(e,t)&&function(r,s){return!(r.startAt&&!function(o,a,l){const c=oh(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,es(r),s)||r.endAt&&!function(o,a,l){const c=oh(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,es(r),s))}(e,t)}function NT(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Sp(e){return(t,n)=>{let r=!1;for(const s of es(e)){const i=OT(s,t,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function OT(e,t,n){const r=e.field.isKeyField()?q.comparator(t.key,n.key):function(i,o,a){const l=o.data.field(i),c=a.data.field(i);return l!==null&&c!==null?Tr(l,c):Z()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Z()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,t))return i}}has(t){return this.get(t)!==void 0}set(t,n){const r=this.mapKeyFn(t),s=this.inner[r];if(s===void 0)return this.inner[r]=[[t,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],t))return void(s[i]=[t,n]);s.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],t))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(t){Ms(this.inner,(n,r)=>{for(const[s,i]of r)t(s,i)})}isEmpty(){return _p(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kT=new St(q.comparator);function Tn(){return kT}const Pp=new St(q.comparator);function zr(...e){let t=Pp;for(const n of e)t=t.insert(n.key,n);return t}function MT(e){let t=Pp;return e.forEach((n,r)=>t=t.insert(n,r.overlayedDocument)),t}function On(){return ns()}function bp(){return ns()}function ns(){return new Nr(e=>e.toString(),(e,t)=>e.isEqual(t))}const LT=new Ht(q.comparator);function it(...e){let t=LT;for(const n of e)t=t.add(n);return t}const FT=new Ht(ft);function BT(){return FT}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vp(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ai(t)?"-0":t}}function Dp(e){return{integerValue:""+e}}function UT(e,t){return _T(t)?Dp(t):Vp(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po{constructor(){this._=void 0}}function $T(e,t,n){return e instanceof za?function(s,i){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&nc(i)&&(i=rc(i)),i&&(o.fields.__previous_value__=i),{mapValue:o}}(n,t):e instanceof Si?xp(e,t):e instanceof Pi?Np(e,t):function(s,i){const o=qT(s,i),a=uh(o)+uh(s.Ie);return $a(o)&&$a(s.Ie)?Dp(a):Vp(s.serializer,a)}(e,t)}function jT(e,t,n){return e instanceof Si?xp(e,t):e instanceof Pi?Np(e,t):n}function qT(e,t){return e instanceof Ka?function(r){return $a(r)||function(i){return!!i&&"doubleValue"in i}(r)}(t)?t:{integerValue:0}:null}class za extends po{}class Si extends po{constructor(t){super(),this.elements=t}}function xp(e,t){const n=Op(t);for(const r of e.elements)n.some(s=>qe(s,r))||n.push(r);return{arrayValue:{values:n}}}class Pi extends po{constructor(t){super(),this.elements=t}}function Np(e,t){let n=Op(t);for(const r of e.elements)n=n.filter(s=>!qe(s,r));return{arrayValue:{values:n}}}class Ka extends po{constructor(t,n){super(),this.serializer=t,this.Ie=n}}function uh(e){return bt(e.integerValue||e.doubleValue)}function Op(e){return sc(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}function HT(e,t){return e.field.isEqual(t.field)&&function(r,s){return r instanceof Si&&s instanceof Si||r instanceof Pi&&s instanceof Pi?Er(r.elements,s.elements,qe):r instanceof Ka&&s instanceof Ka?qe(r.Ie,s.Ie):r instanceof za&&s instanceof za}(e.transform,t.transform)}class Bn{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new Bn}static exists(t){return new Bn(void 0,t)}static updateTime(t){return new Bn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function oi(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class lc{}function kp(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new KT(e.key,Bn.none()):new cc(e.key,e.data,Bn.none());{const n=e.data,r=Le.empty();let s=new Ht(Yt.comparator);for(let i of t.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new go(e.key,r,new un(s.toArray()),Bn.none())}}function zT(e,t,n){e instanceof cc?function(s,i,o){const a=s.value.clone(),l=fh(s.fieldTransforms,i,o.transformResults);a.setAll(l),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(e,t,n):e instanceof go?function(s,i,o){if(!oi(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=fh(s.fieldTransforms,i,o.transformResults),l=i.data;l.setAll(Mp(s)),l.setAll(a),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(e,t,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,t,n)}function rs(e,t,n,r){return e instanceof cc?function(i,o,a,l){if(!oi(i.precondition,o))return a;const c=i.value.clone(),u=dh(i.fieldTransforms,l,o);return c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(e,t,n,r):e instanceof go?function(i,o,a,l){if(!oi(i.precondition,o))return a;const c=dh(i.fieldTransforms,l,o),u=o.data;return u.setAll(Mp(i)),u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(h=>h.field))}(e,t,n,r):function(i,o,a){return oi(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(e,t,n)}function hh(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Er(r,s,(i,o)=>HT(i,o))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class cc extends lc{constructor(t,n,r,s=[]){super(),this.key=t,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class go extends lc{constructor(t,n,r,s,i=[]){super(),this.key=t,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Mp(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function fh(e,t,n){const r=new Map;Dt(e.length===n.length);for(let s=0;s<n.length;s++){const i=e[s],o=i.transform,a=t.data.field(i.field);r.set(i.field,jT(o,a,n[s]))}return r}function dh(e,t,n){const r=new Map;for(const s of e){const i=s.transform,o=n.data.field(s.field);r.set(s.field,$T(i,o,t))}return r}class KT extends lc{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GT{constructor(t,n,r,s){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(t,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(t.key)&&zT(i,t,r[s])}}applyToLocalView(t,n){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(n=rs(r,t,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(n=rs(r,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const r=bp();return this.mutations.forEach(s=>{const i=t.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const l=kp(o,a);l!==null&&r.set(s.key,l),o.isValidDocument()||o.convertToNoDocument(Q.min())}),r}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),it())}isEqual(t){return this.batchId===t.batchId&&Er(this.mutations,t.mutations,(n,r)=>hh(n,r))&&Er(this.baseMutations,t.baseMutations,(n,r)=>hh(n,r))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WT{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QT{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pt,nt;function Lp(e){if(e===void 0)return Je("GRPC error has no .code"),R.UNKNOWN;switch(e){case Pt.OK:return R.OK;case Pt.CANCELLED:return R.CANCELLED;case Pt.UNKNOWN:return R.UNKNOWN;case Pt.DEADLINE_EXCEEDED:return R.DEADLINE_EXCEEDED;case Pt.RESOURCE_EXHAUSTED:return R.RESOURCE_EXHAUSTED;case Pt.INTERNAL:return R.INTERNAL;case Pt.UNAVAILABLE:return R.UNAVAILABLE;case Pt.UNAUTHENTICATED:return R.UNAUTHENTICATED;case Pt.INVALID_ARGUMENT:return R.INVALID_ARGUMENT;case Pt.NOT_FOUND:return R.NOT_FOUND;case Pt.ALREADY_EXISTS:return R.ALREADY_EXISTS;case Pt.PERMISSION_DENIED:return R.PERMISSION_DENIED;case Pt.FAILED_PRECONDITION:return R.FAILED_PRECONDITION;case Pt.ABORTED:return R.ABORTED;case Pt.OUT_OF_RANGE:return R.OUT_OF_RANGE;case Pt.UNIMPLEMENTED:return R.UNIMPLEMENTED;case Pt.DATA_LOSS:return R.DATA_LOSS;default:return Z()}}(nt=Pt||(Pt={}))[nt.OK=0]="OK",nt[nt.CANCELLED=1]="CANCELLED",nt[nt.UNKNOWN=2]="UNKNOWN",nt[nt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",nt[nt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",nt[nt.NOT_FOUND=5]="NOT_FOUND",nt[nt.ALREADY_EXISTS=6]="ALREADY_EXISTS",nt[nt.PERMISSION_DENIED=7]="PERMISSION_DENIED",nt[nt.UNAUTHENTICATED=16]="UNAUTHENTICATED",nt[nt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",nt[nt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",nt[nt.ABORTED=10]="ABORTED",nt[nt.OUT_OF_RANGE=11]="OUT_OF_RANGE",nt[nt.UNIMPLEMENTED=12]="UNIMPLEMENTED",nt[nt.INTERNAL=13]="INTERNAL",nt[nt.UNAVAILABLE=14]="UNAVAILABLE",nt[nt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YT(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XT=new cr([4294967295,4294967295],0);function ph(e){const t=YT().encode(e),n=new nT;return n.update(t),new Uint8Array(n.digest())}function gh(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),s=t.getUint32(8,!0),i=t.getUint32(12,!0);return[new cr([n,r],0),new cr([s,i],0)]}class uc{constructor(t,n,r){if(this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Kr(`Invalid padding: ${n}`);if(r<0)throw new Kr(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new Kr(`Invalid hash count: ${r}`);if(t.length===0&&n!==0)throw new Kr(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*t.length-n,this.Ee=cr.fromNumber(this.Te)}de(t,n,r){let s=t.add(n.multiply(cr.fromNumber(r)));return s.compare(XT)===1&&(s=new cr([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Ee).toNumber()}Ae(t){return(this.bitmap[Math.floor(t/8)]&1<<t%8)!=0}mightContain(t){if(this.Te===0)return!1;const n=ph(t),[r,s]=gh(n);for(let i=0;i<this.hashCount;i++){const o=this.de(r,s,i);if(!this.Ae(o))return!1}return!0}static create(t,n,r){const s=t%8==0?0:8-t%8,i=new Uint8Array(Math.ceil(t/8)),o=new uc(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(t){if(this.Te===0)return;const n=ph(t),[r,s]=gh(n);for(let i=0;i<this.hashCount;i++){const o=this.de(r,s,i);this.Re(o)}}Re(t){const n=Math.floor(t/8),r=t%8;this.bitmap[n]|=1<<r}}class Kr extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo{constructor(t,n,r,s,i){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(t,n,r){const s=new Map;return s.set(t,Ls.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new mo(Q.min(),s,new St(ft),Tn(),it())}}class Ls{constructor(t,n,r,s,i){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(t,n,r){return new Ls(r,n,it(),it(),it())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai{constructor(t,n,r,s){this.Ve=t,this.removedTargetIds=n,this.key=r,this.me=s}}class Fp{constructor(t,n){this.targetId=t,this.fe=n}}class Bp{constructor(t,n,r=ee.EMPTY_BYTE_STRING,s=null){this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=s}}class mh{constructor(){this.ge=0,this.pe=yh(),this.ye=ee.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(t){t.approximateByteSize()>0&&(this.Se=!0,this.ye=t)}ve(){let t=it(),n=it(),r=it();return this.pe.forEach((s,i)=>{switch(i){case 0:t=t.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:Z()}}),new Ls(this.ye,this.we,t,n,r)}Fe(){this.Se=!1,this.pe=yh()}Me(t,n){this.Se=!0,this.pe=this.pe.insert(t,n)}xe(t){this.Se=!0,this.pe=this.pe.remove(t)}Oe(){this.ge+=1}Ne(){this.ge-=1,Dt(this.ge>=0)}Be(){this.Se=!0,this.we=!0}}class JT{constructor(t){this.Le=t,this.ke=new Map,this.qe=Tn(),this.Qe=_h(),this.Ke=new St(ft)}$e(t){for(const n of t.Ve)t.me&&t.me.isFoundDocument()?this.Ue(n,t.me):this.We(n,t.key,t.me);for(const n of t.removedTargetIds)this.We(n,t.key,t.me)}Ge(t){this.forEachTarget(t,n=>{const r=this.ze(n);switch(t.state){case 0:this.je(n)&&r.Ce(t.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(t.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Be(),r.Ce(t.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(t.resumeToken));break;default:Z()}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ke.forEach((r,s)=>{this.je(s)&&n(s)})}Je(t){const n=t.targetId,r=t.fe.count,s=this.Ye(n);if(s){const i=s.target;if(qa(i))if(r===0){const o=new q(i.path);this.We(n,o,Wt.newNoDocument(o,Q.min()))}else Dt(r===1);else{const o=this.Ze(n);if(o!==r){const a=this.Xe(t),l=a?this.et(a,t,o):1;if(l!==0){this.He(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,c)}}}}}Xe(t){const n=t.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=jn(r).toUint8Array()}catch(l){if(l instanceof yp)return vr("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new uc(o,s,i)}catch(l){return vr(l instanceof Kr?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Te===0?null:a}et(t,n,r){return n.fe.count===r-this.rt(t,n.targetId)?0:2}rt(t,n){const r=this.Le.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.Le.nt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;t.mightContain(a)||(this.We(n,i,null),s++)}),s}it(t){const n=new Map;this.ke.forEach((i,o)=>{const a=this.Ye(o);if(a){if(i.current&&qa(a.target)){const l=new q(a.target.path);this.qe.get(l)!==null||this.st(o,l)||this.We(o,l,Wt.newNoDocument(l,t))}i.De&&(n.set(o,i.ve()),i.Fe())}});let r=it();this.Qe.forEach((i,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.Ye(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.qe.forEach((i,o)=>o.setReadTime(t));const s=new mo(t,n,this.Ke,this.qe,r);return this.qe=Tn(),this.Qe=_h(),this.Ke=new St(ft),s}Ue(t,n){if(!this.je(t))return;const r=this.st(t,n.key)?2:0;this.ze(t).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(t))}We(t,n,r){if(!this.je(t))return;const s=this.ze(t);this.st(t,n)?s.Me(n,1):s.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(t)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(t){this.ke.delete(t)}Ze(t){const n=this.ze(t).ve();return this.Le.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Oe(t){this.ze(t).Oe()}ze(t){let n=this.ke.get(t);return n||(n=new mh,this.ke.set(t,n)),n}ot(t){let n=this.Qe.get(t);return n||(n=new Ht(ft),this.Qe=this.Qe.insert(t,n)),n}je(t){const n=this.Ye(t)!==null;return n||L("WatchChangeAggregator","Detected inactive target",t),n}Ye(t){const n=this.ke.get(t);return n&&n.be?null:this.Le._t(t)}He(t){this.ke.set(t,new mh),this.Le.getRemoteKeysForTarget(t).forEach(n=>{this.We(t,n,null)})}st(t,n){return this.Le.getRemoteKeysForTarget(t).has(n)}}function _h(){return new St(q.comparator)}function yh(){return new St(q.comparator)}const ZT={asc:"ASCENDING",desc:"DESCENDING"},tw={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ew={and:"AND",or:"OR"};class nw{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function Ga(e,t){return e.useProto3Json||uo(t)?t:{value:t}}function Wa(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Up(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function hr(e){return Dt(!!e),Q.fromTimestamp(function(n){const r=En(n);return new Ft(r.seconds,r.nanos)}(e))}function $p(e,t){return function(r){return new Tt(["projects",r.projectId,"databases",r.database])}(e).child("documents").child(t).canonicalString()}function jp(e){const t=Tt.fromString(e);return Dt(Kp(t)),t}function Zo(e,t){const n=jp(t);if(n.get(1)!==e.databaseId.projectId)throw new k(R.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new k(R.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new q(qp(n))}function Qa(e,t){return $p(e.databaseId,t)}function rw(e){const t=jp(e);return t.length===4?Tt.emptyPath():qp(t)}function vh(e){return new Tt(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function qp(e){return Dt(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function sw(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:Z()}(t.targetChange.targetChangeType||"NO_CHANGE"),s=t.targetChange.targetIds||[],i=function(c,u){return c.useProto3Json?(Dt(u===void 0||typeof u=="string"),ee.fromBase64String(u||"")):(Dt(u===void 0||u instanceof Uint8Array),ee.fromUint8Array(u||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,a=o&&function(c){const u=c.code===void 0?R.UNKNOWN:Lp(c.code);return new k(u,c.message||"")}(o);n=new Bp(r,s,i,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const s=Zo(e,r.document.name),i=hr(r.document.updateTime),o=r.document.createTime?hr(r.document.createTime):Q.min(),a=new Le({mapValue:{fields:r.document.fields}}),l=Wt.newFoundDocument(s,i,o,a),c=r.targetIds||[],u=r.removedTargetIds||[];n=new ai(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const s=Zo(e,r.document),i=r.readTime?hr(r.readTime):Q.min(),o=Wt.newNoDocument(s,i),a=r.removedTargetIds||[];n=new ai([],a,o.key,o)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const s=Zo(e,r.document),i=r.removedTargetIds||[];n=new ai([],i,s,null)}else{if(!("filter"in t))return Z();{t.filter;const r=t.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new QT(s,i),a=r.targetId;n=new Fp(a,o)}}return n}function iw(e,t){return{documents:[Qa(e,t.path)]}}function ow(e,t){const n={structuredQuery:{}},r=t.path;t.collectionGroup!==null?(n.parent=Qa(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Qa(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const s=function(l){if(l.length!==0)return zp(be.create(l,"and"))}(t.filters);s&&(n.structuredQuery.where=s);const i=function(l){if(l.length!==0)return l.map(c=>function(h){return{field:Zn(h.field),direction:cw(h.dir)}}(c))}(t.orderBy);i&&(n.structuredQuery.orderBy=i);const o=Ga(e,t.limit);return o!==null&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(t.endAt)),n}function aw(e){let t=rw(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Dt(r===1);const u=n.from[0];u.allDescendants?s=u.collectionId:t=t.child(u.collectionId)}let i=[];n.where&&(i=function(h){const f=Hp(h);return f instanceof be&&Tp(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(f=>function(E){return new As(tr(E.field),function(C){switch(C){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(E.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(h){let f;return f=typeof h=="object"?h.value:h,uo(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(h){const f=!!h.before,g=h.values||[];return new Ri(g,f)}(n.startAt));let c=null;return n.endAt&&(c=function(h){const f=!h.before,g=h.values||[];return new Ri(g,f)}(n.endAt)),DT(t,s,o,i,a,"F",l,c)}function lw(e,t){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Z()}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function Hp(e){return e.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=tr(n.unaryFilter.field);return Vt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=tr(n.unaryFilter.field);return Vt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=tr(n.unaryFilter.field);return Vt.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=tr(n.unaryFilter.field);return Vt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Z()}}(e):e.fieldFilter!==void 0?function(n){return Vt.create(tr(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Z()}}(n.fieldFilter.op),n.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(n){return be.create(n.compositeFilter.filters.map(r=>Hp(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Z()}}(n.compositeFilter.op))}(e):Z()}function cw(e){return ZT[e]}function uw(e){return tw[e]}function hw(e){return ew[e]}function Zn(e){return{fieldPath:e.canonicalString()}}function tr(e){return Yt.fromServerFormat(e.fieldPath)}function zp(e){return e instanceof Vt?function(n){if(n.op==="=="){if(ih(n.value))return{unaryFilter:{field:Zn(n.field),op:"IS_NAN"}};if(sh(n.value))return{unaryFilter:{field:Zn(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(ih(n.value))return{unaryFilter:{field:Zn(n.field),op:"IS_NOT_NAN"}};if(sh(n.value))return{unaryFilter:{field:Zn(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Zn(n.field),op:uw(n.op),value:n.value}}}(e):e instanceof be?function(n){const r=n.getFilters().map(s=>zp(s));return r.length===1?r[0]:{compositeFilter:{op:hw(n.op),filters:r}}}(e):Z()}function Kp(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(t,n,r,s,i=Q.min(),o=Q.min(),a=ee.EMPTY_BYTE_STRING,l=null){this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(t){return new hn(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new hn(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new hn(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new hn(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fw{constructor(t){this.ut=t}}function dw(e){const t=aw({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?Ci(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pw{constructor(){this.on=new gw}addToCollectionParentIndex(t,n){return this.on.add(n),w.resolve()}getCollectionParents(t,n){return w.resolve(this.on.getEntries(n))}addFieldIndex(t,n){return w.resolve()}deleteFieldIndex(t,n){return w.resolve()}deleteAllFieldIndexes(t){return w.resolve()}createTargetIndexes(t,n){return w.resolve()}getDocumentsMatchingTarget(t,n){return w.resolve(null)}getIndexType(t,n){return w.resolve(0)}getFieldIndexes(t,n){return w.resolve([])}getNextCollectionGroupToUpdate(t){return w.resolve(null)}getMinOffset(t,n){return w.resolve(vn.min())}getMinOffsetFromCollectionGroup(t,n){return w.resolve(vn.min())}updateCollectionGroup(t,n,r){return w.resolve()}updateIndexEntries(t,n){return w.resolve()}}class gw{constructor(){this.index={}}add(t){const n=t.lastSegment(),r=t.popLast(),s=this.index[n]||new Ht(Tt.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(t){const n=t.lastSegment(),r=t.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(t){return(this.index[t]||new Ht(Tt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ir{constructor(t){this.xn=t}next(){return this.xn+=2,this.xn}static On(){return new Ir(0)}static Nn(){return new Ir(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mw{constructor(){this.changes=new Nr(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,Wt.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?w.resolve(r):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _w{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yw{constructor(t,n,r,s){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(t,n){let r=null;return this.documentOverlayCache.getOverlay(t,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(t,n))).next(s=>(r!==null&&rs(r.mutation,s,un.empty(),Ft.now()),s))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.getLocalViewOfDocuments(t,r,it()).next(()=>r))}getLocalViewOfDocuments(t,n,r=it()){const s=On();return this.populateOverlays(t,s,n).next(()=>this.computeViews(t,n,s,r).next(i=>{let o=zr();return i.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(t,n){const r=On();return this.populateOverlays(t,r,n).next(()=>this.computeViews(t,n,r,it()))}populateOverlays(t,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(t,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(t,n,r,s){let i=Tn();const o=ns(),a=function(){return ns()}();return n.forEach((l,c)=>{const u=r.get(c.key);s.has(c.key)&&(u===void 0||u.mutation instanceof go)?i=i.insert(c.key,c):u!==void 0?(o.set(c.key,u.mutation.getFieldMask()),rs(u.mutation,c,u.mutation.getFieldMask(),Ft.now())):o.set(c.key,un.empty())}),this.recalculateAndSaveOverlays(t,i).next(l=>(l.forEach((c,u)=>o.set(c,u)),n.forEach((c,u)=>{var h;return a.set(c,new _w(u,(h=o.get(c))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(t,n){const r=ns();let s=new St((o,a)=>o-a),i=it();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let u=r.get(l)||un.empty();u=a.applyToLocalView(c,u),r.set(l,u);const h=(s.get(a.batchId)||it()).add(l);s=s.insert(a.batchId,h)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,u=l.value,h=bp();u.forEach(f=>{if(!i.has(f)){const g=kp(n.get(f),r.get(f));g!==null&&h.set(f,g),i=i.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(t,c,h))}return w.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.recalculateAndSaveOverlays(t,r))}getDocumentsMatchingQuery(t,n,r,s){return function(o){return q.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):Rp(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,r,s):this.getDocumentsMatchingCollectionQuery(t,n,r,s)}getNextDocuments(t,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,r.largestBatchId,s-i.size):w.resolve(On());let a=-1,l=i;return o.next(c=>w.forEach(c,(u,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),i.get(u)?w.resolve():this.remoteDocumentCache.getEntry(t,u).next(f=>{l=l.insert(u,f)}))).next(()=>this.populateOverlays(t,c,i)).next(()=>this.computeViews(t,l,c,it())).next(u=>({batchId:a,changes:MT(u)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new q(n)).next(r=>{let s=zr();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(t,n,r,s){const i=n.collectionGroup;let o=zr();return this.indexManager.getCollectionParents(t,i).next(a=>w.forEach(a,l=>{const c=function(h,f){return new xr(f,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,l.child(i));return this.getDocumentsMatchingCollectionQuery(t,c,r,s).next(u=>{u.forEach((h,f)=>{o=o.insert(h,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(t,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,r,i,s))).next(o=>{i.forEach((l,c)=>{const u=c.getKey();o.get(u)===null&&(o=o.insert(u,Wt.newInvalidDocument(u)))});let a=zr();return o.forEach((l,c)=>{const u=i.get(l);u!==void 0&&rs(u.mutation,c,un.empty(),Ft.now()),fo(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vw{constructor(t){this.serializer=t,this.ur=new Map,this.cr=new Map}getBundleMetadata(t,n){return w.resolve(this.ur.get(n))}saveBundleMetadata(t,n){return this.ur.set(n.id,function(s){return{id:s.id,version:s.version,createTime:hr(s.createTime)}}(n)),w.resolve()}getNamedQuery(t,n){return w.resolve(this.cr.get(n))}saveNamedQuery(t,n){return this.cr.set(n.name,function(s){return{name:s.name,query:dw(s.bundledQuery),readTime:hr(s.readTime)}}(n)),w.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ew{constructor(){this.overlays=new St(q.comparator),this.lr=new Map}getOverlay(t,n){return w.resolve(this.overlays.get(n))}getOverlays(t,n){const r=On();return w.forEach(n,s=>this.getOverlay(t,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(t,n,r){return r.forEach((s,i)=>{this.lt(t,n,i)}),w.resolve()}removeOverlaysForBatchId(t,n,r){const s=this.lr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.lr.delete(r)),w.resolve()}getOverlaysForCollection(t,n,r){const s=On(),i=n.length+1,o=new q(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===i&&l.largestBatchId>r&&s.set(l.getKey(),l)}return w.resolve(s)}getOverlaysForCollectionGroup(t,n,r,s){let i=new St((c,u)=>c-u);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let u=i.get(c.largestBatchId);u===null&&(u=On(),i=i.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const a=On(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>a.set(c,u)),!(a.size()>=s)););return w.resolve(a)}lt(t,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.lr.get(s.largestBatchId).delete(r.key);this.lr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new WT(n,r));let i=this.lr.get(n);i===void 0&&(i=it(),this.lr.set(n,i)),this.lr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hc{constructor(){this.hr=new Ht(Mt.Pr),this.Ir=new Ht(Mt.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(t,n){const r=new Mt(t,n);this.hr=this.hr.add(r),this.Ir=this.Ir.add(r)}Er(t,n){t.forEach(r=>this.addReference(r,n))}removeReference(t,n){this.dr(new Mt(t,n))}Ar(t,n){t.forEach(r=>this.removeReference(r,n))}Rr(t){const n=new q(new Tt([])),r=new Mt(n,t),s=new Mt(n,t+1),i=[];return this.Ir.forEachInRange([r,s],o=>{this.dr(o),i.push(o.key)}),i}Vr(){this.hr.forEach(t=>this.dr(t))}dr(t){this.hr=this.hr.delete(t),this.Ir=this.Ir.delete(t)}mr(t){const n=new q(new Tt([])),r=new Mt(n,t),s=new Mt(n,t+1);let i=it();return this.Ir.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(t){const n=new Mt(t,0),r=this.hr.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)}}class Mt{constructor(t,n){this.key=t,this.gr=n}static Pr(t,n){return q.comparator(t.key,n.key)||ft(t.gr,n.gr)}static Tr(t,n){return ft(t.gr,n.gr)||q.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tw{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.pr=1,this.yr=new Ht(Mt.Pr)}checkEmpty(t){return w.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,r,s){const i=this.pr;this.pr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new GT(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.yr=this.yr.add(new Mt(a.key,i)),this.indexManager.addToCollectionParentIndex(t,a.key.path.popLast());return w.resolve(o)}lookupMutationBatch(t,n){return w.resolve(this.wr(n))}getNextMutationBatchAfterBatchId(t,n){const r=n+1,s=this.Sr(r),i=s<0?0:s;return w.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return w.resolve(this.mutationQueue.length===0?-1:this.pr-1)}getAllMutationBatches(t){return w.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const r=new Mt(n,0),s=new Mt(n,Number.POSITIVE_INFINITY),i=[];return this.yr.forEachInRange([r,s],o=>{const a=this.wr(o.gr);i.push(a)}),w.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(t,n){let r=new Ht(ft);return n.forEach(s=>{const i=new Mt(s,0),o=new Mt(s,Number.POSITIVE_INFINITY);this.yr.forEachInRange([i,o],a=>{r=r.add(a.gr)})}),w.resolve(this.br(r))}getAllMutationBatchesAffectingQuery(t,n){const r=n.path,s=r.length+1;let i=r;q.isDocumentKey(i)||(i=i.child(""));const o=new Mt(new q(i),0);let a=new Ht(ft);return this.yr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===s&&(a=a.add(l.gr)),!0)},o),w.resolve(this.br(a))}br(t){const n=[];return t.forEach(r=>{const s=this.wr(r);s!==null&&n.push(s)}),n}removeMutationBatch(t,n){Dt(this.Dr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.yr;return w.forEach(n.mutations,s=>{const i=new Mt(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(t,s.key)}).next(()=>{this.yr=r})}Fn(t){}containsKey(t,n){const r=new Mt(n,0),s=this.yr.firstAfterOrEqual(r);return w.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(t){return this.mutationQueue.length,w.resolve()}Dr(t,n){return this.Sr(t)}Sr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}wr(t){const n=this.Sr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ww{constructor(t){this.Cr=t,this.docs=function(){return new St(q.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.Cr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const r=this.docs.get(n);return w.resolve(r?r.document.mutableCopy():Wt.newInvalidDocument(n))}getEntries(t,n){let r=Tn();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():Wt.newInvalidDocument(s))}),w.resolve(r)}getDocumentsMatchingQuery(t,n,r,s){let i=Tn();const o=n.path,a=new q(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||pT(dT(u),r)<=0||(s.has(u.key)||fo(n,u))&&(i=i.insert(u.key,u.mutableCopy()))}return w.resolve(i)}getAllFromCollectionGroup(t,n,r,s){Z()}vr(t,n){return w.forEach(this.docs,r=>n(r))}newChangeBuffer(t){return new Iw(this)}getSize(t){return w.resolve(this.size)}}class Iw extends mw{constructor(t){super(),this._r=t}applyChanges(t){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this._r.addEntry(t,s)):this._r.removeEntry(r)}),w.waitFor(n)}getFromCache(t,n){return this._r.getEntry(t,n)}getAllFromCache(t,n){return this._r.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aw{constructor(t){this.persistence=t,this.Fr=new Nr(n=>ic(n),oc),this.lastRemoteSnapshotVersion=Q.min(),this.highestTargetId=0,this.Mr=0,this.Or=new hc,this.targetCount=0,this.Nr=Ir.On()}forEachTarget(t,n){return this.Fr.forEach((r,s)=>n(s)),w.resolve()}getLastRemoteSnapshotVersion(t){return w.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return w.resolve(this.Mr)}allocateTargetId(t){return this.highestTargetId=this.Nr.next(),w.resolve(this.highestTargetId)}setTargetsMetadata(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Mr&&(this.Mr=n),w.resolve()}kn(t){this.Fr.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.Nr=new Ir(n),this.highestTargetId=n),t.sequenceNumber>this.Mr&&(this.Mr=t.sequenceNumber)}addTargetData(t,n){return this.kn(n),this.targetCount+=1,w.resolve()}updateTargetData(t,n){return this.kn(n),w.resolve()}removeTargetData(t,n){return this.Fr.delete(n.target),this.Or.Rr(n.targetId),this.targetCount-=1,w.resolve()}removeTargets(t,n,r){let s=0;const i=[];return this.Fr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Fr.delete(o),i.push(this.removeMatchingKeysForTargetId(t,a.targetId)),s++)}),w.waitFor(i).next(()=>s)}getTargetCount(t){return w.resolve(this.targetCount)}getTargetData(t,n){const r=this.Fr.get(n)||null;return w.resolve(r)}addMatchingKeys(t,n,r){return this.Or.Er(n,r),w.resolve()}removeMatchingKeys(t,n,r){this.Or.Ar(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(t,o))}),w.waitFor(i)}removeMatchingKeysForTargetId(t,n){return this.Or.Rr(n),w.resolve()}getMatchingKeysForTargetId(t,n){const r=this.Or.mr(n);return w.resolve(r)}containsKey(t,n){return w.resolve(this.Or.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rw{constructor(t,n){this.Br={},this.overlays={},this.Lr=new ec(0),this.kr=!1,this.kr=!0,this.referenceDelegate=t(this),this.qr=new Aw(this),this.indexManager=new pw,this.remoteDocumentCache=function(s){return new ww(s)}(r=>this.referenceDelegate.Qr(r)),this.serializer=new fw(n),this.Kr=new vw(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new Ew,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let r=this.Br[t.toKey()];return r||(r=new Tw(n,this.referenceDelegate),this.Br[t.toKey()]=r),r}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(t,n,r){L("MemoryPersistence","Starting transaction:",t);const s=new Cw(this.Lr.next());return this.referenceDelegate.$r(),r(s).next(i=>this.referenceDelegate.Ur(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Wr(t,n){return w.or(Object.values(this.Br).map(r=>()=>r.containsKey(t,n)))}}class Cw extends mT{constructor(t){super(),this.currentSequenceNumber=t}}class fc{constructor(t){this.persistence=t,this.Gr=new hc,this.zr=null}static jr(t){return new fc(t)}get Hr(){if(this.zr)return this.zr;throw Z()}addReference(t,n,r){return this.Gr.addReference(r,n),this.Hr.delete(r.toString()),w.resolve()}removeReference(t,n,r){return this.Gr.removeReference(r,n),this.Hr.add(r.toString()),w.resolve()}markPotentiallyOrphaned(t,n){return this.Hr.add(n.toString()),w.resolve()}removeTarget(t,n){this.Gr.Rr(n.targetId).forEach(s=>this.Hr.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,n.targetId).next(s=>{s.forEach(i=>this.Hr.add(i.toString()))}).next(()=>r.removeTargetData(t,n))}$r(){this.zr=new Set}Ur(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return w.forEach(this.Hr,r=>{const s=q.fromPath(r);return this.Jr(t,s).next(i=>{i||n.removeEntry(s,Q.min())})}).next(()=>(this.zr=null,n.apply(t)))}updateLimboDocument(t,n){return this.Jr(t,n).next(r=>{r?this.Hr.delete(n.toString()):this.Hr.add(n.toString())})}Qr(t){return 0}Jr(t,n){return w.or([()=>w.resolve(this.Gr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Wr(t,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dc{constructor(t,n,r,s){this.targetId=t,this.fromCache=n,this.ki=r,this.qi=s}static Qi(t,n){let r=it(),s=it();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new dc(t,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sw{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pw{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(t,n){this.Gi=t,this.indexManager=n,this.Ki=!0}getDocumentsMatchingQuery(t,n,r,s){const i={result:null};return this.zi(t,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.ji(t,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new Sw;return this.Hi(t,n,o).next(a=>{if(i.result=a,this.$i)return this.Ji(t,n,o,a.size)})}).next(()=>i.result)}Ji(t,n,r,s){return r.documentReadCount<this.Ui?($r()<=st.DEBUG&&L("QueryEngine","SDK will not create cache indexes for query:",Jn(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),w.resolve()):($r()<=st.DEBUG&&L("QueryEngine","Query:",Jn(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.Wi*s?($r()<=st.DEBUG&&L("QueryEngine","The SDK decides to create cache indexes for query:",Jn(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ue(n))):w.resolve())}zi(t,n){if(ch(n))return w.resolve(null);let r=Ue(n);return this.indexManager.getIndexType(t,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=Ci(n,null,"F"),r=Ue(n)),this.indexManager.getDocumentsMatchingTarget(t,r).next(i=>{const o=it(...i);return this.Gi.getDocuments(t,o).next(a=>this.indexManager.getMinOffset(t,r).next(l=>{const c=this.Yi(n,a);return this.Zi(n,c,o,l.readTime)?this.zi(t,Ci(n,null,"F")):this.Xi(t,c,n,l)}))})))}ji(t,n,r,s){return ch(n)||s.isEqual(Q.min())?w.resolve(null):this.Gi.getDocuments(t,r).next(i=>{const o=this.Yi(n,i);return this.Zi(n,o,r,s)?w.resolve(null):($r()<=st.DEBUG&&L("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Jn(n)),this.Xi(t,o,n,fT(s,-1)).next(a=>a))})}Yi(t,n){let r=new Ht(Sp(t));return n.forEach((s,i)=>{fo(t,i)&&(r=r.add(i))}),r}Zi(t,n,r,s){if(t.limit===null)return!1;if(r.size!==n.size)return!0;const i=t.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Hi(t,n,r){return $r()<=st.DEBUG&&L("QueryEngine","Using full collection scan to execute query:",Jn(n)),this.Gi.getDocumentsMatchingQuery(t,n,vn.min(),r)}Xi(t,n,r,s){return this.Gi.getDocumentsMatchingQuery(t,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bw{constructor(t,n,r,s){this.persistence=t,this.es=n,this.serializer=s,this.ts=new St(ft),this.ns=new Nr(i=>ic(i),oc),this.rs=new Map,this.ss=t.getRemoteDocumentCache(),this.qr=t.getTargetCache(),this.Kr=t.getBundleCache(),this.os(r)}os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new yw(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.ts))}}function Vw(e,t,n,r){return new bw(e,t,n,r)}async function Gp(e,t){const n=at(e);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.os(t),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let l=it();for(const c of s){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of i){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return n.localDocuments.getDocuments(r,l).next(c=>({_s:c,removedBatchIds:o,addedBatchIds:a}))})})}function Wp(e){const t=at(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.qr.getLastRemoteSnapshotVersion(n))}function Dw(e,t){const n=at(e),r=t.snapshotVersion;let s=n.ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.ss.newChangeBuffer({trackRemovals:!0});s=n.ts;const a=[];t.targetChanges.forEach((u,h)=>{const f=s.get(h);if(!f)return;a.push(n.qr.removeMatchingKeys(i,u.removedDocuments,h).next(()=>n.qr.addMatchingKeys(i,u.addedDocuments,h)));let g=f.withSequenceNumber(i.currentSequenceNumber);t.targetMismatches.get(h)!==null?g=g.withResumeToken(ee.EMPTY_BYTE_STRING,Q.min()).withLastLimboFreeSnapshotVersion(Q.min()):u.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(u.resumeToken,r)),s=s.insert(h,g),function(I,C,P){return I.resumeToken.approximateByteSize()===0||C.snapshotVersion.toMicroseconds()-I.snapshotVersion.toMicroseconds()>=3e8?!0:P.addedDocuments.size+P.modifiedDocuments.size+P.removedDocuments.size>0}(f,g,u)&&a.push(n.qr.updateTargetData(i,g))});let l=Tn(),c=it();if(t.documentUpdates.forEach(u=>{t.resolvedLimboDocuments.has(u)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,u))}),a.push(xw(i,o,t.documentUpdates).next(u=>{l=u.us,c=u.cs})),!r.isEqual(Q.min())){const u=n.qr.getLastRemoteSnapshotVersion(i).next(h=>n.qr.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(u)}return w.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,l,c)).next(()=>l)}).then(i=>(n.ts=s,i))}function xw(e,t,n){let r=it(),s=it();return n.forEach(i=>r=r.add(i)),t.getEntries(e,r).next(i=>{let o=Tn();return n.forEach((a,l)=>{const c=i.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(s=s.add(a)),l.isNoDocument()&&l.version.isEqual(Q.min())?(t.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(t.addEntry(l),o=o.insert(a,l)):L("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{us:o,cs:s}})}function Nw(e,t){const n=at(e);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.qr.getTargetData(r,t).next(i=>i?(s=i,w.resolve(s)):n.qr.allocateTargetId(r).next(o=>(s=new hn(t,o,"TargetPurposeListen",r.currentSequenceNumber),n.qr.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.ts.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.ts=n.ts.insert(r.targetId,r),n.ns.set(t,r.targetId)),r})}async function Ya(e,t,n){const r=at(e),s=r.ts.get(t),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!ks(o))throw o;L("LocalStore",`Failed to update sequence numbers for target ${t}: ${o}`)}r.ts=r.ts.remove(t),r.ns.delete(s.target)}function Eh(e,t,n){const r=at(e);let s=Q.min(),i=it();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,u){const h=at(l),f=h.ns.get(u);return f!==void 0?w.resolve(h.ts.get(f)):h.qr.getTargetData(c,u)}(r,o,Ue(t)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.qr.getMatchingKeysForTargetId(o,a.targetId).next(l=>{i=l})}).next(()=>r.es.getDocumentsMatchingQuery(o,t,n?s:Q.min(),n?i:it())).next(a=>(Ow(r,NT(t),a),{documents:a,ls:i})))}function Ow(e,t,n){let r=e.rs.get(t)||Q.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),e.rs.set(t,r)}class Th{constructor(){this.activeTargetIds=BT()}ds(t){this.activeTargetIds=this.activeTargetIds.add(t)}As(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Es(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class kw{constructor(){this.eo=new Th,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,r){}addLocalQueryTarget(t){return this.eo.ds(t),this.no[t]||"not-current"}updateQueryState(t,n,r){this.no[t]=n}removeLocalQueryTarget(t){this.eo.As(t)}isLocalQueryTarget(t){return this.eo.activeTargetIds.has(t)}clearQueryState(t){delete this.no[t]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(t){return this.eo.activeTargetIds.has(t)}start(){return this.eo=new Th,Promise.resolve()}handleUserChange(t,n,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mw{ro(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wh{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(t){this.ao.push(t)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){L("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.ao)t(0)}_o(){L("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.ao)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ei=null;function ta(){return ei===null?ei=function(){return 268435456+Math.round(2147483648*Math.random())}():ei++,"0x"+ei.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lw={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fw{constructor(t){this.co=t.co,this.lo=t.lo}ho(t){this.Po=t}Io(t){this.To=t}onMessage(t){this.Eo=t}close(){this.lo()}send(t){this.co(t)}Ao(){this.Po()}Ro(t){this.To(t)}Vo(t){this.Eo(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kt="WebChannelConnection";class Bw extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.mo=r+"://"+n.host,this.fo=`projects/${s}/databases/${i}`,this.po=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${i}`}get yo(){return!1}wo(n,r,s,i,o){const a=ta(),l=this.So(n,r);L("RestConnection",`Sending RPC '${n}' ${a}:`,l,s);const c={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(c,i,o),this.Do(n,l,c,s).then(u=>(L("RestConnection",`Received RPC '${n}' ${a}: `,u),u),u=>{throw vr("RestConnection",`RPC '${n}' ${a} failed with error: `,u,"url: ",l,"request:",s),u})}Co(n,r,s,i,o,a){return this.wo(n,r,s,i,o)}bo(n,r,s){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Dr}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((i,o)=>n[o]=i),s&&s.headers.forEach((i,o)=>n[o]=i)}So(n,r){const s=Lw[n];return`${this.mo}/v1/${r}:${s}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Do(t,n,r,s){const i=ta();return new Promise((o,a)=>{const l=new eT;l.setWithCredentials(!0),l.listenOnce(Z0.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Xo.NO_ERROR:const u=l.getResponseJson();L(Kt,`XHR for RPC '${t}' ${i} received:`,JSON.stringify(u)),o(u);break;case Xo.TIMEOUT:L(Kt,`RPC '${t}' ${i} timed out`),a(new k(R.DEADLINE_EXCEEDED,"Request time out"));break;case Xo.HTTP_ERROR:const h=l.getStatus();if(L(Kt,`RPC '${t}' ${i} failed with status:`,h,"response text:",l.getResponseText()),h>0){let f=l.getResponseJson();Array.isArray(f)&&(f=f[0]);const g=f==null?void 0:f.error;if(g&&g.status&&g.message){const E=function(C){const P=C.toLowerCase().replace(/_/g,"-");return Object.values(R).indexOf(P)>=0?P:R.UNKNOWN}(g.status);a(new k(E,g.message))}else a(new k(R.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new k(R.UNAVAILABLE,"Connection failed."));break;default:Z()}}finally{L(Kt,`RPC '${t}' ${i} completed.`)}});const c=JSON.stringify(s);L(Kt,`RPC '${t}' ${i} sending request:`,s),l.send(n,"POST",c,r,15)})}vo(t,n,r){const s=ta(),i=[this.mo,"/","google.firestore.v1.Firestore","/",t,"/channel"],o=X0(),a=J0(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.bo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const u=i.join("");L(Kt,`Creating RPC '${t}' stream ${s}: ${u}`,l);const h=o.createWebChannel(u,l);let f=!1,g=!1;const E=new Fw({co:C=>{g?L(Kt,`Not sending because RPC '${t}' stream ${s} is closed:`,C):(f||(L(Kt,`Opening RPC '${t}' stream ${s} transport.`),h.open(),f=!0),L(Kt,`RPC '${t}' stream ${s} sending:`,C),h.send(C))},lo:()=>h.close()}),I=(C,P,M)=>{C.listen(P,F=>{try{M(F)}catch(z){setTimeout(()=>{throw z},0)}})};return I(h,Js.EventType.OPEN,()=>{g||L(Kt,`RPC '${t}' stream ${s} transport opened.`)}),I(h,Js.EventType.CLOSE,()=>{g||(g=!0,L(Kt,`RPC '${t}' stream ${s} transport closed`),E.Ro())}),I(h,Js.EventType.ERROR,C=>{g||(g=!0,vr(Kt,`RPC '${t}' stream ${s} transport errored:`,C),E.Ro(new k(R.UNAVAILABLE,"The operation could not be completed")))}),I(h,Js.EventType.MESSAGE,C=>{var P;if(!g){const M=C.data[0];Dt(!!M);const F=M,z=F.error||((P=F[0])===null||P===void 0?void 0:P.error);if(z){L(Kt,`RPC '${t}' stream ${s} received error:`,z);const U=z.status;let ct=function(yt){const lt=Pt[yt];if(lt!==void 0)return Lp(lt)}(U),It=z.message;ct===void 0&&(ct=R.INTERNAL,It="Unknown error status: "+U+" with message "+z.message),g=!0,E.Ro(new k(ct,It)),h.close()}else L(Kt,`RPC '${t}' stream ${s} received:`,M),E.Vo(M)}}),I(a,tT.STAT_EVENT,C=>{C.stat===Ju.PROXY?L(Kt,`RPC '${t}' stream ${s} detected buffering proxy`):C.stat===Ju.NOPROXY&&L(Kt,`RPC '${t}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{E.Ao()},0),E}}function ea(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _o(e){return new nw(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qp{constructor(t,n,r=1e3,s=1.5,i=6e4){this.si=t,this.timerId=n,this.Fo=r,this.Mo=s,this.xo=i,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(t){this.cancel();const n=Math.floor(this.Oo+this.qo()),r=Math.max(0,Date.now()-this.Bo),s=Math.max(0,n-r);s>0&&L("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Oo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,s,()=>(this.Bo=Date.now(),t())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){this.No!==null&&(this.No.skipDelay(),this.No=null)}cancel(){this.No!==null&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uw{constructor(t,n,r,s,i,o,a,l){this.si=t,this.Ko=r,this.$o=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new Qp(t,n)}jo(){return this.state===1||this.state===5||this.Ho()}Ho(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Jo()}async stop(){this.jo()&&await this.close(0)}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&this.Wo===null&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(t){this.t_(),this.stream.send(t)}async Xo(){if(this.Ho())return this.close(0)}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}async close(t,n){this.t_(),this.n_(),this.zo.cancel(),this.Uo++,t!==4?this.zo.reset():n&&n.code===R.RESOURCE_EXHAUSTED?(Je(n.toString()),Je("Using maximum backoff delay to prevent overloading the backend."),this.zo.Lo()):n&&n.code===R.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.r_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Io(n)}r_(){}auth(){this.state=1;const t=this.i_(this.Uo),n=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Uo===n&&this.s_(r,s)},r=>{t(()=>{const s=new k(R.UNKNOWN,"Fetching auth token failed: "+r.message);return this.o_(s)})})}s_(t,n){const r=this.i_(this.Uo);this.stream=this.__(t,n),this.stream.ho(()=>{r(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(s=>{r(()=>this.o_(s))}),this.stream.onMessage(s=>{r(()=>this.onMessage(s))})}Jo(){this.state=5,this.zo.ko(async()=>{this.state=0,this.start()})}o_(t){return L("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}i_(t){return n=>{this.si.enqueueAndForget(()=>this.Uo===t?n():(L("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class $w extends Uw{constructor(t,n,r,s,i,o){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}__(t,n){return this.connection.vo("Listen",t,n)}onMessage(t){this.zo.reset();const n=sw(this.serializer,t),r=function(i){if(!("targetChange"in i))return Q.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?Q.min():o.readTime?hr(o.readTime):Q.min()}(t);return this.listener.a_(n,r)}u_(t){const n={};n.database=vh(this.serializer),n.addTarget=function(i,o){let a;const l=o.target;if(a=qa(l)?{documents:iw(i,l)}:{query:ow(i,l)},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=Up(i,o.resumeToken);const c=Ga(i,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(Q.min())>0){a.readTime=Wa(i,o.snapshotVersion.toTimestamp());const c=Ga(i,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,t);const r=lw(this.serializer,t);r&&(n.labels=r),this.e_(n)}c_(t){const n={};n.database=vh(this.serializer),n.removeTarget=t,this.e_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jw extends class{}{constructor(t,n,r,s){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.d_=!1}A_(){if(this.d_)throw new k(R.FAILED_PRECONDITION,"The client has already been terminated.")}wo(t,n,r){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,i])=>this.connection.wo(t,n,r,s,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===R.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new k(R.UNKNOWN,s.toString())})}Co(t,n,r,s){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Co(t,n,r,i,o,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===R.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new k(R.UNKNOWN,i.toString())})}terminate(){this.d_=!0}}class qw{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){this.V_===0&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(t){this.state==="Online"?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.p_("Offline")))}set(t){this.S_(),this.V_=0,t==="Online"&&(this.f_=!1),this.p_(t)}p_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}y_(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(Je(n),this.f_=!1):L("OnlineStateTracker",n)}S_(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hw{constructor(t,n,r,s,i){this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=i,this.F_.ro(o=>{r.enqueueAndForget(async()=>{Bs(this)&&(L("RemoteStore","Restarting streams for network reachability change."),await async function(l){const c=at(l);c.C_.add(4),await Fs(c),c.M_.set("Unknown"),c.C_.delete(4),await yo(c)}(this))})}),this.M_=new qw(r,s)}}async function yo(e){if(Bs(e))for(const t of e.v_)await t(!0)}async function Fs(e){for(const t of e.v_)await t(!1)}function Yp(e,t){const n=at(e);n.D_.has(t.targetId)||(n.D_.set(t.targetId,t),mc(n)?gc(n):Or(n).Ho()&&pc(n,t))}function Xp(e,t){const n=at(e),r=Or(n);n.D_.delete(t),r.Ho()&&Jp(n,t),n.D_.size===0&&(r.Ho()?r.Zo():Bs(n)&&n.M_.set("Unknown"))}function pc(e,t){if(e.x_.Oe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Q.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Or(e).u_(t)}function Jp(e,t){e.x_.Oe(t),Or(e).c_(t)}function gc(e){e.x_=new JT({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),_t:t=>e.D_.get(t)||null,nt:()=>e.datastore.serializer.databaseId}),Or(e).start(),e.M_.g_()}function mc(e){return Bs(e)&&!Or(e).jo()&&e.D_.size>0}function Bs(e){return at(e).C_.size===0}function Zp(e){e.x_=void 0}async function zw(e){e.D_.forEach((t,n)=>{pc(e,t)})}async function Kw(e,t){Zp(e),mc(e)?(e.M_.w_(t),gc(e)):e.M_.set("Unknown")}async function Gw(e,t,n){if(e.M_.set("Online"),t instanceof Bp&&t.state===2&&t.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.D_.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.D_.delete(a),s.x_.removeTarget(a))}(e,t)}catch(r){L("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),await Ih(e,r)}else if(t instanceof ai?e.x_.$e(t):t instanceof Fp?e.x_.Je(t):e.x_.Ge(t),!n.isEqual(Q.min()))try{const r=await Wp(e.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.x_.it(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const u=i.D_.get(c);u&&i.D_.set(c,u.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const u=i.D_.get(l);if(!u)return;i.D_.set(l,u.withResumeToken(ee.EMPTY_BYTE_STRING,u.snapshotVersion)),Jp(i,l);const h=new hn(u.target,l,c,u.sequenceNumber);pc(i,h)}),i.remoteSyncer.applyRemoteEvent(a)}(e,n)}catch(r){L("RemoteStore","Failed to raise snapshot:",r),await Ih(e,r)}}async function Ih(e,t,n){if(!ks(t))throw t;e.C_.add(1),await Fs(e),e.M_.set("Offline"),n||(n=()=>Wp(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{L("RemoteStore","Retrying IndexedDB access"),await n(),e.C_.delete(1),await yo(e)})}async function Ah(e,t){const n=at(e);n.asyncQueue.verifyOperationInProgress(),L("RemoteStore","RemoteStore received new credentials");const r=Bs(n);n.C_.add(3),await Fs(n),r&&n.M_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.C_.delete(3),await yo(n)}async function Ww(e,t){const n=at(e);t?(n.C_.delete(2),await yo(n)):t||(n.C_.add(2),await Fs(n),n.M_.set("Unknown"))}function Or(e){return e.O_||(e.O_=function(n,r,s){const i=at(n);return i.A_(),new $w(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(e.datastore,e.asyncQueue,{ho:zw.bind(null,e),Io:Kw.bind(null,e),a_:Gw.bind(null,e)}),e.v_.push(async t=>{t?(e.O_.Yo(),mc(e)?gc(e):e.M_.set("Unknown")):(await e.O_.stop(),Zp(e))})),e.O_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _c{constructor(t,n,r,s,i){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new ur,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,r,s,i){const o=Date.now()+r,a=new _c(t,n,o,s,i);return a.start(r),a}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new k(R.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function tg(e,t){if(Je("AsyncQueue",`${t}: ${e}`),ks(e))return new k(R.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr{constructor(t){this.comparator=t?(n,r)=>t(n,r)||q.comparator(n.key,r.key):(n,r)=>q.comparator(n.key,r.key),this.keyedMap=zr(),this.sortedSet=new St(this.comparator)}static emptySet(t){return new fr(t.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,r)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof fr)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const r=new fr;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rh{constructor(){this.B_=new St(q.comparator)}track(t){const n=t.doc.key,r=this.B_.get(n);r?t.type!==0&&r.type===3?this.B_=this.B_.insert(n,t):t.type===3&&r.type!==1?this.B_=this.B_.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.B_=this.B_.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.B_=this.B_.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.B_=this.B_.remove(n):t.type===1&&r.type===2?this.B_=this.B_.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.B_=this.B_.insert(n,{type:2,doc:t.doc}):Z():this.B_=this.B_.insert(n,t)}L_(){const t=[];return this.B_.inorderTraversal((n,r)=>{t.push(r)}),t}}class Ar{constructor(t,n,r,s,i,o,a,l,c){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(t,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Ar(t,n,fr.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&ho(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qw{constructor(){this.k_=void 0,this.listeners=[]}}class Yw{constructor(){this.queries=new Nr(t=>Cp(t),ho),this.onlineState="Unknown",this.q_=new Set}}async function Xw(e,t){const n=at(e),r=t.query;let s=!1,i=n.queries.get(r);if(i||(s=!0,i=new Qw),s)try{i.k_=await n.onListen(r)}catch(o){const a=tg(o,`Initialization of query '${Jn(t.query)}' failed`);return void t.onError(a)}n.queries.set(r,i),i.listeners.push(t),t.Q_(n.onlineState),i.k_&&t.K_(i.k_)&&yc(n)}async function Jw(e,t){const n=at(e),r=t.query;let s=!1;const i=n.queries.get(r);if(i){const o=i.listeners.indexOf(t);o>=0&&(i.listeners.splice(o,1),s=i.listeners.length===0)}if(s)return n.queries.delete(r),n.onUnlisten(r)}function Zw(e,t){const n=at(e);let r=!1;for(const s of t){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.listeners)a.K_(s)&&(r=!0);o.k_=s}}r&&yc(n)}function tI(e,t,n){const r=at(e),s=r.queries.get(t);if(s)for(const i of s.listeners)i.onError(n);r.queries.delete(t)}function yc(e){e.q_.forEach(t=>{t.next()})}class eI{constructor(t,n,r){this.query=t,this.U_=n,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=r||{}}K_(t){if(!this.options.includeMetadataChanges){const r=[];for(const s of t.docChanges)s.type!==3&&r.push(s);t=new Ar(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.W_?this.z_(t)&&(this.U_.next(t),n=!0):this.j_(t,this.onlineState)&&(this.H_(t),n=!0),this.G_=t,n}onError(t){this.U_.error(t)}Q_(t){this.onlineState=t;let n=!1;return this.G_&&!this.W_&&this.j_(this.G_,t)&&(this.H_(this.G_),n=!0),n}j_(t,n){if(!t.fromCache)return!0;const r=n!=="Offline";return(!this.options.J_||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}z_(t){if(t.docChanges.length>0)return!0;const n=this.G_&&this.G_.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}H_(t){t=Ar.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.W_=!0,this.U_.next(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eg{constructor(t){this.key=t}}class ng{constructor(t){this.key=t}}class nI{constructor(t,n){this.query=t,this.ia=n,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=it(),this.mutatedKeys=it(),this._a=Sp(t),this.aa=new fr(this._a)}get ua(){return this.ia}ca(t,n){const r=n?n.la:new Rh,s=n?n.aa:this.aa;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,c=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(t.inorderTraversal((u,h)=>{const f=s.get(u),g=fo(this.query,h)?h:null,E=!!f&&this.mutatedKeys.has(f.key),I=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let C=!1;f&&g?f.data.isEqual(g.data)?E!==I&&(r.track({type:3,doc:g}),C=!0):this.ha(f,g)||(r.track({type:2,doc:g}),C=!0,(l&&this._a(g,l)>0||c&&this._a(g,c)<0)&&(a=!0)):!f&&g?(r.track({type:0,doc:g}),C=!0):f&&!g&&(r.track({type:1,doc:f}),C=!0,(l||c)&&(a=!0)),C&&(g?(o=o.add(g),i=I?i.add(u):i.delete(u)):(o=o.delete(u),i=i.delete(u)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const u=this.query.limitType==="F"?o.last():o.first();o=o.delete(u.key),i=i.delete(u.key),r.track({type:1,doc:u})}return{aa:o,la:r,Zi:a,mutatedKeys:i}}ha(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,r,s){const i=this.aa;this.aa=t.aa,this.mutatedKeys=t.mutatedKeys;const o=t.la.L_();o.sort((u,h)=>function(g,E){const I=C=>{switch(C){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Z()}};return I(g)-I(E)}(u.type,h.type)||this._a(u.doc,h.doc)),this.Pa(r),s=s!=null&&s;const a=n&&!s?this.Ia():[],l=this.oa.size===0&&this.current&&!s?1:0,c=l!==this.sa;return this.sa=l,o.length!==0||c?{snapshot:new Ar(this.query,t.aa,i,o,t.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ta:a}:{Ta:a}}Q_(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({aa:this.aa,la:new Rh,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(t){return!this.ia.has(t)&&!!this.aa.has(t)&&!this.aa.get(t).hasLocalMutations}Pa(t){t&&(t.addedDocuments.forEach(n=>this.ia=this.ia.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.ia=this.ia.delete(n)),this.current=t.current)}Ia(){if(!this.current)return[];const t=this.oa;this.oa=it(),this.aa.forEach(r=>{this.Ea(r.key)&&(this.oa=this.oa.add(r.key))});const n=[];return t.forEach(r=>{this.oa.has(r)||n.push(new ng(r))}),this.oa.forEach(r=>{t.has(r)||n.push(new eg(r))}),n}da(t){this.ia=t.ls,this.oa=it();const n=this.ca(t.documents);return this.applyChanges(n,!0)}Aa(){return Ar.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,this.sa===0,this.hasCachedResults)}}class rI{constructor(t,n,r){this.query=t,this.targetId=n,this.view=r}}class sI{constructor(t){this.key=t,this.Ra=!1}}class iI{constructor(t,n,r,s,i,o){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Va={},this.ma=new Nr(a=>Cp(a),ho),this.fa=new Map,this.ga=new Set,this.pa=new St(q.comparator),this.ya=new Map,this.wa=new hc,this.Sa={},this.ba=new Map,this.Da=Ir.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return this.Ca===!0}}async function oI(e,t){const n=dI(e);let r,s;const i=n.ma.get(t);if(i)r=i.targetId,n.sharedClientState.addLocalQueryTarget(r),s=i.view.Aa();else{const o=await Nw(n.localStore,Ue(t)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,s=await aI(n,t,r,a==="current",o.resumeToken),n.isPrimaryClient&&Yp(n.remoteStore,o)}return s}async function aI(e,t,n,r,s){e.va=(h,f,g)=>async function(I,C,P,M){let F=C.view.ca(P);F.Zi&&(F=await Eh(I.localStore,C.query,!1).then(({documents:It})=>C.view.ca(It,F)));const z=M&&M.targetChanges.get(C.targetId),U=M&&M.targetMismatches.get(C.targetId)!=null,ct=C.view.applyChanges(F,I.isPrimaryClient,z,U);return Sh(I,C.targetId,ct.Ta),ct.snapshot}(e,h,f,g);const i=await Eh(e.localStore,t,!0),o=new nI(t,i.ls),a=o.ca(i.documents),l=Ls.createSynthesizedTargetChangeForCurrentChange(n,r&&e.onlineState!=="Offline",s),c=o.applyChanges(a,e.isPrimaryClient,l);Sh(e,n,c.Ta);const u=new rI(t,n,o);return e.ma.set(t,u),e.fa.has(n)?e.fa.get(n).push(t):e.fa.set(n,[t]),c.snapshot}async function lI(e,t){const n=at(e),r=n.ma.get(t),s=n.fa.get(r.targetId);if(s.length>1)return n.fa.set(r.targetId,s.filter(i=>!ho(i,t))),void n.ma.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await Ya(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),Xp(n.remoteStore,r.targetId),Xa(n,r.targetId)}).catch(tc)):(Xa(n,r.targetId),await Ya(n.localStore,r.targetId,!0))}async function rg(e,t){const n=at(e);try{const r=await Dw(n.localStore,t);t.targetChanges.forEach((s,i)=>{const o=n.ya.get(i);o&&(Dt(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?o.Ra=!0:s.modifiedDocuments.size>0?Dt(o.Ra):s.removedDocuments.size>0&&(Dt(o.Ra),o.Ra=!1))}),await ig(n,r,t)}catch(r){await tc(r)}}function Ch(e,t,n){const r=at(e);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.ma.forEach((i,o)=>{const a=o.view.Q_(t);a.snapshot&&s.push(a.snapshot)}),function(o,a){const l=at(o);l.onlineState=a;let c=!1;l.queries.forEach((u,h)=>{for(const f of h.listeners)f.Q_(a)&&(c=!0)}),c&&yc(l)}(r.eventManager,t),s.length&&r.Va.a_(s),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function cI(e,t,n){const r=at(e);r.sharedClientState.updateQueryState(t,"rejected",n);const s=r.ya.get(t),i=s&&s.key;if(i){let o=new St(q.comparator);o=o.insert(i,Wt.newNoDocument(i,Q.min()));const a=it().add(i),l=new mo(Q.min(),new Map,new St(ft),o,a);await rg(r,l),r.pa=r.pa.remove(i),r.ya.delete(t),vc(r)}else await Ya(r.localStore,t,!1).then(()=>Xa(r,t,n)).catch(tc)}function Xa(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.fa.get(t))e.ma.delete(r),n&&e.Va.Fa(r,n);e.fa.delete(t),e.isPrimaryClient&&e.wa.Rr(t).forEach(r=>{e.wa.containsKey(r)||sg(e,r)})}function sg(e,t){e.ga.delete(t.path.canonicalString());const n=e.pa.get(t);n!==null&&(Xp(e.remoteStore,n),e.pa=e.pa.remove(t),e.ya.delete(n),vc(e))}function Sh(e,t,n){for(const r of n)r instanceof eg?(e.wa.addReference(r.key,t),uI(e,r)):r instanceof ng?(L("SyncEngine","Document no longer in limbo: "+r.key),e.wa.removeReference(r.key,t),e.wa.containsKey(r.key)||sg(e,r.key)):Z()}function uI(e,t){const n=t.key,r=n.path.canonicalString();e.pa.get(n)||e.ga.has(r)||(L("SyncEngine","New document in limbo: "+n),e.ga.add(r),vc(e))}function vc(e){for(;e.ga.size>0&&e.pa.size<e.maxConcurrentLimboResolutions;){const t=e.ga.values().next().value;e.ga.delete(t);const n=new q(Tt.fromString(t)),r=e.Da.next();e.ya.set(r,new sI(n)),e.pa=e.pa.insert(n,r),Yp(e.remoteStore,new hn(Ue(ac(n.path)),r,"TargetPurposeLimboResolution",ec._e))}}async function ig(e,t,n){const r=at(e),s=[],i=[],o=[];r.ma.isEmpty()||(r.ma.forEach((a,l)=>{o.push(r.va(l,t,n).then(c=>{if((c||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,c!=null&&c.fromCache?"not-current":"current"),c){s.push(c);const u=dc.Qi(l.targetId,c);i.push(u)}}))}),await Promise.all(o),r.Va.a_(s),await async function(l,c){const u=at(l);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>w.forEach(c,f=>w.forEach(f.ki,g=>u.persistence.referenceDelegate.addReference(h,f.targetId,g)).next(()=>w.forEach(f.qi,g=>u.persistence.referenceDelegate.removeReference(h,f.targetId,g)))))}catch(h){if(!ks(h))throw h;L("LocalStore","Failed to update sequence numbers: "+h)}for(const h of c){const f=h.targetId;if(!h.fromCache){const g=u.ts.get(f),E=g.snapshotVersion,I=g.withLastLimboFreeSnapshotVersion(E);u.ts=u.ts.insert(f,I)}}}(r.localStore,i))}async function hI(e,t){const n=at(e);if(!n.currentUser.isEqual(t)){L("SyncEngine","User change. New user:",t.toKey());const r=await Gp(n.localStore,t);n.currentUser=t,function(i,o){i.ba.forEach(a=>{a.forEach(l=>{l.reject(new k(R.CANCELLED,o))})}),i.ba.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await ig(n,r._s)}}function fI(e,t){const n=at(e),r=n.ya.get(t);if(r&&r.Ra)return it().add(r.key);{let s=it();const i=n.fa.get(t);if(!i)return s;for(const o of i){const a=n.ma.get(o);s=s.unionWith(a.view.ua)}return s}}function dI(e){const t=at(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=rg.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=fI.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=cI.bind(null,t),t.Va.a_=Zw.bind(null,t.eventManager),t.Va.Fa=tI.bind(null,t.eventManager),t}class Ph{constructor(){this.synchronizeTabs=!1}async initialize(t){this.serializer=_o(t.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(t),this.persistence=this.createPersistence(t),await this.persistence.start(),this.localStore=this.createLocalStore(t),this.gcScheduler=this.createGarbageCollectionScheduler(t,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(t,this.localStore)}createGarbageCollectionScheduler(t,n){return null}createIndexBackfillerScheduler(t,n){return null}createLocalStore(t){return Vw(this.persistence,new Pw,t.initialUser,this.serializer)}createPersistence(t){return new Rw(fc.jr,this.serializer)}createSharedClientState(t){return new kw}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class pI{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Ch(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=hI.bind(null,this.syncEngine),await Ww(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new Yw}()}createDatastore(t){const n=_o(t.databaseInfo.databaseId),r=function(i){return new Bw(i)}(t.databaseInfo);return function(i,o,a,l){return new jw(i,o,a,l)}(t.authCredentials,t.appCheckCredentials,r,n)}createRemoteStore(t){return function(r,s,i,o,a){return new Hw(r,s,i,o,a)}(this.localStore,this.datastore,t.asyncQueue,n=>Ch(this.syncEngine,n,0),function(){return wh.D()?new wh:new Mw}())}createSyncEngine(t,n){return function(s,i,o,a,l,c,u){const h=new iI(s,i,o,a,l,c);return u&&(h.Ca=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}terminate(){return async function(n){const r=at(n);L("RemoteStore","RemoteStore shutting down."),r.C_.add(5),await Fs(r),r.F_.shutdown(),r.M_.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gI{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Oa(this.observer.next,t)}error(t){this.observer.error?this.Oa(this.observer.error,t):Je("Uncaught Error in snapshot listener:",t.toString())}Na(){this.muted=!0}Oa(t,n){this.muted||setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mI{constructor(t,n,r,s){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Gt.UNAUTHENTICATED,this.clientId=mp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async i=>{L("FirestoreClient","Received user=",i.uid),await this.authCredentialListener(i),this.user=i}),this.appCheckCredentials.start(r,i=>(L("FirestoreClient","Received new app check token=",i),this.appCheckCredentialListener(i,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new k(R.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const t=new ur;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const r=tg(n,"Failed to shutdown persistence");t.reject(r)}}),t.promise}}async function na(e,t){e.asyncQueue.verifyOperationInProgress(),L("FirestoreClient","Initializing OfflineComponentProvider");const n=await e.getConfiguration();await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async s=>{r.isEqual(s)||(await Gp(t.localStore,s),r=s)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function bh(e,t){e.asyncQueue.verifyOperationInProgress();const n=await yI(e);L("FirestoreClient","Initializing OnlineComponentProvider");const r=await e.getConfiguration();await t.initialize(n,r),e.setCredentialChangeListener(s=>Ah(t.remoteStore,s)),e.setAppCheckTokenChangeListener((s,i)=>Ah(t.remoteStore,i)),e._onlineComponents=t}function _I(e){return e.name==="FirebaseError"?e.code===R.FAILED_PRECONDITION||e.code===R.UNIMPLEMENTED:!(typeof DOMException<"u"&&e instanceof DOMException)||e.code===22||e.code===20||e.code===11}async function yI(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){L("FirestoreClient","Using user provided OfflineComponentProvider");try{await na(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!_I(n))throw n;vr("Error using user provided cache. Falling back to memory cache: "+n),await na(e,new Ph)}}else L("FirestoreClient","Using default OfflineComponentProvider"),await na(e,new Ph);return e._offlineComponents}async function vI(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(L("FirestoreClient","Using user provided OnlineComponentProvider"),await bh(e,e._uninitializedComponentsProvider._online)):(L("FirestoreClient","Using default OnlineComponentProvider"),await bh(e,new pI))),e._onlineComponents}async function Vh(e){const t=await vI(e),n=t.eventManager;return n.onListen=oI.bind(null,t.syncEngine),n.onUnlisten=lI.bind(null,t.syncEngine),n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function og(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dh=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ag(e,t,n){if(!n)throw new k(R.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function EI(e,t,n,r){if(t===!0&&r===!0)throw new k(R.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function xh(e){if(!q.isDocumentKey(e))throw new k(R.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function Nh(e){if(q.isDocumentKey(e))throw new k(R.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function vo(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(r){return r.constructor?r.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":Z()}function li(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new k(R.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=vo(e);throw new k(R.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}function TI(e,t){if(t<=0)throw new k(R.INVALID_ARGUMENT,`Function ${e}() requires a positive number, but it was: ${t}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh{constructor(t){var n,r;if(t.host===void 0){if(t.ssl!==void 0)throw new k(R.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(n=t.ssl)===null||n===void 0||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new k(R.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}EI("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=og((r=t.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new k(R.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new k(R.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new k(R.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Eo{constructor(t,n,r,s){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Oh({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new k(R.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(t){if(this._settingsFrozen)throw new k(R.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Oh(t),t.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new rT;switch(r.type){case"firstParty":return new aT(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new k(R.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Dh.get(n);r&&(L("ComponentProvider","Removing Datastore"),Dh.delete(n),r.terminate())}(this),Promise.resolve()}}function wI(e,t,n,r={}){var s;const i=(e=li(e,Eo))._getSettings(),o=`${t}:${n}`;if(i.host!=="firestore.googleapis.com"&&i.host!==o&&vr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},i),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=Gt.MOCK_USER;else{a=kv(r.mockUserToken,(s=e._app)===null||s===void 0?void 0:s.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new k(R.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Gt(c)}e._authCredentials=new sT(new gp(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new An(this.firestore,t,this._query)}}class ge{constructor(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new mn(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new ge(this.firestore,t,this._key)}}class mn extends An{constructor(t,n,r){super(t,n,ac(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new ge(this.firestore,null,new q(t))}withConverter(t){return new mn(this.firestore,t,this._path)}}function II(e,t,...n){if(e=_r(e),ag("collection","path",t),e instanceof Eo){const r=Tt.fromString(t,...n);return Nh(r),new mn(e,null,r)}{if(!(e instanceof ge||e instanceof mn))throw new k(R.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(Tt.fromString(t,...n));return Nh(r),new mn(e.firestore,null,r)}}function AA(e,t,...n){if(e=_r(e),arguments.length===1&&(t=mp.newId()),ag("doc","path",t),e instanceof Eo){const r=Tt.fromString(t,...n);return xh(r),new ge(e,null,new q(r))}{if(!(e instanceof ge||e instanceof mn))throw new k(R.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(Tt.fromString(t,...n));return xh(r),new ge(e.firestore,e instanceof mn?e.converter:null,new q(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AI{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new Qp(this,"async_queue_retry"),this.iu=()=>{const n=ea();n&&L("AsyncQueue","Visibility state changed to "+n.visibilityState),this.zo.Qo()};const t=ea();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.su(),this.ou(t)}enterRestrictedMode(t){if(!this.Za){this.Za=!0,this.nu=t||!1;const n=ea();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.iu)}}enqueue(t){if(this.su(),this.Za)return new Promise(()=>{});const n=new ur;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Ya.push(t),this._u()))}async _u(){if(this.Ya.length!==0){try{await this.Ya[0](),this.Ya.shift(),this.zo.reset()}catch(t){if(!ks(t))throw t;L("AsyncQueue","Operation failed with retryable error: "+t)}this.Ya.length>0&&this.zo.ko(()=>this._u())}}ou(t){const n=this.Ja.then(()=>(this.tu=!0,t().catch(r=>{this.eu=r,this.tu=!1;const s=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw Je("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.tu=!1,r))));return this.Ja=n,n}enqueueAfterDelay(t,n,r){this.su(),this.ru.indexOf(t)>-1&&(n=0);const s=_c.createAndSchedule(this,t,n,r,i=>this.au(i));return this.Xa.push(s),s}su(){this.eu&&Z()}verifyOperationInProgress(){}async uu(){let t;do t=this.Ja,await t;while(t!==this.Ja)}cu(t){for(const n of this.Xa)if(n.timerId===t)return!0;return!1}lu(t){return this.uu().then(()=>{this.Xa.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Xa)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.uu()})}hu(t){this.ru.push(t)}au(t){const n=this.Xa.indexOf(t);this.Xa.splice(n,1)}}function kh(e){return function(n,r){if(typeof n!="object"||n===null)return!1;const s=n;for(const i of r)if(i in s&&typeof s[i]=="function")return!0;return!1}(e,["next","error","complete"])}class Ja extends Eo{constructor(t,n,r,s){super(t,n,r,s),this.type="firestore",this._queue=function(){return new AI}(),this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||lg(this),this._firestoreClient.terminate()}}function RI(e,t){const n=typeof e=="object"?e:BE(),r=typeof e=="string"?e:t||"(default)",s=kE(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=Nv("firestore");i&&wI(s,...i)}return s}function CI(e){return e._firestoreClient||lg(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function lg(e){var t,n,r;const s=e._freezeSettings(),i=function(a,l,c,u){return new vT(a,l,c,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,og(u.experimentalLongPollingOptions),u.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,s);e._firestoreClient=new mI(e._authCredentials,e._appCheckCredentials,e._queue,i),!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:s.localCache.kind,_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Rr(ee.fromBase64String(t))}catch(n){throw new k(R.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Rr(ee.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cg{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new k(R.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Yt(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ug{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ec{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new k(R.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new k(R.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return ft(this._lat,t._lat)||ft(this._long,t._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SI=/^__.*__$/;function hg(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Z()}}class Tc{constructor(t,n,r,s,i,o){this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Pu(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(t){return new Tc(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),s=this.Tu({path:r,du:!1});return s.Au(t),s}Ru(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),s=this.Tu({path:r,du:!1});return s.Pu(),s}Vu(t){return this.Tu({path:void 0,du:!0})}mu(t){return Za(t,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}Pu(){if(this.path)for(let t=0;t<this.path.length;t++)this.Au(this.path.get(t))}Au(t){if(t.length===0)throw this.mu("Document fields must not be empty");if(hg(this.Iu)&&SI.test(t))throw this.mu('Document fields cannot begin and end with "__"')}}class PI{constructor(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||_o(t)}pu(t,n,r,s=!1){return new Tc({Iu:t,methodName:n,gu:r,path:Yt.emptyPath(),du:!1,fu:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function bI(e){const t=e._freezeSettings(),n=_o(e._databaseId);return new PI(e._databaseId,!!t.ignoreUndefinedProperties,n)}function VI(e,t,n,r=!1){return wc(n,e.pu(r?4:3,t))}function wc(e,t){if(fg(e=_r(e)))return xI("Unsupported field value:",t,e),DI(e,t);if(e instanceof ug)return function(r,s){if(!hg(s.Iu))throw s.mu(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.mu(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.du&&t.Iu!==4)throw t.mu("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let l=wc(a,s.Vu(o));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),o++}return{arrayValue:{values:i}}}(e,t)}return function(r,s){if((r=_r(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return UT(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=Ft.fromDate(r);return{timestampValue:Wa(s.serializer,i)}}if(r instanceof Ft){const i=new Ft(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Wa(s.serializer,i)}}if(r instanceof Ec)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Rr)return{bytesValue:Up(s.serializer,r._byteString)};if(r instanceof ge){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.mu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:$p(r.firestore._databaseId||s.databaseId,r._key.path)}}throw s.mu(`Unsupported field value: ${vo(r)}`)}(e,t)}function DI(e,t){const n={};return _p(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ms(e,(r,s)=>{const i=wc(s,t.Eu(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function fg(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof Ft||e instanceof Ec||e instanceof Rr||e instanceof ge||e instanceof ug)}function xI(e,t,n){if(!fg(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=vo(n);throw r==="an object"?t.mu(e+" a custom object"):t.mu(e+" "+r)}}const NI=new RegExp("[~\\*/\\[\\]]");function OI(e,t,n){if(t.search(NI)>=0)throw Za(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new cg(...t.split("."))._internalPath}catch{throw Za(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function Za(e,t,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${t}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(i||o)&&(l+=" (found",i&&(l+=` in field ${r}`),o&&(l+=` in document ${s}`),l+=")"),new k(R.INVALID_ARGUMENT,a+e+l)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dg{constructor(t,n,r,s,i){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new ge(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new kI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(To("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class kI extends dg{data(){return super.data()}}function To(e,t){return typeof t=="string"?OI(e,t):t instanceof cg?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MI(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new k(R.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ic{}class Ac extends Ic{}function LI(e,t,...n){let r=[];t instanceof Ic&&r.push(t),r=r.concat(n),function(i){const o=i.filter(l=>l instanceof Rc).length,a=i.filter(l=>l instanceof wo).length;if(o>1||o>0&&a>0)throw new k(R.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)e=s._apply(e);return e}class wo extends Ac{constructor(t,n,r){super(),this._field=t,this._op=n,this._value=r,this.type="where"}static _create(t,n,r){return new wo(t,n,r)}_apply(t){const n=this._parse(t);return pg(t._query,n),new An(t.firestore,t.converter,Ha(t._query,n))}_parse(t){const n=bI(t.firestore);return function(i,o,a,l,c,u,h){let f;if(c.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new k(R.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){Lh(h,u);const g=[];for(const E of h)g.push(Mh(l,i,E));f={arrayValue:{values:g}}}else f=Mh(l,i,h)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||Lh(h,u),f=VI(a,o,h,u==="in"||u==="not-in");return Vt.create(c,u,f)}(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}function RA(e,t,n){const r=t,s=To("where",e);return wo._create(s,r,n)}class Rc extends Ic{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new Rc(t,n)}_parse(t){const n=this._queryConstraints.map(r=>r._parse(t)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:be.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:(function(s,i){let o=s;const a=i.getFlattenedFilters();for(const l of a)pg(o,l),o=Ha(o,l)}(t._query,n),new An(t.firestore,t.converter,Ha(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Cc extends Ac{constructor(t,n){super(),this._field=t,this._direction=n,this.type="orderBy"}static _create(t,n){return new Cc(t,n)}_apply(t){const n=function(s,i,o){if(s.startAt!==null)throw new k(R.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new k(R.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new As(i,o)}(t._query,this._field,this._direction);return new An(t.firestore,t.converter,function(s,i){const o=s.explicitOrderBy.concat([i]);return new xr(s.path,s.collectionGroup,o,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(t._query,n))}}function FI(e,t="asc"){const n=t,r=To("orderBy",e);return Cc._create(r,n)}class Sc extends Ac{constructor(t,n,r){super(),this.type=t,this._limit=n,this._limitType=r}static _create(t,n,r){return new Sc(t,n,r)}_apply(t){return new An(t.firestore,t.converter,Ci(t._query,this._limit,this._limitType))}}function BI(e){return TI("limit",e),Sc._create("limit",e,"F")}function Mh(e,t,n){if(typeof(n=_r(n))=="string"){if(n==="")throw new k(R.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Rp(t)&&n.indexOf("/")!==-1)throw new k(R.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(Tt.fromString(n));if(!q.isDocumentKey(r))throw new k(R.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return rh(e,new q(r))}if(n instanceof ge)return rh(e,n._key);throw new k(R.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${vo(n)}.`)}function Lh(e,t){if(!Array.isArray(e)||e.length===0)throw new k(R.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function pg(e,t){const n=function(s,i){for(const o of s)for(const a of o.getFlattenedFilters())if(i.indexOf(a.op)>=0)return a.op;return null}(e.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(n!==null)throw n===t.op?new k(R.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new k(R.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class UI{convertValue(t,n="none"){switch(qn(t)){case 0:return null;case 1:return t.booleanValue;case 2:return bt(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(jn(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 10:return this.convertObject(t.mapValue,n);default:throw Z()}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const r={};return Ms(t,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertGeoPoint(t){return new Ec(bt(t.latitude),bt(t.longitude))}convertArray(t,n){return(t.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(t,n){switch(n){case"previous":const r=rc(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Ts(t));default:return null}}convertTimestamp(t){const n=En(t);return new Ft(n.seconds,n.nanos)}convertDocumentKey(t,n){const r=Tt.fromString(t);Dt(Kp(r));const s=new ws(r.get(1),r.get(3)),i=new q(r.popFirst(5));return s.isEqual(n)||Je(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gr{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class gg extends dg{constructor(t,n,r,s,i,o){super(t,n,r,s,o),this._firestore=t,this._firestoreImpl=t,this.metadata=i}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new ci(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const r=this._document.data.field(To("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class ci extends gg{data(t={}){return super.data(t)}}class $I{constructor(t,n,r,s){this._firestore=t,this._userDataWriter=n,this._snapshot=s,this.metadata=new Gr(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(r=>{t.call(n,new ci(this._firestore,this._userDataWriter,r.key,r,new Gr(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new k(R.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const l=new ci(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Gr(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const l=new ci(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Gr(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let c=-1,u=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),u=o.indexOf(a.doc.key)),{type:jI(a.type),doc:l,oldIndex:c,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function jI(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Z()}}class mg extends UI{constructor(t){super(),this.firestore=t}convertBytes(t){return new Rr(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new ge(this.firestore,null,n)}}function Fh(e,...t){var n,r,s;e=_r(e);let i={includeMetadataChanges:!1},o=0;typeof t[o]!="object"||kh(t[o])||(i=t[o],o++);const a={includeMetadataChanges:i.includeMetadataChanges};if(kh(t[o])){const h=t[o];t[o]=(n=h.next)===null||n===void 0?void 0:n.bind(h),t[o+1]=(r=h.error)===null||r===void 0?void 0:r.bind(h),t[o+2]=(s=h.complete)===null||s===void 0?void 0:s.bind(h)}let l,c,u;if(e instanceof ge)c=li(e.firestore,Ja),u=ac(e._key.path),l={next:h=>{t[o]&&t[o](qI(c,e,h))},error:t[o+1],complete:t[o+2]};else{const h=li(e,An);c=li(h.firestore,Ja),u=h._query;const f=new mg(c);l={next:g=>{t[o]&&t[o](new $I(c,f,h,g))},error:t[o+1],complete:t[o+2]},MI(e._query)}return function(f,g,E,I){const C=new gI(I),P=new eI(g,C,E);return f.asyncQueue.enqueueAndForget(async()=>Xw(await Vh(f),P)),()=>{C.Na(),f.asyncQueue.enqueueAndForget(async()=>Jw(await Vh(f),P))}}(CI(c),u,a,l)}function qI(e,t,n){const r=n.docs.get(t._key),s=new mg(e);return new gg(e,s,t._key,r,new Gr(n.hasPendingWrites,n.fromCache),t.converter)}(function(t,n=!0){(function(s){Dr=s})(FE),_i(new us("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new Ja(new iT(r.getProvider("auth-internal")),new cT(r.getProvider("app-check-internal")),function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new k(R.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ws(c.options.projectId,u)}(o,s),o);return i=Object.assign({useFetchStreams:n},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),ar(Zu,"4.4.0",t),ar(Zu,"4.4.0","esm2017")})();const HI={apiKey:"AIzaSyBmx3k3Fn9-2uF2rFmmE7TeAvRdnBmcqHw",authDomain:"bingo-card-generator-7335a.firebaseapp.com",projectId:"bingo-card-generator-7335a",storageBucket:"bingo-card-generator-7335a.appspot.com",messagingSenderId:"307692627485",appId:"1:307692627485:web:29128c71c307033f3c88f4"},zI=cd(HI),KI=RI(zI);function tl(e){return Gh()?(Ng(e),!0):!1}function GI(e){return typeof e=="function"?e():ae(e)}const WI=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const QI=e=>typeof e<"u";function YI(e,t,n={}){const{immediate:r=!0}=n,s=Rs(!1);let i=null;function o(){i&&(clearTimeout(i),i=null)}function a(){s.value=!1,o()}function l(...c){o(),s.value=!0,i=setTimeout(()=>{s.value=!1,i=null,e(...c)},GI(t))}return r&&(s.value=!0,WI&&l()),tl(a),{isPending:hl(s),start:l,stop:a}}function Bh(e){const t=e.data();return t&&Object.defineProperty(t,"id",{value:e.id.toString(),writable:!1}),t}function XI(e){var t;return(((t=e.path)==null?void 0:t.match(/\//g))||[]).length%2!==0}function JI(e,t=void 0,n={}){const{errorHandler:r=l=>console.error(l),autoDispose:s=!0}=n,i=te(e)?e:ye(()=>e);let o=()=>{};const a=Rs(t);return Wr(i,l=>{o(),i.value?XI(i.value)?o=Fh(l,c=>{a.value=Bh(c)||null},r):o=Fh(l,c=>{a.value=c.docs.map(Bh).filter(QI)},r):a.value=t},{immediate:!0}),s===!0?tl(()=>{o()}):typeof s=="number"&&tl(()=>{YI(()=>{o()},s)}),a}const ZI={fill:"none",xmlns:"http://www.w3.org/2000/svg",viewBox:"8.5 6 7 12"},el=ce({__name:"IconCaret",props:{color:{}},setup(e){return(t,n)=>(Xt(),pe("svg",ZI,[Y("path",{style:je({fill:t.color??"#fff"}),"fill-rule":"evenodd","clip-rule":"evenodd",d:"M8.79289 6.29289C9.18342 5.90237 9.81658 5.90237 10.2071 6.29289L15.2071 11.2929C15.5976 11.6834 15.5976 12.3166 15.2071 12.7071L10.2071 17.7071C9.81658 18.0976 9.18342 18.0976 8.79289 17.7071C8.40237 17.3166 8.40237 16.6834 8.79289 16.2929L13.0858 12L8.79289 7.70711C8.40237 7.31658 8.40237 6.68342 8.79289 6.29289Z"},null,4)]))}}),tA={class:"game"},eA={class:"description"},nA={class:"time-ago"},rA=ce({__name:"GameCard",props:{id:{},title:{},description:{},updatedAt:{}},setup(e){return(t,n)=>{const r=yl("RouterLink");return Xt(),Tl(r,{to:`/game/${t.id}`},{default:Ie(()=>[Y("div",tA,[Y("h2",null,Co(t.title),1),Y("p",eA,Co(t.description),1),Y("p",nA,Co(t.updatedAt),1),et(el,{color:"var(--color-background)",class:"arrow"})])]),_:1},8,["to"])}}}),sA=Cs(rA,[["__scopeId","data-v-f6b1e340"]]),iA={viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},oA=ce({__name:"IconPlus",props:{color:{}},setup(e){return(t,n)=>(Xt(),pe("svg",iA,[Y("path",{style:je({stroke:t.color??"#fff"}),d:"M4 12H20M12 4V20",stroke:"#000000","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},null,4)]))}}),Io=e=>(ml("data-v-2d27884a"),e=e(),_l(),e),aA={class:"intro"},lA=Io(()=>Y("h1",null,[Y("span",null,"Create and play."),Y("br"),Ne(" Fun custom bingo games! ")],-1)),cA=Io(()=>Y("p",{class:"intro-text"}," A lot of boring meetings or simply want to make an event more fun? Create your own bingo game and share it with your friends and colleagues! ",-1)),uA={class:"button-container"},hA=Io(()=>Y("span",null,"Create a new game",-1)),fA=Io(()=>Y("p",null,"check out popular games",-1)),dA=ce({__name:"IntroComponent",emits:["scroll-to-games","example"],setup(e,{emit:t}){return(n,r)=>{const s=yl("RouterLink");return Xt(),pe("div",aA,[lA,cA,Y("div",uA,[et(s,{to:"/create",class:"start-new-button"},{default:Ie(()=>[et(oA,{color:"var(--color-foreground-light)",class:"plus"}),hA]),_:1}),Y("button",{class:"demo",onClick:r[0]||(r[0]=i=>n.$emit("scroll-to-games"))},[et(el,{color:"var(--color-primary-dark)",class:"arrow-down"}),fA,et(el,{color:"var(--color-primary-dark)",class:"arrow-down"})])])])}}}),pA=Cs(dA,[["__scopeId","data-v-2d27884a"]]),gA=Y("h1",null,"Most popular Bingo games",-1),mA={key:1,class:"no-games"},_A=ce({__name:"HomeView",setup(e){const t=LI(II(KI,"games"),FI("updatedAt","desc"),BI(5)),n=JI(t,void 0,{autoDispose:!1}),r=Rs(null),s=()=>{if(!r.value)return;const o=r.value.getBoundingClientRect().top+window.scrollY-80;window.scrollTo({top:o,behavior:"smooth"})};return(i,o)=>{var a;return Xt(),pe(fe,null,[et(pA,{onScrollToGames:s}),Y("div",{class:"games-container",ref_key:"gamesContainer",ref:r},[gA,(a=ae(n))!=null&&a.length?(Xt(!0),pe(fe,{key:0},Om(ae(n),l=>(Xt(),Tl(sA,{key:l.id,id:l.id,title:l.name,description:l.description,updatedAt:l.updatedAt},null,8,["id","title","description","updatedAt"]))),128)):(Xt(),pe("p",mA,"No games found"))],512)],64)}}}),yA=Hy({history:ay("/"),routes:[{path:"/",name:"home",component:_A},{path:"/game/:id",name:"game",component:()=>Bo(()=>import("./GameView-D1pNhc3U.js"),__vite__mapDeps([]))},{path:"/pricing",name:"pricing",component:()=>Bo(()=>import("./PricingView-EX8bwKNf.js"),__vite__mapDeps([]))},{path:"/create",name:"create",component:()=>Bo(()=>import("./CreateView-CMExkqMF.js"),__vite__mapDeps([]))}]}),_g=$_(Tv);_g.use(yA);_g.mount("#app");export{fe as F,Cs as _,AA as a,ae as b,II as c,ce as d,Xt as e,pe as f,Y as g,vA as h,EA as i,Ky as j,KI as k,FI as o,LI as q,Om as r,Co as t,JI as u,RA as w};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = []
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}