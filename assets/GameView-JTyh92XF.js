import{d as I,i as d,b as c,e,n as N,l as U,f as a,m as $,p as oe,N as se,s as ae,_ as S,k as z,w as f,t as x,v as T,r as m,x as b,y as A,z as O,A as Z,B as F,C as he,h as R,D as q,E,u as p,H as V,g,I as H,J as W,K as fe,L as we,M as te,a as ge,O as ne,P as le,F as j,q as de,o as re,Q as ie,c as ce,T as ue,j as pe,R as ye}from"./index-BtYyn_Ju.js";import{v as ve,s as Ce,a as be,d as ke,b as $e,c as Ie,e as Me,f as De,g as Le,h as Pe}from"./firestore-rTsxB1K6.js";import{D as J,_ as Q}from"./DeleteConfirmationDialog-VWjWIwei.js";import{D as _e}from"./DialogComponent-qr6EL-JJ.js";const Ve={viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Y=I({__name:"IconEdit",props:{color:{}},setup(o){return(l,n)=>(d(),c("svg",Ve,[e("path",{style:N({stroke:l.color??"#fff"}),d:"M21.2799 6.40005L11.7399 15.94C10.7899 16.89 7.96987 17.33 7.33987 16.7C6.70987 16.07 7.13987 13.25 8.08987 12.3L17.6399 2.75002C17.8754 2.49308 18.1605 2.28654 18.4781 2.14284C18.7956 1.99914 19.139 1.92124 19.4875 1.9139C19.8359 1.90657 20.1823 1.96991 20.5056 2.10012C20.8289 2.23033 21.1225 2.42473 21.3686 2.67153C21.6147 2.91833 21.8083 3.21243 21.9376 3.53609C22.0669 3.85976 22.1294 4.20626 22.1211 4.55471C22.1128 4.90316 22.0339 5.24635 21.8894 5.5635C21.7448 5.88065 21.5375 6.16524 21.2799 6.40005V6.40005Z","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"},null,4),e("path",{style:N({stroke:l.color??"#fff"}),d:"M11 4H6C4.93913 4 3.92178 4.42142 3.17163 5.17157C2.42149 5.92172 2 6.93913 2 8V18C2 19.0609 2.42149 20.0783 3.17163 20.8284C3.92178 21.5786 4.93913 22 6 22H17C19.21 22 20 20.2 20 18V13","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"},null,4)]))}}),Se={id:"Page-1",stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd","sketch:type":"MSPage"},Ge=e("path",{d:"M171,525 C171.552,525 172,524.553 172,524 L172,520 C172,519.447 171.552,519 171,519 C170.448,519 170,519.447 170,520 L170,524 C170,524.553 170.448,525 171,525 L171,525 Z M182,543 C182,544.104 181.104,545 180,545 L156,545 C154.896,545 154,544.104 154,543 L154,519 C154,517.896 154.896,517 156,517 L158,517 L158,527 C158,528.104 158.896,529 160,529 L176,529 C177.104,529 178,528.104 178,527 L178,517 L180,517 C181.104,517 182,517.896 182,519 L182,543 L182,543 Z M160,517 L176,517 L176,526 C176,526.553 175.552,527 175,527 L161,527 C160.448,527 160,526.553 160,526 L160,517 L160,517 Z M180,515 L156,515 C153.791,515 152,516.791 152,519 L152,543 C152,545.209 153.791,547 156,547 L180,547 C182.209,547 184,545.209 184,543 L184,519 C184,516.791 182.209,515 180,515 L180,515 Z",id:"save-floppy","sketch:type":"MSShapeGroup"},null,-1),Be=[Ge],X=I({__name:"IconSave",props:{color:{}},setup(o){return(l,n)=>(d(),c("svg",{style:N({fill:l.color??"#fff"}),viewBox:"0 0 32 32",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:sketch":"http://www.bohemiancoding.com/sketch/ns"},[e("g",Se,[e("g",{style:N({fill:l.color??"#fff"}),id:"Icon-Set","sketch:type":"MSLayerGroup",transform:"translate(-152.000000, -515.000000)"},Be,4)])],4))}}),Ee={id:"Page-1",stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd","sketch:type":"MSPage"},Ae=e("path",{d:"M440.415,583.554 L421.418,571.311 C420.291,570.704 419,570.767 419,572.946 L419,597.054 C419,599.046 420.385,599.36 421.418,598.689 L440.415,586.446 C441.197,585.647 441.197,584.353 440.415,583.554",id:"play","sketch:type":"MSShapeGroup"},null,-1),Ne=[Ae],ee=I({__name:"IconPlay",props:{color:{}},setup(o){return(l,n)=>(d(),c("svg",{style:N({fill:l.color??"#fff"}),viewBox:"-3 0 28 28",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:sketch":"http://www.bohemiancoding.com/sketch/ns"},[e("g",Ee,[e("g",{style:N({fill:l.color??"#fff"}),id:"Icon-Set-Filled","sketch:type":"MSLayerGroup",transform:"translate(-419.000000, -571.000000)"},Ne,4)])],4))}}),xe={viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Te=I({__name:"IconCopy",props:{color:{}},setup(o){return(l,n)=>(d(),c("svg",xe,[e("path",{style:N({fill:l.color??"#fff"}),"fill-rule":"evenodd","clip-rule":"evenodd",d:"M19.5 16.5L19.5 4.5L18.75 3.75H9L8.25 4.5L8.25 7.5L5.25 7.5L4.5 8.25V20.25L5.25 21H15L15.75 20.25V17.25H18.75L19.5 16.5ZM15.75 15.75L15.75 8.25L15 7.5L9.75 7.5V5.25L18 5.25V15.75H15.75ZM6 9L14.25 9L14.25 19.5L6 19.5L6 9Z"},null,4)]))}}),Fe=I({__name:"GameDetailsButtons",props:{gameId:{}},setup(o){const l=o,n=U(),t=ae(),_=()=>{n.push(`/game/${l.gameId}/play/new`)},u=()=>{navigator.clipboard.writeText(window.location.href),t.emit(oe(se.INFO,"Link copied to clipboard!"))};return(r,i)=>(d(),c("div",null,[e("button",{class:"primary",onClick:_},[a(ee,{class:"icon",color:"var(--color-foreground)"}),$(" Play Now! ")]),e("button",{class:"secondary",onClick:u},[a(Te,{class:"icon",color:"var(--color-primary)"}),$(" Share this game ")])]))}}),Ue=S(Fe,[["__scopeId","data-v-0e96cf3f"]]),Oe=o=>(x("data-v-b39d05a6"),o=o(),T(),o),Ze=Oe(()=>e("p",null," Are you sure you want to delete this game? Once deleted all data will be lost. ",-1)),He=I({__name:"DeleteGameConfirmationDialog",props:{open:{type:Boolean}},emits:["close","denied","approved"],setup(o,{emit:l}){const n=l,t=()=>n("denied"),_=()=>n("approved"),u=()=>n("close");return(r,i)=>(d(),z(J,{open:r.open,onClose:u,onDenied:t,onApproved:_},{content:f(()=>[Ze]),_:1},8,["open"]))}}),We=S(He,[["__scopeId","data-v-b39d05a6"]]),K=o=>(x("data-v-679b036f"),o=o(),T(),o),ze=K(()=>e("h2",null,"Change password",-1)),Ke={class:"input-container"},Re=K(()=>e("label",{for:"password"},"Old password",-1)),qe={class:"error"},je={class:"error"},Je={class:"input-container"},Qe=K(()=>e("label",{for:"new-password"},"New password",-1)),Ye={class:"error"},Xe={class:"input-container"},eo=K(()=>e("label",{for:"confirm-new-password"},"Confirm new password",-1)),oo={class:"error"},so={class:"error"},ao="800px",to=I({__name:"ChangePasswordDialog",props:{open:{type:Boolean},gameId:{}},emits:["close","changed"],setup(o,{emit:l}){const n=o,t=l,_=U(),u=m(""),r=m(""),i=m(""),s=m(!1),v=m(!1),h=m(!1),y=m(!1),C=m(!1),k=()=>t("close"),D=async()=>{s.value=u.value.length<3;const L=await ve(n.gameId,u.value);if(v.value=!L,h.value=r.value.length<3,y.value=i.value.length<3,C.value=r.value!==i.value,s.value||h.value||y.value||C.value||v.value)return;await Ce(n.gameId,u.value,r.value)?(t("changed"),k()):_.push("/error?code=2288-"+n.gameId)};return(L,G)=>(d(),z(_e,{open:L.open,onClose:k,maxWidth:ao},{header:f(()=>[ze]),content:f(()=>[e("form",null,[e("div",Ke,[Re,b(e("input",{type:"password",id:"password","onUpdate:modelValue":G[0]||(G[0]=w=>u.value=w),placeholder:"***",class:O({error:s.value}),onKeyup:Z(D,["enter"])},null,34),[[A,u.value]]),b(e("p",qe,' The password must be at least 3 characters long. And, yes, "123" is a valid password. ',512),[[F,s.value]]),b(e("p",je," This is not the currect password :/ . ",512),[[F,v.value]])]),e("div",Je,[Qe,b(e("input",{type:"password",id:"new-password","onUpdate:modelValue":G[1]||(G[1]=w=>r.value=w),placeholder:"***",class:O({error:h.value}),onKeyup:Z(D,["enter"])},null,34),[[A,r.value]]),b(e("p",Ye," The password must be at least 3 characters long. ",512),[[F,s.value]])]),e("div",Xe,[eo,b(e("input",{type:"password",id:"confirm-new-password","onUpdate:modelValue":G[2]||(G[2]=w=>i.value=w),placeholder:"***",class:O({error:y.value||C.value}),onKeyup:Z(D,["enter"])},null,34),[[A,i.value]]),b(e("p",oo," The password must be at least 3 characters long. ",512),[[F,y.value]]),b(e("p",so," The passwords must match. ",512),[[F,!y.value&&C.value]])])])]),footer:f(()=>[e("button",{class:"primary",onClick:D},[a(X,{class:"icon",color:"var(--color-foreground)"}),$(" Save ")])]),_:1},8,["open"]))}}),no=S(to,[["__scopeId","data-v-679b036f"]]),M=o=>(x("data-v-edac4db2"),o=o(),T(),o),lo={key:0,class:"game-container"},ro={id:"name"},io={id:"description"},co={class:"table-view"},uo={class:"table-header"},po=M(()=>e("span",null,"Details",-1)),vo={key:0,class:"table-row"},_o=M(()=>e("span",null,"Name",-1)),mo=["disabled"],ho={key:0,class:"table-row"},fo=M(()=>e("span",null,"Description",-1)),wo=["disabled"],go={key:0,class:"table-row"},yo=M(()=>e("span",null,"Created",-1)),Co={class:"ago"},bo={key:0,class:"table-row"},ko=M(()=>e("span",null,"Last updated",-1)),$o={class:"ago"},Io={class:"table-row"},Mo=M(()=>e("span",null,"Free space",-1)),Do={class:"switch"},Lo=["disabled"],Po=M(()=>e("span",{class:"slider round"},null,-1)),Vo={key:0,class:"table-row"},So=M(()=>e("span",null,"Free space text",-1)),Go=["disabled"],Bo={class:"table-row"},Eo=M(()=>e("span",null,"Grid size",-1)),Ao=["disabled"],No=M(()=>e("option",{value:"3"},"3 by 3 (9 fields)",-1)),xo=M(()=>e("option",{value:"5"},"5 by 5 (25 fields)",-1)),To=[No,xo],Fo={key:0,class:"table-row"},Uo=M(()=>e("span",null,null,-1)),Oo={key:0,class:"table-row"},Zo={class:"buttons-container"},Ho=I({__name:"GameDetails",props:{gameId:{},editMode:{type:Boolean}},emits:["openPasswordValidationDialog","disableEditMode"],setup(o,{emit:l}){const n=o,t=l,_=U(),u=m(!1),r=m(!1),i=he(R,"games",n.gameId),s=q(i,void 0,{autoDispose:!1}),v=()=>t("disableEditMode"),h=async()=>{s.value&&(t("disableEditMode"),await be(s.value))},y=()=>t("openPasswordValidationDialog"),C=()=>u.value=!0,k=()=>u.value=!1,D=()=>r.value=!0,L=()=>r.value=!1,G=async()=>{k(),await ke(n.gameId)?_.push("/"):_.push("/error?code=6969-"+n.gameId)};return(w,P)=>(d(),z(E,{name:"fade",duration:{enter:300,leave:300}},{default:f(()=>[p(s)?(d(),c("div",lo,[a(We,{open:u.value,onApproved:G,onDenied:k,onClose:k},null,8,["open"]),a(no,{open:r.value,gameId:n.gameId,onChanged:L,onClose:L},null,8,["open","gameId"]),e("span",ro,V(p(s).name),1),e("span",io,V(p(s).description),1),a(Ue,{gameId:n.gameId},null,8,["gameId"]),e("div",co,[e("div",uo,[po,w.editMode?g("",!0):(d(),c("button",{key:0,onClick:y,class:"secondary"},[$(" Manage "),a(Y,{class:"icon",color:"var(--color-primary-dark)"})]))]),a(E,{name:"fly-in-top",duration:{enter:300,leave:300}},{default:f(()=>[w.editMode?(d(),c("div",vo,[_o,b(e("input",{"onUpdate:modelValue":P[0]||(P[0]=B=>p(s).name=B),disabled:!w.editMode},null,8,mo),[[A,p(s).name]])])):g("",!0)]),_:1}),a(E,{name:"fly-in-top",duration:{enter:300,leave:300}},{default:f(()=>[w.editMode?(d(),c("div",ho,[fo,b(e("textarea",{"onUpdate:modelValue":P[1]||(P[1]=B=>p(s).description=B),disabled:!w.editMode},null,8,wo),[[A,p(s).description]])])):g("",!0)]),_:1}),a(E,{name:"fly-in-top",duration:{enter:300,leave:300}},{default:f(()=>[w.editMode?g("",!0):(d(),c("div",go,[yo,e("span",Co,[$(V(p(H)(p(s).createdAt))+" ",1),a(W,{class:"clock",color:"var(--color-foreground-darker)"})])]))]),_:1}),a(E,{name:"fly-in-top",duration:{enter:300,leave:300}},{default:f(()=>[w.editMode?g("",!0):(d(),c("div",bo,[ko,e("span",$o,[$(V(p(H)(p(s).updatedAt))+" ",1),a(W,{class:"clock",color:"var(--color-foreground-darker)"})])]))]),_:1}),e("div",Io,[Mo,e("label",Do,[b(e("input",{type:"checkbox","onUpdate:modelValue":P[2]||(P[2]=B=>p(s).hasFreeSpace=B),disabled:!w.editMode},null,8,Lo),[[fe,p(s).hasFreeSpace]]),Po])]),a(E,{name:"fly-in-top",duration:{enter:300,leave:300}},{default:f(()=>[p(s).hasFreeSpace?(d(),c("div",Vo,[So,b(e("input",{"onUpdate:modelValue":P[3]||(P[3]=B=>p(s).freeSpaceText=B),disabled:!w.editMode,placeholder:"(default) Free"},null,8,Go),[[A,p(s).freeSpaceText]])])):g("",!0)]),_:1}),e("div",Bo,[Eo,b(e("select",{"onUpdate:modelValue":P[4]||(P[4]=B=>p(s).gridWidth=B),disabled:!w.editMode},To,8,Ao),[[we,p(s).gridWidth]])]),a(E,{name:"fly-in-top",duration:{enter:300,leave:300}},{default:f(()=>[w.editMode?(d(),c("div",Fo,[Uo,e("button",{onClick:D,id:"change-password"},"Change password...")])):g("",!0)]),_:1}),a(E,{name:"fly-in-top",duration:{enter:300,leave:300}},{default:f(()=>[w.editMode?(d(),c("div",Oo,[e("div",null,[e("button",{class:"primary remove",onClick:C},[a(Q,{class:"icon",color:"var(--color-foreground)"})])]),e("div",Zo,[e("button",{onClick:v,class:"secondary"},[a(te,{class:"icon",style:N({transform:"rotate(45deg)"}),color:"var(--color-primary-dark)"},null,8,["style"]),$(" Cancel ")]),e("button",{onClick:h,class:"primary"},[a(X,{class:"icon",color:"var(--color-foreground)"}),$(" Save ")])])])):g("",!0)]),_:1})])])):g("",!0)]),_:1}))}}),Wo=S(Ho,[["__scopeId","data-v-edac4db2"]]),zo=o=>(x("data-v-20dc56cc"),o=o(),T(),o),Ko=zo(()=>e("p",null," Are you sure you want to delete this entry? Once deleted, it's gone forever. ",-1)),Ro={class:"container"},qo={class:"input-container"},jo=["disabled"],Jo={key:0,type:"submit",class:"primary"},Qo={key:0,class:"updated-container"},Yo=I({__name:"GameEntryItem",props:{entry:{},editMode:{type:Boolean}},setup(o){const l=o,n=async()=>{await $e({...l.entry,value:t.value,id:l.entry.id})},t=m(l.entry.value),_=ge(()=>l.editMode&&t.value!==l.entry.value);ne(()=>l.entry.value,v=>{t.value=v});const u=async()=>{await Ie(l.entry)},r=m(!1),i=()=>r.value=!0,s=()=>r.value=!1;return(v,h)=>(d(),c(j,null,[a(J,{open:r.value,onClose:s,onDenied:s,onApproved:u},{content:f(()=>[Ko]),_:1},8,["open"]),e("div",Ro,[e("div",qo,[e("form",{onSubmit:le(n,["prevent"])},[b(e("input",{size:"1","onUpdate:modelValue":h[0]||(h[0]=y=>t.value=y),type:"text",disabled:!v.editMode},null,8,jo),[[A,t.value]]),a(E,{name:"fade"},{default:f(()=>[_.value?(d(),c("button",Jo,[a(X,{class:"icon",color:"var(--color-foreground)"})])):g("",!0)]),_:1})],32),v.editMode?(d(),c("button",{key:0,onClick:i,class:"primary remove"},[a(Q,{class:"icon",color:"var(--color-foreground)"})])):g("",!0)]),v.editMode?(d(),c("div",Qo,[a(W,{color:"var(--color-foreground-darker)"}),e("span",null,"updated "+V(p(H)(v.entry.updatedAt)),1)])):g("",!0)])],64))}}),Xo=S(Yo,[["__scopeId","data-v-20dc56cc"]]),es=o=>(x("data-v-3f85fef9"),o=o(),T(),o),os={class:"table-view"},ss={class:"table-header"},as={class:"total-count"},ts={key:0,class:"table-row empty"},ns=es(()=>e("span",null,"No entries yet, add one :)",-1)),ls=[ns],ds={key:0,class:"table-row"},rs={type:"submit",class:"primary"},is=I({__name:"GameEntries",props:{gameId:{},editMode:{type:Boolean}},emits:["openPasswordValidationDialog"],setup(o,{emit:l}){const n=o,t=l,_=de(ce(R,"entries"),ie("gameId","==",n.gameId),re("updatedAt","desc")),u=q(_,void 0,{autoDispose:!1}),r=()=>t("openPasswordValidationDialog"),i=m(""),s=async()=>{await Me({gameId:n.gameId,value:i.value,updatedAt:new Date().getTime()}),i.value=""};return(v,h)=>{var y,C;return d(),c("div",os,[e("div",ss,[e("span",null,[$(" What's on the cards ? "),e("span",as," ("+V((y=p(u))==null?void 0:y.length)+") ",1)]),v.editMode?g("",!0):(d(),c("button",{key:0,onClick:r,class:"secondary"},[$(" Manage "),a(Y,{class:"icon",color:"var(--color-primary-dark)"})]))]),((C=p(u))==null?void 0:C.length)===0?(d(),c("div",ts,ls)):g("",!0),a(ue,{name:"fly-in-top"},{default:f(()=>[v.editMode?(d(),c("div",ds,[e("form",{onSubmit:le(s,["prevent"]),class:"add-form"},[b(e("input",{size:"1","onUpdate:modelValue":h[0]||(h[0]=k=>i.value=k),type:"text",placeholder:"Add something new here..."},null,512),[[A,i.value]]),e("button",rs,[a(te,{class:"icon",color:"var(--color-foreground)"})])],32)])):g("",!0),(d(!0),c(j,null,pe(p(u),k=>(d(),c("div",{key:k.id,class:"table-row"},[a(Xo,{entry:k,editMode:v.editMode},null,8,["entry","editMode"])]))),128))]),_:1})])}}}),cs=S(is,[["__scopeId","data-v-3f85fef9"]]),us={class:"container"},ps={class:"info"},vs={class:"time-ago"},_s={class:"buttons"},ms=I({__name:"GameCardsItem",props:{card:{},editMode:{type:Boolean}},setup(o){const l=o,n=U(),t=m(!1),_=()=>{n.push(`/game/${l.card.gameId}/play/${l.card.id}`)},u=()=>{t.value=!1,De(l.card.id)};return(r,i)=>(d(),c("div",us,[e("div",ps,[e("p",null,V(r.card.title),1),e("div",vs,[a(W,{class:"clock",color:"var(--color-foreground-darkest)"}),e("span",null,"created "+V(p(H)(r.card.createdAt)),1)])]),e("div",_s,[e("button",{class:"primary",onClick:_},[$(" Play "),a(ee,{class:"icon",color:"var(--color-foreground)"})]),r.editMode?(d(),c("button",{key:0,class:"primary remove",onClick:i[0]||(i[0]=s=>t.value=!0)},[a(Q,{class:"icon",color:"var(--color-foreground)"})])):g("",!0)]),a(J,{open:t.value,onClose:i[1]||(i[1]=s=>t.value=!1),onDenied:i[2]||(i[2]=s=>t.value=!1),onApproved:u},{content:f(()=>[e("p",null,'Are you sure you want to delete "'+V(r.card.title)+'"?',1)]),_:1},8,["open"])]))}}),hs=S(ms,[["__scopeId","data-v-d5adebb4"]]),fs=o=>(x("data-v-2a2453b6"),o=o(),T(),o),ws={key:0,class:"table-view"},gs={class:"table-header"},ys={class:"total-count"},Cs=fs(()=>e("span",null,null,-1)),bs=I({__name:"GameCards",props:{gameId:{},editMode:{type:Boolean}},emits:["openPasswordValidationDialog"],setup(o,{emit:l}){const n=o,t=l,_=U(),u=de(ce(R,"cards"),ie("gameId","==",n.gameId),re("createdAt","desc")),r=q(u,void 0,{autoDispose:!1}),i=()=>t("openPasswordValidationDialog");return(s,v)=>{var h,y;return(h=p(r))!=null&&h.length?(d(),c("div",ws,[e("div",gs,[e("span",null,[$(" Active cards "),e("span",ys," ("+V((y=p(r))==null?void 0:y.length)+") ",1)]),s.editMode?g("",!0):(d(),c("button",{key:0,onClick:i,class:"secondary"},[$(" Manage "),a(Y,{class:"icon",color:"var(--color-primary-dark)"})]))]),a(ue,{name:"fly-in-top"},{default:f(()=>[(d(!0),c(j,null,pe(p(r),C=>(d(),c("div",{key:C.id,class:"table-row"},[a(hs,{card:C,editMode:n.editMode},null,8,["card","editMode"])]))),128))]),_:1}),e("div",null,[Cs,e("button",{class:"primary",onClick:v[0]||(v[0]=C=>p(_).push(`/game/${s.gameId}/play/new`)),style:N({marginRight:"var(--gap-small)"})},[$(" Create a new card "),a(ee,{class:"icon",color:"var(--color-foreground)"})],4)])])):g("",!0)}}}),ks=S(bs,[["__scopeId","data-v-2a2453b6"]]),me=o=>(x("data-v-e94779fd"),o=o(),T(),o),$s=me(()=>e("h2",null,"Enter password",-1)),Is=["disabled"],Ms={key:0,class:"error"},Ds=me(()=>e("p",null,"You will only need to enter the password once per day!",-1)),Ls=["disabled"],Ps=I({__name:"PasswordValidationDialog",props:{open:{type:Boolean},gameId:{}},emits:["close","validated"],setup(o,{emit:l}){const n=o,t=l,_=()=>t("close"),u=m("500px"),r=m(!1),i=m(""),s=m(!1),v=m(!1),h=m(null),y=ae(),C=async()=>{s.value=!1,await ve(n.gameId,i.value)?(y.emit(oe(se.INFO,"Password validated successfully! I will cache it for a while, cause I kinda like you 😉")),Le(n.gameId,i.value),i.value="",s.value=!1,t("validated"),t("close")):s.value=!0};return ne(()=>n.open,k=>{k?Pe(n.gameId).then(D=>{D?(t("validated"),t("close")):(r.value=!0,i.value="",s.value=!1,setTimeout(()=>{var L;(L=h.value)==null||L.focus()},200))}):r.value=!1}),(k,D)=>(d(),z(_e,{open:r.value,onClose:_,maxWidth:u.value},{header:f(()=>[$s]),content:f(()=>[b(e("input",{class:O({error:s.value}),"onUpdate:modelValue":D[0]||(D[0]=L=>i.value=L),type:"password",placeholder:"secret-123",disabled:v.value,onKeyup:Z(C,["enter"]),ref_key:"passwordInput",ref:h},null,42,Is),[[A,i.value]]),s.value?(d(),c("p",Ms,"Password is incorrect")):g("",!0),Ds]),footer:f(()=>[e("button",{class:"primary",onClick:C,disabled:v.value}," Proceed ",8,Ls)]),_:1},8,["open","maxWidth"]))}}),Vs=S(Ps,[["__scopeId","data-v-e94779fd"]]),Ss={id:"container"},Gs={class:"entries-n-cards"},Bs=I({__name:"GameView",setup(o){const n=ye().params.gameId;let t;typeof n=="string"?t=n:t=n[0];const _=m(!1),u=m(!1),r=()=>_.value=!0,i=()=>_.value=!1,s=()=>u.value=!0;return(v,h)=>(d(),c("div",Ss,[a(Wo,{gameId:p(t),editMode:u.value,onOpenPasswordValidationDialog:r,onDisableEditMode:h[0]||(h[0]=y=>u.value=!1)},null,8,["gameId","editMode"]),e("div",Gs,[a(cs,{gameId:p(t),editMode:u.value,onOpenPasswordValidationDialog:r},null,8,["gameId","editMode"]),a(ks,{gameId:p(t),editMode:u.value,onOpenPasswordValidationDialog:r},null,8,["gameId","editMode"])]),a(Vs,{open:_.value,gameId:p(t),onValidated:s,onClose:i},null,8,["open","gameId"])]))}}),Ts=S(Bs,[["__scopeId","data-v-71573885"]]);export{Ts as default};
